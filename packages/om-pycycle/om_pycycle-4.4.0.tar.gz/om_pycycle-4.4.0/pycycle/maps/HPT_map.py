import numpy as np

from pycycle.maps.map_data import MapData


HPTMap = MapData()


# Map design point values
HPTMap.defaults = {}
HPTMap.defaults['alphaMap'] = 1.0
HPTMap.defaults['NpMap'] = 100.0
HPTMap.defaults['PRmap'] = 6.0
#effMapDes = 0.9276   # = effMap for no scaling

HPTMap.alphaMap = np.array([1.0, 2.0])
HPTMap.NpMap = np.array([60., 70.0, 80.0, 90.0, 100., 110.])
HPTMap.PRmap = np.array([ 3.00, 3.25, 3.5, 3.75, 4.0, 4.25, 4.5, 4.75, 5.0, 5.25, 5.5, 5.75, 6.0, 6.25, 6.5, 6.75, 7.0, 7.25, 7.5, 8.0])

HPTMap.effMap = np.array([[[0.8449, 0.8394, 0.8358, 0.8330, 0.8306, 0.8285, 0.8242, 0.8201, 0.8163, 0.8128, 0.8094, 0.8063, 0.8026, 0.7992, 0.7959, 0.7928, 0.7899, 0.7872, 0.7846, 0.7798],
                    [0.8801, 0.8767, 0.8743, 0.8723, 0.8698, 0.8659, 0.8622, 0.8589, 0.8557, 0.8520, 0.8480, 0.8443, 0.8408, 0.8376, 0.8345, 0.8316, 0.8288, 0.8262, 0.8233, 0.8178],
                    [0.9032, 0.9013, 0.8997, 0.8982, 0.8950, 0.8920, 0.8892, 0.8866, 0.8823, 0.8784, 0.8747, 0.8713, 0.8680, 0.8650, 0.8621, 0.8589, 0.8557, 0.8527, 0.8499, 0.8446],
                    [0.9177, 0.9165, 0.9155, 0.9140, 0.9118, 0.9097, 0.9077, 0.9041, 0.9002, 0.8966, 0.8933, 0.8901, 0.8871, 0.8840, 0.8806, 0.8774, 0.8743, 0.8714, 0.8687, 0.8635],
                    [0.9253, 0.9248, 0.9244, 0.9235, 0.9222, 0.9210, 0.9191, 0.9154, 0.9120, 0.9087, 0.9057, 0.9028, 0.8998, 0.8963, 0.8931, 0.8900, 0.8871, 0.8843, 0.8816, 0.8767],
                    [0.9277, 0.9279, 0.9280, 0.9279, 0.9275, 0.9271, 0.9252, 0.9220, 0.9189, 0.9160, 0.9133, 0.9107, 0.9074, 0.9042, 0.9011, 0.8982, 0.8954, 0.8927, 0.8902, 0.8854]],
                    [[0.3574, 0.3442, 0.3330, 0.3234, 0.3151, 0.3077, 0.3011, 0.2952, 0.2899, 0.2851, 0.2807, 0.2766, 0.2729, 0.2694, 0.2662, 0.2633, 0.2605, 0.2578, 0.2554, 0.2509],
                    [0.3561, 0.3431, 0.3321, 0.3226, 0.3143, 0.3070, 0.3005, 0.2946, 0.2894, 0.2846, 0.2802, 0.2762, 0.2725, 0.2690, 0.2659, 0.2629, 0.2601, 0.2575, 0.2551, 0.2506],
                    [0.3542, 0.3415, 0.3307, 0.3213, 0.3132, 0.3059, 0.2995, 0.2938, 0.2885, 0.2838, 0.2795, 0.2755, 0.2718, 0.2684, 0.2653, 0.2623, 0.2596, 0.2570, 0.2546, 0.2501],
                    [0.3519, 0.3395, 0.3289, 0.3197, 0.3117, 0.3046, 0.2983, 0.2926, 0.2875, 0.2828, 0.2785, 0.2746, 0.2710, 0.2676, 0.2645, 0.2616, 0.2589, 0.2563, 0.2539, 0.2495],
                    [0.3491, 0.3371, 0.3268, 0.3178, 0.3100, 0.3031, 0.2969, 0.2913, 0.2862, 0.2816, 0.2774, 0.2735, 0.2700, 0.2667, 0.2636, 0.2607, 0.2580, 0.2555, 0.2531, 0.2487],
                    [0.3459, 0.3343, 0.3243, 0.3156, 0.3080, 0.3012, 0.2952, 0.2897, 0.2848, 0.2802, 0.2761, 0.2723, 0.2688, 0.2655, 0.2625, 0.2597, 0.2570, 0.2545, 0.2522, 0.2479]]])

HPTMap.WpMap = np.array([[[10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144, 10.144],
                    [10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145, 10.145],
                    [10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146, 10.146],
                    [10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147, 10.147],
                    [10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148, 10.148],
                    [10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149, 10.149]],
                    [[13.466, 13.594, 13.700, 13.790, 13.867, 13.934, 13.993, 14.045, 14.092, 14.134, 14.172, 14.206, 14.238, 14.267, 14.294, 14.319, 14.342, 14.363, 14.384, 14.420],
                    [13.280, 13.393, 13.488, 13.568, 13.637, 13.696, 13.749, 13.796, 13.838, 13.875, 13.909, 13.941, 13.969, 13.995, 14.020, 14.042, 14.063, 14.083, 14.101, 14.134],
                    [13.341, 13.442, 13.526, 13.597, 13.658, 13.711, 13.758, 13.800, 13.837, 13.871, 13.901, 13.929, 13.955, 13.978, 14.000, 14.020, 14.039, 14.056, 14.073, 14.103],
                    [13.580, 13.669, 13.744, 13.808, 13.862, 13.910, 13.952, 13.989, 14.022, 14.052, 14.079, 14.104, 14.127, 14.148, 14.167, 14.185, 14.202, 14.217, 14.232, 14.259],
                    [13.947, 14.027, 14.094, 14.151, 14.200, 14.242, 14.279, 14.313, 14.342, 14.369, 14.393, 14.415, 14.436, 14.454, 14.472, 14.488, 14.503, 14.517, 14.530, 14.553],
                    [14.409, 14.481, 14.541, 14.591, 14.635, 14.673, 14.706, 14.736, 14.763, 14.786, 14.808, 14.828, 14.846, 14.863, 14.878, 14.892, 14.906, 14.918, 14.930, 14.951]]])

#HPTMap.Np_data, HPTMap.alpha_data, HPTMap.PR_data = np.meshgrid(HPTMap.Nc_vals, HPTMap.alpha_vals, HPTMap.PR_vals, sparse=False)
HPTMap.Npts = HPTMap.NpMap.size

HPTMap.units = {}
HPTMap.units['NpMap'] = 'rpm'
HPTMap.units['WpMap'] = 'lbm/s'

# format for new regular grid interpolator:

HPTMap.param_data = []
HPTMap.output_data = []

HPTMap.param_data.append({'name': 'alphaMap', 'values': HPTMap.alphaMap,
                          'default': 1, 'units': None})
HPTMap.param_data.append({'name': 'NpMap', 'values': HPTMap.NpMap,
                          'default': 100.0, 'units': 'rpm'})
HPTMap.param_data.append({'name': 'PRmap', 'values': HPTMap.PRmap,
                          'default': 6.0, 'units': None})

HPTMap.output_data.append({'name': 'WpMap', 'values': HPTMap.WpMap,
                           'default': np.mean(HPTMap.WpMap), 'units': 'lbm/s'})
HPTMap.output_data.append({'name': 'effMap', 'values': HPTMap.effMap,
                           'default': np.mean(HPTMap.effMap), 'units': None})
