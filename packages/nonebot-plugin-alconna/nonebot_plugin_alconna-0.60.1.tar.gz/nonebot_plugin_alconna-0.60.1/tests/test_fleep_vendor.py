def test_fleep():
    from nonebot_plugin_alconna.uniseg.utils.fleep import get

    raw_png = b"\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x00\x01\x00\x00\x00\x01\x08\x02\x00\x00\x00\x90wS\xde\x00\x00\x00\x0cIDAT\x08\x99c```\x00\x00\x00\x04\x00\x01\x1d\x00\x00\x00\x00IEND\xaeB`\x82"  # noqa: E501
    raw_jpeg = b"\xff\xd8\xff\xe0\x00\x10JFIF\x00\x01\x01\x01\x00`\x00`\x00\x00\xff\xdb\x00C\x00\x02\x01\x01\x02\x01\x01\x02\x02\x02\x02\x02\x02\x02\x02\x03\x05\x03\x03\x03\x03\x03\x06\x04\x04\x03\x05\x07\x06\x07\x07\x07\x06\x07\x07\x08\t\x0b\t\x08\x08\n\x08\x07\x07\t\x0c\x0f\x0c\x0c\x0b\x0f\x0b\x07\x08\x0e\x0f\x0d\x0e\x0c\x0d\x0d\x0d\x0e\xff\xdb\x00C\xff\xd9"  # noqa: E501
    raw_gif = b"GIF89a\x01\x00\x01\x00\x80\x01\x00\x00\x00\x00ccc\x00\x00\x00\x00\x00\x00!\xf9\x04\x01\x00\x00\x00\x00,\x00\x00\x00\x00\x01\x00\x01\x00\x00\x02\x02D\x01\x00;"  # noqa: E501

    assert get(raw_png).mimes == ["image/png"]
    assert get(raw_jpeg).mimes == ["image/jpeg"]
    assert get(raw_gif).mimes == ["image/gif"]
