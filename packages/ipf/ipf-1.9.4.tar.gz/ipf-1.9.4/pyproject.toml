[build-system]
requires = [ "setuptools >= 80", "setuptools-scm >= 8.3", ]
build-backend = "setuptools.build_meta:__legacy__"
# __legacy__ enables access to function in the local package
# see also https://setuptools-git-versioning.readthedocs.io/en/stable/options/version_callback.html

[project]
name = "ipf"
requires-python = ">=3.6"
dependencies = [
  "amqp >=1.4",
  "lupa",
  "python-dateutil",
]
dynamic = [
  "version",
  "readme",
]
description = "ACCESS Information Publishing Framework"
license-files = ["LICEN[CS]E*"]
classifiers = [
  "Development Status :: 5 - Production/Stable",
  "Programming Language :: Python :: 3",
  "Topic :: System :: Monitoring",
]
keywords = [
  "monitoring",
  "information",
  "gathering",
  "publishing",
  "glue2",
]
authors = [
  {name = "Eric Blau", email = "blau@globus.org"},
  {name = "Warren Smith"},
]

[project.urls]
Repository = "https://github.com/access-ci-org/ipf"

[tool.setuptools.dynamic]
readme = {file = ["README.pypi"], content-type = "text/markdown"}

[tool.setuptools_scm]
version_file = "ipf/_version.py"
version_scheme = "ipf.build_helper:mk_version"
local_scheme = "no-local-version"  # local version component not allowed on pypi
