[build-system]
requires = ["setuptools>=75", "wheel", "Cython>=3.0"]
build-backend = "setuptools.build_meta"

[project]
name = "heapcy"
version = "0.2.1"
description = "Cython-accelerated heap utilities"
authors = [
  { name = "Roberto Di Rosa", email = "dirosa.2043388@studenti.uniroma1.it" },
]
readme = "README.md"
license = { file = "LICENSE" }

classifiers = [
  "License :: OSI Approved :: GNU Lesser General Public License v3 or later (LGPLv3+)",
  "Programming Language :: Python :: 3",
  "Programming Language :: Python :: Implementation :: CPython",
  "Operating System :: OS Independent",
]
requires-python = ">=3.8"

[project.urls]
Homepage = "https://github.com/BobTheBot988/MAYA-Password-Benchmarking-cstruct"
Issues = "https://github.com/BobTheBot988/MAYA-Password-Benchmarking-cstruct/issues"

[tool.setuptools]
packages = ["heapcy"] # if you have a package layout
include-package-data = true
ext-modules = [
  # package-as-extension (if your code is heapcy/__init__.pyx):
  { name = "heapcy", sources = ["heapcy/__init__.pyx"] },

  # OR submodule (if you use heapcy/_heapcy.pyx):
  # { name = "heapcy._heapcy", sources = ["heapcy/_heapcy.pyx"] }
]

[tool.setuptools.package-data]
heapcy = ["__init__.pyi", "py.typed"]

# (Optional) Wheels across platforms via cibuildwheel
[tool.cibuildwheel.windows]
archs = ["AMD64"]

[tool.cibuildwheel.macos]
archs = ["x86_64", "arm64"]

[tool.cibuildwheel.linux]
archs = ["auto64"]

[tool.cibuildwheel]
build-frontend = "pip"
skip = "*-musllinux*"
environment = { CFLAGS = "-O3" }
