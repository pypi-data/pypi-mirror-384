import{d as G,r as V,O as x,cf as f,$ as l,cj as r,ae as b,c as C,b as s,a as H,u as P,h as q,e as W,w as a,bq as X,o as c,b5 as d,t as m,j as B,aW as I,l as L,F as N,g as D,k as F,b1 as S,V as M,f as Y}from"./index-BhOyEZK_.js";import{V as J}from"./VTextField-Sp-MxMBq.js";import{V as $}from"./VBtn-BOIOydWK.js";import{a as R}from"./VInput-CthlhD7f.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Z={class:"filters-container"},Q={class:"d-flex ga-2 filter-buttons"},ee=G({__name:"ProviderFilters",props:{showStageFilter:{type:Boolean,default:!1}},emits:["update:search","update:types","update:stages"],setup(U,{emit:j}){const g=Y(),i=X(),v=V(""),n=V([]),u=V([]);let h=null,y=null,_=null;const O=x(()=>[{title:l("settings.musicprovider"),value:f.MUSIC},{title:l("settings.playerprovider"),value:f.PLAYER},{title:l("settings.metadataprovider"),value:f.METADATA},{title:l("settings.pluginprovider"),value:f.PLUGIN}]),w=x(()=>[{title:l("settings.stage.options.stable"),value:r.STABLE},{title:l("settings.stage.options.beta"),value:r.BETA},{title:l("settings.stage.options.alpha"),value:r.ALPHA},{title:l("settings.stage.options.experimental"),value:r.EXPERIMENTAL},{title:l("settings.stage.options.unmaintained"),value:r.UNMAINTAINED},{title:l("settings.stage.options.deprecated"),value:r.DEPRECATED}]),k=j,A=function(t){const e=n.value.indexOf(t);e>-1?n.value.splice(e,1):n.value.push(t)},E=function(t){const e=u.value.indexOf(t);e>-1?u.value.splice(e,1):u.value.push(t)},z=function(){if(i.query.search&&(v.value=i.query.search),i.query.types){const t=i.query.types;n.value=t.split(",")}if(i.query.stages){const t=i.query.stages;u.value=t.split(",")}};return b(v,t=>{k("update:search",t),h&&clearTimeout(h),h=setTimeout(()=>{const e={...i.query};t?e.search=t:delete e.search,g.replace({query:e})},750)}),b(n,t=>{k("update:types",t),y&&clearTimeout(y),y=setTimeout(()=>{const e={...i.query};t.length>0?e.types=t.join(","):delete e.types,g.replace({query:e})},750)},{deep:!0}),b(u,t=>{k("update:stages",t),_&&clearTimeout(_),_=setTimeout(()=>{const e={...i.query};t.length>0?e.stages=t.join(","):delete e.stages,g.replace({query:e})},750)},{deep:!0}),z(),(t,e)=>(c(),C("div",Z,[s(J,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=o=>v.value=o),"prepend-inner-icon":"mdi-magnify",label:P(l)("search"),variant:"outlined",density:"compact",clearable:"","hide-details":"",class:"search-field"},null,8,["modelValue","label"]),H("div",Q,[s($,{height:"40",elevation:"0"},{default:a(()=>[d(m(P(l)("sort.provider"))+" ",1),s(B,{end:""},{default:a(()=>[...e[1]||(e[1]=[d("mdi-chevron-down",-1)])]),_:1}),s(I,{activator:"parent","close-on-content-click":!1},{default:a(()=>[s(L,null,{default:a(()=>[(c(!0),C(N,null,D(O.value,(o,p)=>(c(),q(M,{key:p,value:p,onClick:T=>A(o.value)},{append:a(()=>[s(R,{"model-value":n.value.includes(o.value),onClick:S(T=>A(o.value),["stop"])},null,8,["model-value","onClick"])]),default:a(()=>[s(F,null,{default:a(()=>[d(m(o.title),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1})]),_:1}),U.showStageFilter?(c(),q($,{key:0,height:"40",elevation:"0"},{default:a(()=>[d(m(P(l)("settings.stage.label"))+" ",1),s(B,{end:""},{default:a(()=>[...e[2]||(e[2]=[d("mdi-chevron-down",-1)])]),_:1}),s(I,{activator:"parent","close-on-content-click":!1},{default:a(()=>[s(L,null,{default:a(()=>[(c(!0),C(N,null,D(w.value,(o,p)=>(c(),q(M,{key:p,value:p,onClick:T=>E(o.value)},{append:a(()=>[s(R,{"model-value":u.value.includes(o.value),onClick:S(T=>E(o.value),["stop"])},null,8,["model-value","onClick"])]),default:a(()=>[s(F,null,{default:a(()=>[d(m(o.title),1)]),_:2},1024)]),_:2},1032,["value","onClick"]))),128))]),_:1})]),_:1})]),_:1})):W("",!0)])]))}}),ie=K(ee,[["__scopeId","data-v-6527ad9f"]]);export{ie as P};
