<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <data>
    <record id="view_form_partner_email_change_wizard_contract_group" model="ir.ui.view">
      <field name="name">Partner Email Change Wizard with Contract Group</field>
      <field name="inherit_id" ref="somconnexio.view_form_partner_email_change_wizard"/>
      <field name="model">partner.email.change.wizard</field>
      <field name="arch" type="xml">
        <field name="partner_id" position="before">
          <field name="available_contract_group_ids" invisible="1"/>
        </field>
        <field name="change_contracts_emails" position="after">
          <field name="change_contract_group" attrs="{'invisible': [('change_contracts_emails', '!=', 'yes')]}"/>
        </field>
        <group name="contracts" position="after">
          <group name="contract_group" string="Contract Group"  attrs="{'invisible': [('change_contract_group', '=', False)]}">
            <p colspan="2">Keep this field empty to create a new contract group.</p>
            <field name="contract_group_id" options="{'no_create_edit':True}" domain="[('id', 'in', available_contract_group_ids)]" context="{'search_default_active': 1}"/>
          </group>
        </group>
      </field>
    </record>
  </data>
</odoo>
