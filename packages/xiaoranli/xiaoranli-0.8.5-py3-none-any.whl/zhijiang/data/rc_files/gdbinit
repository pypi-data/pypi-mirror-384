set print demangle on
# enhance pretty-print to print stl value
python
import sys
sys.path.insert(0, '/usr/share/gcc/python')
from libstdcxx.v6.printers import register_libstdcxx_printers
register_libstdcxx_printers (None)
end

set verbose on
set pagination off
set print pretty on
# 打印数组小标
set print array-indexes on
set confirm off
# 打印真正的子类, 而非声明时使用的基类类型
set print object on
#不显示线程启动/退出信息
set print thread-events off
# 1. catch symbol loading at ~/.cache/gdb to save loading time later
set index-cache on
# 2. no load so symbols autotally, instead using sharedlibrary xx to load manually
# set auto-solib-add off
# 3. enable py-bt commands in gdb, so user can get python stack info
# source /usr/share/gdb/auto-load/usr/bin/python3.8-gdb.py
# 4. let vscode to know how to map source files path
# set substitute-path /build/path /current/src-code/path
shell echo -e "\033[31m zhijiang, finish to init gdb, `date -u +%Y-%m-%d\ %H:%M:%S` \033[0;39m"
