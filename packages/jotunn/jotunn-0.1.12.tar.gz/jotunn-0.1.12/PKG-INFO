Metadata-Version: 2.4
Name: jotunn
Version: 0.1.12
Summary: A petabyte scale data processing framework for AI models using Ray.
Author-email: Teraflop AI <enrico@teraflop.ai>
Classifier: Typing :: Typed
Classifier: Intended Audience :: Developers
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE.txt
Requires-Dist: daft
Requires-Dist: google-re2>=1.1.20250805
Requires-Dist: loguru>=0.7.3
Requires-Dist: matplotlib>=3.10.6
Requires-Dist: memray>=1.18.0
Requires-Dist: open-clip-torch>=3.2.0
Requires-Dist: pysimdjson>=7.0.2
Requires-Dist: rapidfuzz>=3.14.1
Requires-Dist: ray[data]>=2.47.1
Requires-Dist: transformers>=4.53.3
Requires-Dist: usearch>=2.21.0
Requires-Dist: xxhash>=3.5.0
Provides-Extra: text
Requires-Dist: trafilatura>=2.0.0; extra == "text"
Requires-Dist: chonkie>=1.1.0; extra == "text"
Requires-Dist: sentence-transformers>=5.0.0; extra == "text"
Requires-Dist: vllm>=0.9.2; extra == "text"
Provides-Extra: audio
Requires-Dist: librosa>=0.11.0; extra == "audio"
Requires-Dist: silero-vad>=5.1.2; extra == "audio"
Requires-Dist: soundfile>=0.13.1; extra == "audio"
Provides-Extra: video
Requires-Dist: av>=15.1.0; extra == "video"
Requires-Dist: scenedetect>=0.6.6; extra == "video"
Requires-Dist: video-reader-rs>=0.2.10; extra == "video"
Provides-Extra: image
Requires-Dist: easyocr>=1.7.2; extra == "image"
Requires-Dist: exifread>=3.5.1; extra == "image"
Requires-Dist: imagehash>=4.3.2; extra == "image"
Requires-Dist: opencv-python>=4.12.0.88; extra == "image"
Requires-Dist: pillow-simd>=9.5.0.post2; extra == "image"
Requires-Dist: scikit-image>=0.25.2; extra == "image"
Requires-Dist: simple-aesthetics-predictor>=0.1.2; extra == "image"
Requires-Dist: vllm>=0.9.2; extra == "image"
Provides-Extra: anyscale
Requires-Dist: anyscale>=0.26.58; extra == "anyscale"
Provides-Extra: all
Requires-Dist: jotunn[anyscale,audio,image,text,video]; extra == "all"
Dynamic: license-file

# Jotunn

A petabyte scale data processing framework for AI models using Daft + Ray.

This framework is still under active development and breaking changes may be introduced.

## Installation
```python
uv pip install jotunn
```
Install specific multimodal components
```python
# Image
uv pip install jotunn[image]

# Text
uv pip install jotunn[text]

# Video
uv pip install jotunn[video]

# Audio
uv pip install jotunn[audio]

# Everything
uv pip install jotunn[all]
```

## Community
[Join our Discord community](https://discord.gg/Fh4DfwQGhd)

## Examples

A variety of examples can be found [here](https://github.com/teraflop-ai/jotunn/tree/main/examples).

## Coverage

Qwen Image
- Stage 1
    - [x] Image Resizing
    - [x] Broken File Filter - Daft returns null if can not decode image
    - [x] File Size Filter
    - [x] Resolution Filter
    - [x] Deduplication Filter - requires using the [Frigg](https://github.com/teraflop-ai/frigg) library
    - [x] NSFW Filter
- Stage 2
    - [x] Rotation Filter
    - [x] Clarity Filter
    - [x] Luma Filter
    - [x] Saturation Filter
    - [x] Entropy Filter
    - [] Texture Filter - It is unclear to me what is used for this.
- Stage 3
    - [x] Raw Caption Split - requires the [Frigg](https://github.com/teraflop-ai/frigg) library.
    - [x] Recaption Split - requires the [Frigg](https://github.com/teraflop-ai/frigg) library.
    - [x] Fused Caption Split - requires the [Frigg](https://github.com/teraflop-ai/frigg) library.
    - [x] CLIP and SIGLIP Filter
    - [x] Token Length Filter
    - [x] Invalid Caption Filter
- Stage 4
    - [] Synthetic Text Rendering
    - [x] Intensive Text Filter
    - [] Small Character Filter
    - [] Image Categorization and Tagging
- Stage 5
    - [x] Image Quality Filter - It is unclear whether this is a combination of different heuristics. 
    - [x] Resolution Filter - Same as Stage 1.
    - [x] Aesthetic Filter - Should be improved through a community effort.
    - [] Abnormal Element Filter - Needs to be trained but the data is being collected.
- Stage 6
    - [] Face Mosaic Filter
    - [] Image Categorization and Tagging
    - [x] Synthetic Captioning
- Stage 7
    - [x] Resolution Filter - Same as Stage 1.
    - [] Image Categorization and Tagging 

## Citation
```bibtex
@misc{shippole2025jotunn,
    title   = {Jotunn: Distributed Multimodal Data Processing at Petabyte Scale},
    author  = {Enrico Shippole},
    year    = {2025},
}
```
