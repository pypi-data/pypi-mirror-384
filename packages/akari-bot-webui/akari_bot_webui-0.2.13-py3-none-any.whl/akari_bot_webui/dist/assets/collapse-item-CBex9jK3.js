import{au as j,at as M,aY as z,T,aH as A,aw as S,ag as y,af as G,j as K,z as W,Z as w,p as d,G as L,bn as k,aG as U,ah as X,X as V,h as E,c as D,o as g,a4 as _,n as f,a2 as e,ap as Y,aE as Z,m as q,bo as J,a as h,e as P,d as Q,t as R,w as $,i as ee,a5 as se,a3 as ae,K as te,aO as oe,A as le,B as ne,ba as ie,az as ce,a8 as re}from"./index-B83Nj5wy.js";import{f as x}from"./select-DWPJjTK6.js";const B=a=>j(a)||M(a)||z(a),de=T({accordion:Boolean,modelValue:{type:y([Array,String,Number]),default:()=>G([])},expandIconPosition:{type:y([String]),default:"right"},beforeCollapse:{type:y(Function)}}),ue={[S]:B,[A]:B},O=Symbol("collapseContextKey"),pe="ElCollapse",me=(a,n)=>{const t=K(x(a.modelValue)),i=o=>{t.value=o;const l=a.accordion?t.value[0]:t.value;n(S,l),n(A,l)},s=o=>{if(a.accordion)i([t.value[0]===o?"":o]);else{const l=[...t.value],r=l.indexOf(o);r>-1?l.splice(r,1):l.push(o),i(l)}},c=async o=>{const{beforeCollapse:l}=a;if(!l){s(o);return}const r=l(o);[k(r),U(r)].includes(!0)||X(pe,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),k(r)?r.then(p=>{p!==!1&&s(o)}).catch(p=>{}):r&&s(o)};return W(()=>a.modelValue,()=>t.value=x(a.modelValue),{deep:!0}),L(O,{activeNames:t,handleItemClick:c}),{activeNames:t,setActiveNames:i}},fe=a=>{const n=w("collapse");return{rootKls:d(()=>[n.b(),n.b(`icon-position-${a.expandIconPosition}`)])}},ve=E({name:"ElCollapse"}),Ce=E({...ve,props:de,emits:ue,setup(a,{expose:n,emit:t}){const i=a,{activeNames:s,setActiveNames:c}=me(i,t),{rootKls:o}=fe(i);return n({activeNames:s,setActiveNames:c}),(l,r)=>(g(),D("div",{class:f(e(o))},[_(l.$slots,"default")],2))}});var be=V(Ce,[["__file","collapse.vue"]]);const he=T({title:{type:String,default:""},name:{type:y([String,Number]),default:void 0},icon:{type:Z,default:Y},disabled:Boolean}),ye=a=>{const n=q(O),{namespace:t}=w("collapse"),i=K(!1),s=K(!1),c=J(),o=d(()=>c.current++),l=d(()=>{var u;return(u=a.name)!=null?u:`${t.value}-id-${c.prefix}-${e(o)}`}),r=d(()=>n?.activeNames.value.includes(e(l)));return{focusing:i,id:o,isActive:r,handleFocus:()=>{setTimeout(()=>{s.value?s.value=!1:i.value=!0},50)},handleHeaderClick:u=>{if(a.disabled)return;const m=u.target;m?.closest("input, textarea, select")||(n?.handleItemClick(e(l)),i.value=!1,s.value=!0)},handleEnterClick:u=>{const m=u.target;m?.closest("input, textarea, select")||(u.preventDefault(),n?.handleItemClick(e(l)))}}},_e=(a,{focusing:n,isActive:t,id:i})=>{const s=w("collapse"),c=d(()=>[s.b("item"),s.is("active",e(t)),s.is("disabled",a.disabled)]),o=d(()=>[s.be("item","header"),s.is("active",e(t)),{focusing:e(n)&&!a.disabled}]),l=d(()=>[s.be("item","arrow"),s.is("active",e(t))]),r=d(()=>[s.be("item","title")]),C=d(()=>s.be("item","wrap")),p=d(()=>s.be("item","content")),b=d(()=>s.b(`content-${e(i)}`)),u=d(()=>s.b(`head-${e(i)}`));return{itemTitleKls:r,arrowKls:l,headKls:o,rootKls:c,itemWrapperKls:C,itemContentKls:p,scopedContentId:b,scopedHeadId:u}},Ee=E({name:"ElCollapseItem"}),Ie=E({...Ee,props:he,setup(a,{expose:n}){const t=a,{focusing:i,id:s,isActive:c,handleFocus:o,handleHeaderClick:l,handleEnterClick:r}=ye(t),{arrowKls:C,headKls:p,rootKls:b,itemTitleKls:u,itemWrapperKls:m,itemContentKls:H,scopedContentId:I,scopedHeadId:N}=_e(t,{focusing:i,isActive:c,id:s});return n({isActive:c}),(v,Ke)=>(g(),D("div",{class:f(e(b))},[h("div",{id:e(N),class:f(e(p)),"aria-expanded":e(c),"aria-controls":e(I),"aria-describedby":e(I),tabindex:v.disabled?-1:0,role:"button",onClick:e(l),onKeydown:te(oe(e(r),["stop"]),["space","enter"]),onFocus:e(o),onBlur:ge=>i.value=!1},[h("span",{class:f(e(u))},[_(v.$slots,"title",{isActive:e(c)},()=>[Q(R(v.title),1)])],2),_(v.$slots,"icon",{isActive:e(c)},()=>[P(e(ae),{class:f(e(C))},{default:$(()=>[(g(),ee(se(v.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),P(e(ie),null,{default:$(()=>[le(h("div",{id:e(I),role:"region",class:f(e(m)),"aria-hidden":!e(c),"aria-labelledby":e(N)},[h("div",{class:f(e(H))},[_(v.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[ne,e(c)]])]),_:3})],2))}});var F=V(Ie,[["__file","collapse-item.vue"]]);const ke=re(be,{CollapseItem:F}),Pe=ce(F);export{Pe as E,ke as a};
