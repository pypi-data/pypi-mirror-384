{% extends "base.html" %}

{% block title %}Home - dbbasic-web{% endblock %}

{% block content %}
<section>
    <h2>Welcome to dbbasic-web</h2>
    <p>A Unix-philosophy micro-framework with:</p>
    <ul>
        <li>Filesystem-based routing (no route tables)</li>
        <li>TSV-based storage and job queues (no Redis/SQL required)</li>
        <li>Built-in WebSockets and Server-Sent Events</li>
        <li>Background jobs with dbbasic-queue</li>
        <li>Message bus with dbbasic-pipe</li>
        <li>Flat-file storage alongside databases</li>
    </ul>

    <h3>Try it out:</h3>
    <ul>
        <li><a href="/hello?name=World">Simple API: /hello?name=World</a></li>
        <li><a href="/user">REST API: /user</a></li>
        <li><a href="/user/123">REST API: /user/123</a></li>
        <li><a href="/user/123/posts">REST API: /user/123/posts</a></li>
        <li><a href="/sse/counter">Server-Sent Events: /sse/counter</a></li>
    </ul>

    <h3>WebSocket Test:</h3>
    <div id="ws-test">
        <button onclick="connectWebSocket()">Connect WebSocket</button>
        <button onclick="sendMessage()">Send Message</button>
        <button onclick="disconnectWebSocket()">Disconnect</button>
        <div id="ws-messages"></div>
    </div>

    <h3>SSE Test:</h3>
    <div id="sse-test">
        <button onclick="connectSSE()">Connect SSE</button>
        <button onclick="disconnectSSE()">Disconnect</button>
        <div id="sse-messages"></div>
    </div>
</section>
{% endblock %}
