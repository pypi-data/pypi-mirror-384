{
    "title": "Automagic",
    "description": "Automatically extract and structure information from data records using AI-generated schemas and custom instructions.",
    "type": "object",
    "schemaVersion": 1,
    "properties": {
        "dataset": {
            "title": "Dataset",
            "type": "string",
            "description": "Dataset containing the data records to process. Either an Apify dataset ID or a URL to a parquet file.",
            "editor": "textfield"
        },
        "model": {
            "title": "LLM Model",
            "type": "string",
            "description": "The LLM provider and model to be used for data processing. Format: provider/model (e.g., 'openai/gpt-4', 'anthropic/claude-3-sonnet')",
            "editor": "textfield",
            "default": "openai/gpt-3.5-turbo",
            "pattern": "^[\\w\\.-]+/[\\w\\.-]+$"
        },
        "schema_model": {
            "title": "Schema Generation Model",
            "type": "string",
            "description": "The LLM provider and model to be used specifically for generating the JSON schema. Format: provider/model (e.g., 'openai/gpt-4.1', 'anthropic/claude-3-sonnet')",
            "editor": "textfield",
            "default": "openai/gpt-4.1",
            "pattern": "^[\\w\\.-]+/[\\w\\.-]+$"
        },
        "attrs": {
            "title": "Record Attributes",
            "type": "array",
            "description": "List of record attributes/columns to use for processing. If null, all attributes are used. This allows focusing on specific fields in your data.",
            "editor": "stringList"
        },
        "instructions": {
            "title": "Processing Instructions",
            "type": "string",
            "description": "Detailed instructions describing what information to extract and how to process the data records. This guides both the schema generation and data processing.",
            "editor": "textarea"
        },
        "response_schema": {
            "title": "Response Schema Instructions",
            "type": "string",
            "description": "Optional specific instructions for generating the response model/schema. If not provided, the schema will be auto-generated from the main processing instructions. Use this to provide additional constraints or formatting requirements for the output structure.",
            "editor": "textarea"
        },
        "record_format": {
            "title": "Record Format",
            "type": "string",
            "description": "Format of the record data in the prompt sent to the AI model.",
            "editor": "select",
            "enum": [
                "json",
                "md",
                "text"
            ],
            "default": "text"
        }
    },
    "required": [
        "dataset",
        "instructions"
    ]
}