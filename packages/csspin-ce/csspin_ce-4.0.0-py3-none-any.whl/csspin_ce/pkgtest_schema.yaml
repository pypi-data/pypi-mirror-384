# -*- mode: yaml; coding: utf-8 -*-
#
# Schema for the pkgtest plugin for csspin

pkgtest:
    type: object
    help: |
        The pkgtest plugin for csspin provides a wrapper around the pkgtest CLI
        tool, for validating the built wheels. The plugin helps a lot for
        dealing with the quite complex CLI of pkgtest.
    properties:
        additional_packages:
            type: list
            help: |
                List of additional packages that shall be installed into the
                pkgtest venv.
        opts:
            type: list
            help: List of additional options for the pkgtest command.
        caddok_package_server_index_url:
            type: str
            help: |
                URL of the index from where the packages for the pkgtest venv
                shall be installed.
        caddok_package_server:
            type: str
            help: DNS Name of the package server.
        dbms:
            type: str
            help: The DBMS that pkgtest should use.
        name:
            type: str
            help: |
                Name of the package under test. Defaults to
                '{spin.project_name}'.
        package:
            type: str
            help: The package under test. May be a glob.
        tests:
            type: str
            help: behave testsuite to run during pkgtest.
        test_command:
            type: str
            help: Custom test command to run during pkgtest.
