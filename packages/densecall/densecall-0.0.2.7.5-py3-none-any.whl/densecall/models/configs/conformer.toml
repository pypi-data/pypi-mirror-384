name = "model"

[model]
package = "densecall.conformer"

[general]
norm = "layer"
activation = "gelu"
warmup_steps = 500 
optimizer = "muon"
wd = 0.01

[feature_extractor]
conv_dim = [128, 128]
conv_kernel = [10, 3]
conv_stride_pretrain = [2, 2]
conv_stride_finetune = [2, 2]

[encoder]
hybrid = false
layer = "conformer"
feed_forward_residual_factor = 0.5
n_heads = 4
num_blocks = 6
dropout = 0.1
embed_size = 256
expansion_factor = 4
conv_embeding = false
stride = 4
fast = true
reduce_layer_index = 3
inter_ctc_index = [2]
use_quantizer = true 
attn_type = "flashattn"
pre_norm = true



[criterion]
loss = "focal"
use_smoothed_loss = false


[basecaller]
chunksize = 12000
overlap = 600
batchsize = 32
quantize = 1
alphabet = 'NACGT'


[qscore]
bias = 0.0
scale = 1.0