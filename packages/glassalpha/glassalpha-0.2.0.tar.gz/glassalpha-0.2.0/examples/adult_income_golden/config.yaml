# Adult Income Dataset Audit Configuration (Simplified)
# This configuration demonstrates a complete ML audit pipeline for income prediction
# using the Adult Income dataset with fairness and bias analysis focused on protected attributes.

# =============================================================================
# MODEL CONFIGURATION
# =============================================================================

model:
  # Model type - triggers XGBoostWrapper directly
  type: "xgboost"

  # Additional model parameters (will be used to create a new model)
  params:
    max_depth: 6
    learning_rate: 0.1
    n_estimators: 100
    objective: "binary:logistic"
    eval_metric: "logloss"
    random_state: 42

# =============================================================================
# DATA CONFIGURATION
# =============================================================================

data:
  # Dataset key for built-in datasets
  dataset: "adult_income"

  # Target column for prediction
  target_column: "income_over_50k"

  # Protected attributes for fairness analysis
  protected_attributes:
    - "sex"
    - "race"
    - "age_group"

# =============================================================================
# EXPLAINER CONFIGURATION
# =============================================================================

explainers:
  # Strategy for selecting explainers
  strategy: "first_compatible"

  # Priority order - first compatible explainer will be selected
  priority:
    - "treeshap"
    - "coefficients"

  # Explainer-specific configuration
  config:
    treeshap:
      max_samples: 1000
      check_additivity: true

# =============================================================================
# METRICS CONFIGURATION
# =============================================================================

metrics:
  # Performance metrics for model evaluation
  performance:
    metrics:
      - "accuracy"
      - "precision"
      - "recall"
      - "f1"
      - "auc_roc"

  # Fairness metrics for bias detection (focus on income prediction fairness)
  fairness:
    metrics:
      - "demographic_parity"
      - "equal_opportunity"
      - "equalized_odds"
      - "predictive_parity"

  # Enable confidence intervals
  compute_confidence_intervals: true
  n_bootstrap: 1000

# =============================================================================
# REPRODUCIBILITY CONFIGURATION
# =============================================================================

# Master random seed for all randomness sources
random_seed: 42

# Enforce strict determinism controls (thread control, advanced seeding)
strict: true

# Control thread counts for deterministic parallel processing
thread_control: true

# =============================================================================
# REPORT CONFIGURATION
# =============================================================================

report:
  # Output format (HTML for examples, PDF for production)
  output_format: "html"

  # Output path for the generated report
  output_path: "audit_report.html"

  # Report sections to include
  include_sections:
    - "executive_summary"
    - "data_overview"
    - "model_performance"
    - "global_explanations"
    - "local_explanations"
    - "fairness_analysis"
    - "audit_manifest"

# =============================================================================
# PREPROCESSING CONFIGURATION
# =============================================================================

# =============================================================================
# RUNTIME CONFIGURATION
# =============================================================================

runtime:
  # Fast mode reduces bootstrap samples for quicker demo (reduces accuracy)
  fast_mode: false

preprocessing:
  # Mode for preprocessing
  mode: "auto"
