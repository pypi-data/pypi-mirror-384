"""
(Unofficial) SAD to XSuite Converter

Global Variables and Functions
"""

################################################################################
# Section Heading Function
################################################################################
def print_section_heading(heading, mode = 'section'):
    """
    Prints a section heading with a specific format.
    Args:
        heading (str): The title of the section.
        mode (str): The mode of the heading, either 'section', 'subsection' or 'subsubsection'.
    """
    if mode == 'section':
        print("\n" + "#" * 80 + "\n" + heading + "\n" + "#" * 80)
    elif mode == 'subsection':
        print("\n" + "#" * 60 + "\n" + heading + "\n" + "#" * 60)
    elif mode == 'subsubsection':
        print("\n" + "#" * 40 + "\n" + heading + "\n" + "#" * 40)
    else:
        raise ValueError("Invalid mode. Use 'section', 'subsection' or 'subsubsection'.")

################################################################################
# ASCII Art
################################################################################
ASCII_LOGO          = """
################################################################################
················································································
········###############···············###············##################·········
·····###···············###·········###···###·········###···············###······
·····###························###·········###······###···············###······
········###############······###···············###···###···············###······
·······················###···#####################···###···············###······
·····###···············###···###···············###···###···············###······
········###############······###···············###···##################·········
················································································
································###############·································
·····························###···············###······························
···············································###······························
································###############·································
·····························###················································
·····························###················································
·····························#####################······························
················································································
··················###···············###······###############····················
·····················###·········###······###···············###·················
························###···###·········###···································
···························###···············###############····················
························###···###···························###·················
·····················###·········###······###···············###·················
··················###···············###······###############····················
················································································
################################################################################
# SAD2XS: The Unnofficial Sad to Xsuite Converter
################################################################################
"""

################################################################################
# Allowed SAD element Types
################################################################################
SAD_ALLOWED_ELEMENTS    = {
    'drift',
    'bend', 'quad', 'sext', 'oct', 'mult', 'sol',
    'cavi', 'apert', 'coord',
    'mark', 'moni', 'beambeam'}

################################################################################
# Coordinate Transform Conventions
################################################################################
COORD_SIGNS = {
    'dx':         +1,
    'dy':         +1,
    'chi1':       -1,
    'chi2':       +1,
    'chi3':       -1}

################################################################################
# Coordinate Transformation Tolerances
################################################################################
TRANSFORM_SHIFT_TOL     = 1E-12
TRANSFORM_ROT_TOL       = 1E-12

################################################################################
# KNL, KSL array order
################################################################################
MAX_KNL_ORDER           = 25

################################################################################
# N_KICKS_INTEGRATOR
################################################################################
N_INTEGRATOR_KICKS      = 5

################################################################################
# N_KICKS_INTEGRATOR
################################################################################
N_MULTIPOLE_KICKS_SOL   = 100

################################################################################
# Output Writer Constants
################################################################################
OUTPUT_STRING_SEP       = 24
OUTPUT_STRING_LENGTH    = 80
ALLOWED_ELEMENTS    = [
    "Marker", "Drift",
    "Bend", "Quadrupole", "Sextupole", "Octupole", "Multipole", "Solenoid",
    "Cavity", "XYShift", "ZetaShift", "XRotation", "YRotation", "SRotation"]

################################################################################
# Marker Insertion Tolerance
################################################################################
MARKER_INSERTION_TOLERANCE = 1E-9