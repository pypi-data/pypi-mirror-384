{
  "definitions": {},
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Storage integration.",
  "description": "VALUE: Definition of the storage integration with required and optional parameters. \n KEY: String that specifies the identifier (i.e. name) for the integration; must be unique in the account and inline with the naming convention for storage integrations. \n -------- \n Naming Convention: \n STI_<Name_Of_Integration> ",
  "additionalProperties": false,
  "required": [
    "type",
    "enabled",
    "storage_provider",
    "storage_allowed_locations"
  ],
  "optional": [
    "storage_blocked_locations",
    "comment",
    "grants",
    "tags"
  ],
  "if": {
    "properties": {
      "storage_provider": { "const": "AZURE" }
    }
  },
  "then": { "required": ["azure_tenant_id"] },
  "else":{"not":{"required": ["azure_tenant_id"]}}
  ,
  "properties": {
    "type": {
      "type": "string",
      "title": "Required parameter \n -> Specifies the type of integration.",
      "description": "EXTERNAL_STAGE: Creates an interface between Snowflake and an external cloud storage location. \n -------- \n Snowflake Documentation 2023_03_01 \n https://docs.snowflake.com/en/sql-reference/sql/create-storage-integration"
    },
    "enabled": {
      "type": "boolean",
      "title": "Required parameter \n -> Specifies whether this storage integration is available for usage in stages.",
      "description": "TRUE allows users to create new stages that reference this integration. Existing stages that reference this integration function normally. \n FALSE prevents users from creating new stages that reference this integration. Existing stages that reference this integration cannot access the storage location in the stage definition. \n -------- \n Snowflake Documentation 2023_03_01 \n https://docs.snowflake.com/en/sql-reference/sql/create-storage-integration"
    },
    "storage_provider": {
      "type": "string",
      "title": "Required parameter \n -> Specifies the cloud storage provider that stores your data files.",
      "description": "EXTERNAL_STAGE: Creates an interface between Snowflake and an external cloud storage location. \n -------- \n Snowflake Documentation 2023_03_01 \n https://docs.snowflake.com/en/sql-reference/sql/create-storage-integration"
    },
    "storage_allowed_locations": {
      "type": "array",
      "uniqueItems": true,
      "title": "Required parameter \n -> Explicitly limits external stages that use the integration to reference one or more storage locations.",
      "description": "Supports the * wildcard, meaning “allow access to all buckets and/or paths”. \n Note that if the STORAGE_ALLOWED_LOCATIONS value includes a specific storage location, all subpaths in the same location must be allowed. No subpath can be included in a STORAGE_BLOCKED_LOCATIONS value. \n -------- \n Snowflake Documentation 2023_03_01 \n https://docs.snowflake.com/en/sql-reference/sql/create-storage-integration"
    },
    "azure_tenant_id": {
      "type": "string",
      "title": "Required parameter for storage_provider = 'AZURE' \n -> Specifies the ID for your Office 365 tenant that the allowed and blocked storage accounts belong to.",
      "description": "A storage integration can authenticate to only one tenant, and so the allowed and blocked storage locations must refer to storage accounts that all belong this tenant. \n To find your tenant ID, log into the Azure portal and click Azure Active Directory » Properties. The tenant ID is displayed in the Tenant ID field. \n -------- \n Snowflake Documentation 2023_03_01 \n https://docs.snowflake.com/en/sql-reference/sql/create-storage-integration"
    },
    "storage_blocked_locations": {
      "type": "array",
      "uniqueItems": true,
      "title": "Optional parameter \n -> Explicitly prohibits external stages that use the integration from referencing one or more storage locations.",
      "description": "Commonly used when STORAGE_ALLOWED_LOCATIONS is set to the * wildcard, allowing access to all buckets in your account except for blocked storage locations and, optionally, paths. \n -------- \n Snowflake Documentation 2023_03_01 \n https://docs.snowflake.com/en/sql-reference/sql/create-storage-integration"
    },
    "comment": {
      "type": "string",
      "title": "Optional parameter \n -> String (literal) that specifies a comment for the integration.",
      "description": " \n -------- \n Snowflake Documentation 2023_03_01 \n https://docs.snowflake.com/en/sql-reference/sql/create-storage-integration"
    },
    "grants": {
      "type": "object",
      "title": "Optional parameter \n -> Defines access privileges on the storage integration.",
      "additionalProperties": false,
      "optional": [
        "usage"
      ],
      "properties": {
        "usage": {
          "type": "array",
          "uniqueItems": true,
          "title": "List of roles that get the usage-privilege on the storage integration."
        }
      }
    },
    "tags": {
      "type": "object",
      "title": "Storage Integration categorization by tags."
    }
  }
}