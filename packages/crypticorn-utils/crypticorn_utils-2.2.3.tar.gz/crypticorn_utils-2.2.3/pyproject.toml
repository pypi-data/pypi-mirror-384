[project]
name = "crypticorn_utils"
description = "Shared utilities for the Crypticorn APIs"
readme = "README.md"
license = "MIT"
requires-python = ">=3.11"
authors = [{name = "Crypticorn", email = "timon@crypticorn.com"}]
version = "2.2.3"
dynamic = ["dependencies", "optional-dependencies"]

classifiers = [
    "Topic :: Scientific/Engineering",
    "Development Status :: 4 - Beta",
    "Intended Audience :: Developers",
    "Operating System :: OS Independent",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.13",
    "Typing :: Typed",
]

[tool.setuptools.packages.find]
where = ["."]
include = ["crypticorn_utils*"]

[tool.setuptools.dynamic]
dependencies = { file = ["requirements/main.txt"] }
optional-dependencies.dev = { file = ["requirements/dev.txt"] }

[tool.setuptools.package-data]
"crypticorn_utils" = ["py.typed"]

[tool.semantic_release]
version_toml = ["pyproject.toml:project.version:nf",] # https://python-semantic-release.readthedocs.io/en/latest/configuration.html#version-toml
commit_message = "Python Release v{version}\n\nAutomatically generated by python-semantic-release" # https://python-semantic-release.readthedocs.io/en/latest/configuration.html#commit-message
build_command = "pip install build && python -m build" # https://python-semantic-release.readthedocs.io/en/latest/configuration.html#build-command

# https://python-semantic-release.readthedocs.io/en/latest/configuration.html#exclude-commit-patterns
#[tool.semantic_release.changelog.exclude_commit_patterns]
# Potentially exclude commit patterns from the changelog

# [tool.semantic_release.changelog]
# mode = "update"
# insertion_flag = "<!-- changelog-insertion -->"

# [tool.semantic_release.changelog.default_templates]
# changelog_file = "CHANGELOG.md"

# https://python-semantic-release.readthedocs.io/en/latest/concepts/multibranch_releases.html#multibranch-releases
[tool.semantic_release.branches.v0]
match = "v0"
prerelease = false

[tool.semantic_release.branches.v0-dev]
match = "v0-dev"
prerelease = true
prerelease_token = "rc"

[tool.semantic_release.branches.v1-dev]
match = "v1-dev"
prerelease = true
prerelease_token = "rc"

[tool.semantic_release.branches.v1]
match = "v1"
prerelease = false

[tool.semantic_release.branches.v2-dev]
match = "v2-dev"
prerelease = true
prerelease_token = "rc"

[tool.semantic_release.branches.v2]
match = "v2"
prerelease = false

[project.urls]
Changelog = "https://github.com/crypticorn-ai/util-libraries/releases"

[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"
