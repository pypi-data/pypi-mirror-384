import{_ as N,j as r,u as A,r as s,c as n,o,w as l,d as I,a as i,g as c,b as m,n as _,f as S,F as j,h as F,t as y,A as U}from"./index-B5gNOk1p.js";import{u as $}from"./loading-yltfngwl.js";const q={class:"text-h6 my-4 d-flex align-center"},D={__name:"ListView",setup(P){const u=r([]),p=r(0),d=r(1),x=A(),{isLoading:v}=$(),a=r({isOpen:!1,text:"",color:"error",icon:"mdi-warning"});async function g(f){try{const t=await U.ecosystem.list({page:f});t.data.results&&(u.value=t.data.results,p.value=t.data.total_pages,d.value=t.data.page,a.value.isOpen=!1)}catch(t){Object.assign(a.value,{isOpen:!0,text:t.toString()})}}return g(),(f,t)=>{const b=s("v-btn"),V=s("v-alert"),k=s("v-progress-linear"),h=s("v-list-item-title"),O=s("v-list-item-subtitle"),w=s("v-list-item"),C=s("v-list"),L=s("v-pagination"),B=s("v-empty-state"),E=s("v-container");return o(),n(E,null,{default:l(()=>[I("h1",q,[t[3]||(t[3]=m(" Ecosystems ",-1)),i(b,{class:"ml-auto",color:"secondary","prepend-icon":"mdi-plus",text:"Add",variant:"flat",onClick:t[0]||(t[0]=e=>_(x).$patch({isOpen:!0}))})]),i(V,{modelValue:a.value.isOpen,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value.isOpen=e),text:a.value.text,icon:a.value.icon,color:a.value.color,density:"compact",class:"mb-6"},null,8,["modelValue","text","icon","color"]),_(v)?(o(),n(k,{key:0,color:"primary",indeterminate:""})):c("",!0),i(C,{class:"pa-0"},{default:l(()=>[(o(!0),S(j,null,F(u.value,e=>(o(),n(w,{key:e.name,to:{name:"ecosystems",query:{ecosystem:e.name}},class:"py-2 pr-3 pl-2 border",height:"73"},{default:l(()=>[i(h,{class:"v-card-title text-subtitle-2"},{default:l(()=>[m(y(e.title||e.name),1)]),_:2},1024),e.description?(o(),n(O,{key:0,class:"v-card-subtitle pb-1"},{default:l(()=>[m(y(e.description),1)]),_:2},1024)):c("",!0)]),_:2},1032,["to"]))),128))]),_:1}),p.value?(o(),n(L,{key:1,value:d.value,length:p.value,class:"mt-2",color:"primary",density:"comfortable","onUpdate:modelValue":t[2]||(t[2]=e=>g(e))},null,8,["value","length"])):c("",!0),!_(v)&&u.value.length===0?(o(),n(B,{key:2,title:"Create an ecosytem to start gathering data"})):c("",!0)]),_:1})}}},G=N(D,[["__scopeId","data-v-d4f84397"]]);export{G as default};
