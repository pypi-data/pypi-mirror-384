import{_ as x,r,c as V,o as C,w as o,a as e,b as w,u as E}from"./index-B5gNOk1p.js";import{g as b}from"./datasources-B0x4KOZU.js";const O={name:"EcosystemModal",emits:["update:isOpen","update:ecosystem"],inject:["createEcosystem"],props:{isOpen:{type:Boolean,default:!1}},data(){return{form:{title:"",name:"",description:""},errors:{}}},methods:{async onCreate(){try{const l=await this.createEcosystem(this.form);l.status===201&&(this.store.$patch({isOpen:!1}),this.$emit("update:ecosystem"),this.$router.push({name:"ecosystems",query:{ecosystem:l.data.name}}))}catch(l){this.errors=l.response.data}}},setup(){return{store:E(),generateSlug:b}}};function k(l,t,p,a,s,u){const _=r("v-card-title"),c=r("v-text-field"),m=r("v-col"),i=r("v-row"),f=r("v-textarea"),v=r("v-card-text"),y=r("v-spacer"),d=r("v-btn"),h=r("v-card"),g=r("v-dialog");return C(),V(g,{"model-value":p.isOpen,"max-width":"500","onUpdate:modelValue":t[5]||(t[5]=n=>a.store.$patch({isOpen:n}))},{default:o(()=>[e(h,{class:"pa-3"},{actions:o(()=>[e(y),e(d,{text:"Cancel",variant:"text",onClick:t[4]||(t[4]=n=>a.store.$patch({isOpen:!1}))}),e(d,{color:"primary",text:"Save",variant:"flat",onClick:u.onCreate},null,8,["onClick"])]),default:o(()=>[e(_,{class:"headline"},{default:o(()=>t[6]||(t[6]=[w(" Create ecosystem ",-1)])),_:1,__:[6]}),e(v,null,{default:o(()=>[e(i,{dense:""},{default:o(()=>[e(m,null,{default:o(()=>[e(c,{modelValue:s.form.title,"onUpdate:modelValue":t[0]||(t[0]=n=>s.form.title=n),"error-messages":s.errors.title,color:"primary",label:"Ecosystem title",placeholder:"Ecosystem Title","hide-details":"","persistent-placeholder":"",required:"",onChange:t[1]||(t[1]=n=>a.generateSlug(s.form.title,l.$refs.slug))},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(i,null,{default:o(()=>[e(m,null,{default:o(()=>[e(c,{modelValue:s.form.name,"onUpdate:modelValue":t[2]||(t[2]=n=>s.form.name=n),"error-messages":s.errors.name,color:"primary",label:"Ecosystem name",placeholder:"ecosystem-name",hint:"Can contain alphanumeric characters or hyphens. It must start with a letter and cannot end with a hyphen.","persistent-hint":"","persistent-placeholder":"",required:"",ref:"slug"},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(i,null,{default:o(()=>[e(m,null,{default:o(()=>[e(f,{modelValue:s.form.description,"onUpdate:modelValue":t[3]||(t[3]=n=>s.form.description=n),"error-messages":s.errors.description,color:"primary",label:"Ecosystem description",rows:"2",placeholder:"","persistent-hint":"","persistent-placeholder":"",required:""},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}const U=x(O,[["render",k]]);export{U as default};
