[project]
name = "el-loom-api-client"
version = "0.3.0"
requires-python = ">=3.12"
readme = "README.md"
license = "MIT"

dependencies = [
    "httpx>=0.28.1",
    "pydantic>=2.11.7",
    "numpy",
    "matplotlib",
    "pydantic-settings>=2.10.1",
]

[dependency-groups]
# nb-clean is used to clean up notebooks before committing or on-demand
# See:
#  - https://github.com/srstevenson/nb-clean
#  - https://opencomputinglab.github.io/educational-jupyter-notebook-qa-automation/nb-cleaning.html
dev = [
    "fastapi>=0.116.1",
    "ipykernel>=6.29.5",
    "nb-clean==4.0.1",
    "pytest>=8.4.1",
    "pytest-dependency>=0.6.0",
    "pytest-env>=1.1.5",
    "ruff>=0.12.3",
]

# Build configuration
[build-system]
requires = ["uv_build>=0.7.19,<0.8.0"]
build-backend = "uv_build"

[tool.uv.build-backend]
source-exclude = [
    # Exclude tests directory
    "**/tests",
    "**/tests/**",
]

[tool.pytest.ini_options]
log_cli = true
log_cli_level = "INFO"
log_cli_format = "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
log_cli_date_format = "%Y-%m-%d %H:%M:%S"
addopts = [
    "--log-disable=httpcore.http11",
    "--log-disable=httpcore.connection",
]
