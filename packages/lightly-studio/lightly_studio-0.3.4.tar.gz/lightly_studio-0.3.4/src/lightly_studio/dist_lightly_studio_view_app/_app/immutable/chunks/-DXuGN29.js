import{F as R,G as b,H as D,I as F,J as U,K as x,L,M as O,N,O as C,P as E,Q as H,U as M,R as P,S as Y,T as q,V as w,n as I,W as z,X as G,Y as J,m as K,g as Q,v as V,z as W}from"./Frwd2CjB.js";function Z(e,s,n=!1){b&&D();var a=e,r=null,t=null,i=M,k=n?F:0,o=!1;const S=(l,u=!0)=>{o=!0,g(u,l)};var f=null;function p(){f!==null&&(f.lastChild.remove(),a.before(f),f=null);var l=i?r:t,u=i?t:r;l&&Y(l),u&&q(u,()=>{i?t=null:r=null})}const g=(l,u)=>{if(i===(i=l))return;let m=!1;if(b){const A=U(a)===x;!!i===A&&(a=L(),O(a),N(!1),m=!0)}var h=P(),_=a;if(h&&(f=document.createDocumentFragment(),f.append(_=C())),i?r??(r=u&&E(()=>u(_))):t??(t=u&&E(()=>u(_))),h){var d=H,y=i?r:t,T=i?t:r;y&&d.skipped_effects.delete(y),T&&d.skipped_effects.add(T),d.add_callback(p)}else p();m&&N(!0)};R(()=>{o=!1,s(S),o||g(null,null)},k),b&&(a=w)}let c=!1,v=Symbol();function $(e,s,n){const a=n[s]??(n[s]={store:null,source:z(void 0),unsubscribe:I});if(a.store!==e&&!(v in n))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=I;else{var r=!0;a.unsubscribe=G(e,t=>{r?a.source.v=t:J(a.source,t)}),r=!1}return e&&v in n?K(e):Q(a.source)}function j(e,s){return e.set(s),s}function B(){const e={};function s(){V(()=>{for(var n in e)e[n].unsubscribe();W(e,v,{enumerable:!1,value:!0})})}return[e,s]}function ee(){c=!0}function ae(e){var s=c;try{return c=!1,[e(),c]}finally{c=s}}export{B as a,j as b,ae as c,Z as i,ee as m,$ as s};
