import{m as u,w as e,o as w,q as n}from"./Frwd2CjB.js";import{c as h}from"./DzX_yyqb.js";import{u as L}from"./qIv1kPyv.js";const o=e(new Set);function _(f){const{dataset_id:r,kind:i}=f,{tags:l}=L(),c=e(!1),d=e(null),s=e(!1),g=()=>{u(s)||(s.set(!0),h.GET("/api/datasets/{dataset_id}/tags",{params:{path:{dataset_id:r}}}).then(t=>{t.data&&l.set(t.data)}).catch(t=>{d.set(t)}).finally(()=>{s.set(!1)}))};!u(c)&&r&&(g(),c.set(!0));const m=w(l,t=>{const a=t??[];return i?a.filter(T=>i.includes(T.kind)):a}),S=t=>{o.update(a=>(a.has(t)?a.delete(t):a.add(t),new Set([...a])))},p=()=>{o.set(new Set)};return{tags:n(m),loadTags:g,tagsSelected:n(o),tagSelectionToggle:S,clearTagsSelected:p,isLoading:n(s),error:d}}export{_ as u};
