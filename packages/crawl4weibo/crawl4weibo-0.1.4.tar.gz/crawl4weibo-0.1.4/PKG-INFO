Metadata-Version: 2.4
Name: crawl4weibo
Version: 0.1.4
Summary: A professional Weibo crawler library
Author-email: Kritoooo <krito2023@gmail.com>
License: MIT
Project-URL: Homepage, https://github.com/Kritoooo/crawl4weibo
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: requests>=2.25.0
Requires-Dist: lxml>=4.6.0
Requires-Dist: tqdm>=4.60.0
Requires-Dist: python-dateutil>=2.8.0
Provides-Extra: dev
Requires-Dist: pytest>=6.0; extra == "dev"
Requires-Dist: pytest-cov; extra == "dev"
Requires-Dist: black; extra == "dev"
Requires-Dist: isort; extra == "dev"
Requires-Dist: flake8; extra == "dev"
Dynamic: license-file

# Crawl4Weibo

ä¸€ä¸ªå¼€ç®±å³ç”¨çš„å¾®åšçˆ¬è™«Pythonåº“ï¼ŒåŸºäºå®é™…æµ‹è¯•æˆåŠŸçš„æ–¹æ¡ˆï¼Œæ— éœ€Cookieå³å¯ä½¿ç”¨ã€‚

## ç‰¹æ€§

- ğŸš€ **å¼€ç®±å³ç”¨**: æ— éœ€Cookieï¼Œä¸€è¡Œä»£ç åˆå§‹åŒ–
- ğŸ›¡ï¸ **é˜²åçˆ¬**: è‡ªåŠ¨å¤„ç†432é”™è¯¯å’Œè¯·æ±‚é™åˆ¶  
- ğŸ“± **çœŸå®æ¨¡æ‹Ÿ**: ä½¿ç”¨çœŸå®æ‰‹æœºæµè§ˆå™¨UA
- ğŸ”„ **æ™ºèƒ½é‡è¯•**: è‡ªåŠ¨é‡è¯•æœºåˆ¶
- ğŸ“Š **ç»“æ„åŒ–æ•°æ®**: æ¸…æ™°çš„æ•°æ®æ¨¡å‹

## å®‰è£…

```bash
pip install crawl4weibo
```

## å¿«é€Ÿå¼€å§‹

```python
from crawl4weibo import WeiboClient

# åˆå§‹åŒ–ï¼ˆæ— éœ€Cookieï¼‰
client = WeiboClient()
test_uid = "2656274875"

# è·å–ç”¨æˆ·ä¿¡æ¯
user = client.get_user_by_uid(test_uid)
print(f"ç”¨æˆ·å: {user.screen_name}")
print(f"ç²‰ä¸æ•°: {user.followers_count}")
print(f"å¾®åšæ•°: {user.posts_count}")

# è·å–å¾®åš
posts_page1 = client.get_user_posts(test_uid, page=1)
posts_page2 = client.get_user_posts(test_uid, page=2)
posts = (posts_page1 or []) + (posts_page2 or [])
print(f"è·å–åˆ° {len(posts)} æ¡å¾®åš")
for i, post in enumerate(posts[:3], 1):
    print(f"  {i}. {post.text[:50]}...")
    print(f"     ç‚¹èµ: {post.attitudes_count} | è¯„è®º: {post.comments_count}")

# æ ¹æ®å¾®åšIDè·å–å•æ¡å¾®åš
post = client.get_post_by_bid("Q6FyDtbQc")
print(f"å¾®åšå†…å®¹: {post.text[:50]}")
# print(f"å‘å¸ƒæ—¶é—´: {post.created_at}")
# print(f"å›¾ç‰‡æ•°é‡: {len(post.pic_urls)}")

# æœç´¢ç”¨æˆ·
users = client.search_users("æ–°æµª")
for user in users:
    print(f"  - {user.screen_name} (ç²‰ä¸: {user.followers_count})")
        
# æœç´¢å¾®åš
posts = client.search_posts("äººå·¥æ™ºèƒ½", page=1)
for post in posts:
    print(f"  - {post.text[:50]}...")
```

## APIå‚è€ƒ

### WeiboClient

#### åˆå§‹åŒ–
```python
WeiboClient(cookies=None, log_level="INFO", log_file=None)
```

#### ä¸»è¦æ–¹æ³•

- `get_user_by_uid(uid)` - è·å–ç”¨æˆ·ä¿¡æ¯
- `get_user_posts(uid, page=1)` - è·å–ç”¨æˆ·å¾®åš
- `get_post_by_bid(bid)` - æ ¹æ®å¾®åšIDè·å–å•æ¡å¾®åš
- `search_users(query, page=1, count=10)` - æœç´¢ç”¨æˆ·
- `search_posts(query, page=1)` - æœç´¢å¾®åš

## è¿è¡Œç¤ºä¾‹

```bash
python examples/simple_example.py
```

## æŠ€æœ¯å®ç°

åŸºäºä½ æä¾›çš„æˆåŠŸä»£ç å®ç°ï¼š

```python
# æ ¸å¿ƒæŠ€æœ¯æ ˆ
- Android Chrome UAæ¨¡æ‹Ÿ
- ç§»åŠ¨ç«¯APIæ¥å£
- è‡ªåŠ¨sessionç®¡ç†  
- 432é”™è¯¯æ™ºèƒ½é‡è¯•
- éšæœºè¯·æ±‚é—´éš”
```

## è®¸å¯è¯

MIT License
