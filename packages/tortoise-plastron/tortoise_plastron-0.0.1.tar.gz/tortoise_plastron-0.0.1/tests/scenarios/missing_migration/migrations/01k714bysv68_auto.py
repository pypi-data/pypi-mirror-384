# Generated by Plastron 0.0.1 on 2025-10-10T00:00:00+00:00
from tortoise import fields

from plastron import operations as op

revision = "01k714bysv68"
down_revision = None

upgrade_operations = [
    op.CreateTable(
        "plastron",
        fields=[
            (
                "id",
                fields.IntField(
                    unique=True, primary_key=True, db_index=True, generated=True
                ),
            ),
            ("revision", fields.CharField(max_length=255, unique=True)),
            ("applied_at", fields.DatetimeField(auto_now=False, auto_now_add=True)),
        ],
        unique_together=[],
    ),
    op.CreateTable(
        "profile",
        fields=[
            (
                "profile_id",
                fields.IntField(
                    unique=True, primary_key=True, db_index=True, generated=True
                ),
            ),
            ("full_name", fields.CharField(max_length=256, null=True, db_index=True)),
            ("city", fields.CharField(max_length=256)),
            ("password", fields.CharField(max_length=100)),
        ],
        unique_together=[["full_name", "city"]],
    ),
    op.AddIndex("profile", columns=["city"]),
    op.AddIndex("profile", columns=["full_name", "city"]),
    op.CreateTable(
        "user",
        fields=[
            (
                "id",
                fields.IntField(
                    unique=True, primary_key=True, db_index=True, generated=True
                ),
            ),
            ("email", fields.CharField(max_length=256, unique=True, db_index=True)),
            ("age", fields.IntField()),
            ("revenue", fields.DecimalField(max_digits=6, decimal_places=4, null=True)),
            ("created_at", fields.DatetimeField(auto_now=True, auto_now_add=False)),
        ],
        unique_together=[],
    ),
]

downgrade_operations = [
    op.DropTable("user"),
    op.DropIndex("profile", columns=["full_name", "city"]),
    op.DropIndex("profile", columns=["city"]),
    op.DropTable("profile"),
    op.DropTable("plastron"),
]
