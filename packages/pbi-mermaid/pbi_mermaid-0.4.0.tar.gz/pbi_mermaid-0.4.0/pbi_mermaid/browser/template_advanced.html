<!doctype html>
<html lang="en">

<body>
  <pre class="mermaid" style="text-align: center">
{{mermaid_markdown}}
  </pre>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';

    function waitForElm(selector) {
      return new Promise(resolve => {
        if (document.querySelector(selector)) {
          return resolve(document.querySelector(selector));
        }

        const observer = new MutationObserver(mutations => {
          if (document.querySelector(selector)) {
            observer.disconnect();
            resolve(document.querySelector(selector));
          }
        });

        // If you get "parameter 1 is not of type 'Node'" error, see https://stackoverflow.com/a/77855838/492336
        observer.observe(document.body, {
          childList: true,
          subtree: true
        });
      });
    }
    waitForElm('svg[aria-roledescription="flowchart-v2"]').then(() => {
      debugger
    })
    /*
    Import D3
    Select all nodes and add trigger event
    Create a insert with Column/Measure information
    Create a JSON insert to hold all the lineage information
    Use Typescript
    Some way to connect to the package to export data?
    */

  </script>
</body>

</html>