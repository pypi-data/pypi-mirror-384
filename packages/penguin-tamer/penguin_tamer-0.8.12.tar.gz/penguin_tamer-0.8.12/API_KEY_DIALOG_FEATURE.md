# API Key Missing Dialog Feature

## –û–ø–∏—Å–∞–Ω–∏–µ
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ API –∫–ª—é—á–∞.

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ù–æ–≤—ã–π –¥–∏–∞–ª–æ–≥: `ApiKeyMissingDialog`
**–§–∞–π–ª:** `src/penguin_tamer/menu/dialogs.py`

- –ö—Ä–∞—Å–∏–≤–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∏–∫–æ–Ω–∫–æ–π üêß
- –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (EN/RU)
- –û–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ "OK"
- –ò–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á –≤ —Ä–∞–∑–¥–µ–ª–µ "–û–±—â–∏–µ"

### 2. –°—Ç–∏–ª–∏ –¥–ª—è –¥–∏–∞–ª–æ–≥–∞
**–§–∞–π–ª:** `src/penguin_tamer/menu/styles.tcss`

–î–æ–±–∞–≤–ª–µ–Ω—ã CSS-–∫–ª–∞—Å—Å—ã:
- `.api-key-dialog-container` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–∏–∞–ª–æ–≥–∞
- `.api-key-dialog-icon` - –∏–∫–æ–Ω–∫–∞ –ø–∏–Ω–≥–≤–∏–Ω–∞
- `.api-key-dialog-title` - –∑–∞–≥–æ–ª–æ–≤–æ–∫
- `.api-key-dialog-message` - —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- `.api-key-dialog-button-container` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–Ω–æ–ø–∫–∏

### 3. –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
**–§–∞–π–ª—ã:**
- `src/penguin_tamer/menu/locales/ru.json`

–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã:
- `"API Key Required"` ‚Üí `"–¢—Ä–µ–±—É–µ—Ç—Å—è API –∫–ª—é—á"`
- `"You have entered Penguin Tamer configuration..."` ‚Üí `"–í—ã –ø–æ–ø–∞–ª–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Penguin Tamer..."`
- `"OK"` ‚Üí `"OK"`

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ config_menu.py
**–§–∞–π–ª:** `src/penguin_tamer/menu/config_menu.py`

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `show_api_key_dialog` –≤ `main_menu()` –∏ `ConfigMenuApp.__init__()`
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `show_api_key_missing_dialog()` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
- –î–∏–∞–ª–æ–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ `on_mount()`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è `ApiKeyMissingDialog`

### 5. –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ API –∫–ª—é—á–∞ –≤ cli.py
**–§–∞–π–ª:** `src/penguin_tamer/cli.py`

–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –≤ `main()`:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ API –∫–ª—é—á–∞ —É —Ç–µ–∫—É—â–µ–π LLM
2. –ï—Å–ª–∏ –∫–ª—é—á –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `show_api_key_dialog=True`
3. –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–∞
4. –ï—Å–ª–∏ –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω - –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç—É (–≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å/–¥–∏–∞–ª–æ–≥)
5. –ï—Å–ª–∏ –∫–ª—é—á –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É

## –ü–æ–≤–µ–¥–µ–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: API –∫–ª—é—á –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
```bash
$ pt "hello"
```
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–µ–Ω—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
2. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "OK"
4. –û—Å—Ç–∞–µ—Ç—Å—è –≤ –º–µ–Ω—é –Ω–∞ –≤–∫–ª–∞–¥–∫–µ "–û–±—â–∏–µ"
5. –ú–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å API –∫–ª—é—á
6. –ü–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞ –∏–∑ –º–µ–Ω—é:
   - –ï—Å–ª–∏ –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å
   - –ï—Å–ª–∏ –∫–ª—é—á –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω ‚Üí –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: API –∫–ª—é—á –µ—Å—Ç—å
```bash
$ pt "hello"
```
1. –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É, –±–µ–∑ –æ—Ç–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –†—É—á–Ω–æ–π –≤—Ö–æ–¥ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```bash
$ pt -s
```
–ú–µ–Ω—é –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ (–æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- –î–∏–∞–ª–æ–≥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Textual `ModalScreen`
- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `menu_translator` (–º–µ–Ω—é) –∏ `translator` (CLI)
- –°—Ç–∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –æ–±—â—É—é —Ç–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –§–ª–∞–≥ `show_api_key_dialog` –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º LLM –∫–ª–∏–µ–Ω—Ç–∞

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ —É–¥–∞–ª–∏—Ç—å API –∫–ª—é—á –∏–∑ config.yaml:
```yaml
llms:
  openrouter-claude-sonnet-free:
    api_key: ""  # –û—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º
```

–ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
pt "test query"
```

–î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –º–µ–Ω—é —Å –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º.
