# ‚úÖ –ú–ò–ì–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê: play_first_input ‚Üí demo_play_first_input

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ü–µ—Ä–µ–Ω–æ—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–ë—ã–ª–æ**: `config_demo.yaml` ‚Üí `playback.play_first_input`
- **–°—Ç–∞–ª–æ**: `config.yaml` ‚Üí `global.demo_play_first_input`

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API

#### create_demo_manager()
```python
def create_demo_manager(
    mode: str,
    console: Console,
    config_dir: Path,
    demo_file: Optional[Path] = None,
    play_first_input: bool = True  # ‚úÖ –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
)
```

#### DemoSystemManager
```python
def __init__(
    self,
    mode: str,
    console: Console,
    config_dir: Path,
    demo_file: Optional[Path] = None,
    play_first_input: bool = True  # ‚úÖ –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
)
```

#### DemoPlayer
```python
def __init__(
    self,
    console: Console,
    config_path: Optional[Path] = None,
    play_first_input: bool = True  # ‚úÖ –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
)
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CLI

```python
# src/penguin_tamer/cli.py
demo_manager = create_demo_manager(
    mode=config.get("global", "demo_mode", "off"),
    console=console,
    config_dir=config.user_config_dir,
    demo_file=config.get("global", "demo_file"),
    play_first_input=config.get("global", "demo_play_first_input", True)  # ‚úÖ
)
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤

#### config.yaml
```yaml
global:
  demo_mode: play
  demo_file: demo_session_013.json
  demo_play_first_input: true  # ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ
```

#### config_demo.yaml
```yaml
playback:
  # play_first_input: true  # ‚ùå –£–¥–∞–ª–µ–Ω–æ
  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª–æ—Å—å –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥

  # –û—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
  chunk_delay: 0.05
  pause_after_input: 0.5
  # ... –∏ —Ç.–¥.
```

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ API:
- ‚úÖ `test_play_first_input_final.py` - –ø–µ—Ä–µ–¥–∞—á–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä
- ‚úÖ `test_two_phase_spinner.py` - –ø–µ—Ä–µ–¥–∞—á–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç demo_play_first_input: True
‚úÖ config_demo.yaml –±–æ–ª—å—à–µ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç play_first_input
‚úÖ API –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
```

## üìä –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 1. –õ–æ–≥–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **–ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** (—á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å) ‚Üí `config.yaml`
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** (–∫–∞–∫ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å, timing) ‚Üí `config_demo.yaml`

### 2. –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ
–í—Å–µ –¥–µ–º–æ-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–ø–µ—Ä—å –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ:
```yaml
global:
  demo_mode: play           # –†–µ–∂–∏–º –¥–µ–º–æ
  demo_file: session.json   # –ö–∞–∫–æ–π —Ñ–∞–π–ª
  demo_play_first_input: true  # –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
```

### 3. –£–¥–æ–±—Å—Ç–≤–æ
- –ù–µ –Ω—É–∂–Ω–æ –ª–µ–∑—Ç—å –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ñ–∞–π–ª—ã
- –í—Å–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `config.yaml`
- –£–¥–æ–±–Ω–æ –¥–ª—è –∫–æ–Ω–µ—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 4. –ì–∏–±–∫–æ—Å—Ç—å
```python
# –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
demo_manager = create_demo_manager(
    ...,
    play_first_input=False  # –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–Ω—Ñ–∏–≥
)
```

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –∫–æ–Ω–µ—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config.yaml`:
```yaml
global:
  demo_play_first_input: true   # –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–µ—Ä–≤—ã–π –≤–≤–æ–¥
  # –∏–ª–∏
  demo_play_first_input: false  # –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—ã–π –≤–≤–æ–¥
```

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –Ω–∞–ø—Ä—è–º—É—é:
```python
demo_manager = create_demo_manager(
    mode="play",
    console=console,
    config_dir=config_dir,
    demo_file=demo_file,
    play_first_input=True  # –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º
)
```

### –î–ª—è —Ç–µ—Å—Ç–æ–≤
–ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä:
```python
# TEST 1: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å
demo_manager = create_demo_manager(..., play_first_input=True)

# TEST 2: –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å
demo_manager = create_demo_manager(..., play_first_input=False)
```

## üìÅ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ–¥ (5 —Ñ–∞–π–ª–æ–≤)
1. `src/penguin_tamer/demo_system/manager.py` - API —Ä–∞—Å—à–∏—Ä–µ–Ω
2. `src/penguin_tamer/demo_system/player.py` - API —Ä–∞—Å—à–∏—Ä–µ–Ω
3. `src/penguin_tamer/cli.py` - —á—Ç–µ–Ω–∏–µ –∏–∑ config.yaml
4. `src/penguin_tamer/demo_system/config_demo.yaml` - —É–¥–∞–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
5. `config.yaml` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (1 —Ñ–∞–π–ª)
1. `docs/DEMO_MIGRATION_PLAY_FIRST_INPUT.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

### –¢–µ—Å—Ç—ã (2 —Ñ–∞–π–ª–∞)
1. `test_play_first_input_final.py` - –æ–±–Ω–æ–≤–ª—ë–Ω
2. `test_two_phase_spinner.py` - –æ–±–Ω–æ–≤–ª—ë–Ω

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- ‚úÖ –¢–µ—Å—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- üìù –û–±–Ω–æ–≤–∏—Ç—å README.md —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- üìù –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä –≤ quick start
- üß™ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö

## üí° –ò—Ç–æ–≥

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞!**

- ‚úÖ –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ (`config.yaml`)
- ‚úÖ –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ `demo_play_first_input`
- ‚úÖ API –æ–±–Ω–æ–≤–ª—ë–Ω —Å –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é
- ‚úÖ –¢–µ—Å—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

**–°—Ç–∞—Ç—É—Å**: üéâ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

---

**–î–∞—Ç–∞**: –û–∫—Ç—è–±—Ä—å 2025
**–í–µ—Ä—Å–∏—è**: 2.1
