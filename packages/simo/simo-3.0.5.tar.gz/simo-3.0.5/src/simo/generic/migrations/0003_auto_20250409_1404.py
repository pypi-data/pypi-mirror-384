# Generated by Django 4.2.10 on 2025-04-09 14:04

from django.db import migrations

def forwards_func(apps, schema_editor):

    Component = apps.get_model("core", "Component")

    for thermostat in Component.objects.filter(base_type='thermostat'):
        thermostat.config['heaters'] = []
        heater = thermostat.config.pop('heater')
        if heater:
            thermostat.config['heaters'].append(heater)
        thermostat.config['coolers'] = []
        cooler = thermostat.config.pop('cooler')
        if cooler:
            thermostat.config['coolers'].append(cooler)
        thermostat.save()


def reverse_func(apps, schema_editor):
    pass


class Migration(migrations.Migration):

    dependencies = [
        ('generic', '0002_auto_20241126_0726'),
    ]

    operations = [
        migrations.RunPython(forwards_func, reverse_func, elidable=True),
    ]
