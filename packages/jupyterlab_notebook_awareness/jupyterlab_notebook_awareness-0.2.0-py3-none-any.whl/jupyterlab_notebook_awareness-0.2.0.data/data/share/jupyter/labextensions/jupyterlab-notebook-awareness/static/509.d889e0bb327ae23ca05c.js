"use strict";(self.webpackChunkjupyterlab_notebook_awareness=self.webpackChunkjupyterlab_notebook_awareness||[]).push([[509],{509:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});var l,n=o(722);function d(e,t){var o,l,n,d,r,i,a;if(!(null===(l=null===(o=null==e?void 0:e.model)||void 0===o?void 0:o.sharedModel)||void 0===l?void 0:l.awareness))return;const u=e.model.sharedModel.awareness,c=(null===(n=e.context)||void 0===n?void 0:n.path)||null,v=(null===(a=null===(i=null===(r=t||(null===(d=e.content)||void 0===d?void 0:d.activeCell))||void 0===r?void 0:r.model)||void 0===i?void 0:i.sharedModel)||void 0===a?void 0:a.getId())||null;u.setLocalStateField("notebookPath",c),u.setLocalStateField("activeCellId",v)}!function(e){e.getCurrentNotebook="notebook-awareness:get-current-notebook",e.getCurrentCell="notebook-awareness:get-current-cell"}(l||(l={}));const r={id:"jupyterlab-notebook-awareness:plugin",description:"A JupyterLab extension that tracks a user's current notebook and cell.",requires:[n.INotebookTracker],autoStart:!0,activate:(e,t)=>{e.commands.addCommand(l.getCurrentNotebook,{label:"Get Current Notebook",execute:()=>{var e,o,l,n,d;const r=t.currentWidget;return r?{path:(null===(e=r.context)||void 0===e?void 0:e.path)||null,title:r.title.label,id:r.id,model:{readOnly:null===(o=r.model)||void 0===o?void 0:o.readOnly,dirty:null===(l=r.model)||void 0===l?void 0:l.dirty},context:{path:null===(n=r.context)||void 0===n?void 0:n.path,contentsModel:null===(d=r.context)||void 0===d?void 0:d.contentsModel}}:null},describedBy:{args:{type:"object",properties:{}}}}),e.commands.addCommand(l.getCurrentCell,{label:"Get Current Cell",execute:()=>{var e,o,l,n,d,r,i;const a=t.currentWidget;if(!(null===(e=null==a?void 0:a.content)||void 0===e?void 0:e.activeCell))return null;const u=a.content.activeCell,c=a.content.activeCellIndex;return{id:(null===(l=null===(o=u.model)||void 0===o?void 0:o.sharedModel)||void 0===l?void 0:l.getId())||null,index:c,type:null===(n=u.model)||void 0===n?void 0:n.type,source:null===(r=null===(d=u.model)||void 0===d?void 0:d.sharedModel)||void 0===r?void 0:r.getSource(),notebook:{path:(null===(i=a.context)||void 0===i?void 0:i.path)||null,title:a.title.label}}},describedBy:{args:{type:"object",properties:{}}}}),t.activeCellChanged.connect(((e,t)=>{d(e.currentWidget,t)})),t.currentChanged.connect(((e,t)=>{t&&(d(t),t.content&&setTimeout((()=>{d(t)}),100))})),t.widgetAdded.connect(((e,t)=>{t.revealed.then((()=>{d(t)})),t.context.ready.then((()=>{d(t)}))})),t.currentWidget&&d(t.currentWidget)}}}}]);