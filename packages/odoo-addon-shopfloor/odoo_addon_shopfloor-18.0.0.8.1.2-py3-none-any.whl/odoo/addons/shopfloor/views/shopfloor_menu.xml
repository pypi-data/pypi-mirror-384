<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="shopfloor_menu_form_view" model="ir.ui.view">
        <field name="model">shopfloor.menu</field>
        <field name="inherit_id" ref="shopfloor_base.shopfloor_menu_form_view" />
        <field name="arch" type="xml">
            <field name="profile_id" position="after">
                <field
                    name="picking_type_ids"
                    widget="many2many_tags"
                    options="{'no_create': 1}"
                />
            </field>
            <group name="options" position="inside">
                <group name="move_create" invisible="not move_create_is_possible">
                    <field name="allow_move_create" />
                </group>
                <group
                    name="unreserve_other_moves"
                    invisible="not unreserve_other_moves_is_possible"
                >
                    <field name="allow_unreserve_other_moves" />
                </group>
                <group
                    name="ignore_no_putaway_available"
                    invisible="not ignore_no_putaway_available_is_possible"
                >
                    <field name="ignore_no_putaway_available" />
                </group>
                <group
                    name="require_destination_package"
                    invisible="not require_destination_package_is_possible"
                >
                    <field name="require_destination_package" />
                </group>
                <group
                    name="pick_pack_same_time"
                    invisible="not pick_pack_same_time_is_possible"
                >
                    <field name="pick_pack_same_time" />
                </group>
                <group
                    name="force_reservation"
                    invisible="not allow_force_reservation_is_possible"
                >
                    <field name="allow_force_reservation" />
                </group>
                <group
                    name="prepackaged_product"
                    invisible="not prepackaged_product_is_possible"
                >
                    <field name="allow_prepackaged_product" />
                </group>
                <group
                    name="unload_at_destination"
                    invisible="not unload_package_at_destination_is_possible"
                >
                    <field
                        name="unload_package_at_destination"
                        readonly="pick_pack_same_time"
                    />
                </group>
                <group
                    name="disable_full_bin_action"
                    invisible="not disable_full_bin_action_is_possible"
                >
                    <field name="disable_full_bin_action" />
                </group>
                <group
                    name="multiple_move_single_pack"
                    invisible="not multiple_move_single_pack_is_possible"
                >
                    <field
                        name="multiple_move_single_pack"
                        readonly="pick_pack_same_time"
                    />
                </group>
                <group name="get_work" invisible="not allow_get_work_is_possible">
                    <field name="allow_get_work" />
                </group>
                <group name="no_prefill_qty" invisible="not no_prefill_qty_is_possible">
                    <field name="no_prefill_qty" />
                </group>
                <group
                    name="show_oneline_package_content"
                    invisible="not show_oneline_package_content_is_possible"
                >
                    <field name="show_oneline_package_content" />
                </group>
                <group
                    name="scan_location_or_pack_first"
                    invisible="not scan_location_or_pack_first_is_possible"
                >
                    <field name="scan_location_or_pack_first" />
                    <div class="text-muted" invisible="scenario_key != 'checkout'">
                    When choosing an order to pack, do not allow to scan a product.
                  </div>
                    <div class="text-muted" invisible="scenario_key != 'zone_picking'">
                    When selecting a move line, force the user to first scan a package or a location and not a product or a lot.
                  </div>
                    <div
                        class="text-muted"
                        invisible="scenario_key != 'cluster_picking'"
                    >
                    When selecting a move line, force the user to first scan a package or a location and not a product or a lot.
                  </div>
                </group>
                <group name="auto_post_line" invisible="not auto_post_line_is_possible">
                    <field name="auto_post_line" />
                </group>
                <group
                    name="allow_alternative_destination"
                    invisible="not allow_alternative_destination_is_possible"
                >
                    <field name="allow_alternative_destination" />
                </group>
                <group name="allow_return" invisible="not allow_return_is_possible">
                    <field name="allow_return" />
                </group>
                <group
                    name="allow_alternative_destination_package"
                    invisible="not allow_alternative_destination_package_is_possible"
                >
                    <field name="allow_alternative_destination_package" />
                </group>
                <group
                    name="search_move_line"
                    invisible="not move_line_search_sort_order_is_possible and not move_line_search_additional_domain_is_possible"
                >
                    <field
                        name="move_line_search_additional_domain"
                        widget="domain"
                        options="{'model': 'stock.move.line'}"
                        invisible="not move_line_search_additional_domain_is_possible"
                    />
                    <field
                        name="move_line_search_sort_order"
                        invisible="not move_line_search_sort_order_is_possible"
                    />
                    <div
                        class="o_cell o_wrap_label"
                        style="margin-top: 4px;"
                        colspan="2"
                        invisible="not move_line_search_sort_order_is_possible or move_line_search_sort_order != 'custom_code'"
                    >
                        <label
                            class="text-900"
                            for="move_line_search_sort_order_custom_code"
                        >Custom code to construct the key to sort move lines</label>
                        <p>Three variables are available:</p>
                        <ul>
                            <li><code
                            >line</code>: The move line for with the key must be computed.
                        </li>
                            <li><code
                            >get_sort_key_priority</code>: Return sort key to sort by priority. (return a tuple)
                        </li>
                            <li><code
                            >get_sort_key_location</code>: Return sort key to sort by location. (return a tuple)
                        </li>
                            <li><code
                            >get_sort_key_assigned_to_current_user</code>: Return sort key to get line assigned to current user first. (return a tuple)
                        </li>
                            <li>To assign the key value: <code
                            >key = get_sort_key_assigned_to_current_user(line) + (line.x, )</code></li>
                        </ul>
                        <field
                            name="move_line_search_sort_order_custom_code"
                            invisible="not move_line_search_sort_order_is_possible or move_line_search_sort_order != 'custom_code'"
                            nolabel="1"
                        />
                    </div>
                </group>
                <group
                    name="move_line_processing_sort_order"
                    invisible="not move_line_processing_sort_order_is_possible"
                >
                    <field name="move_line_processing_sort_order" />
                </group>
            </group>
            <group name="options" position="after">
                <group name="move_line_processing_sort_order_custom_code">
                    <field
                        name="move_line_processing_sort_order_custom_code"
                        invisible="move_line_processing_sort_order != 'custom_code'"
                        widget="ace"
                        options="{'mode': 'python'}"
                    />
                </group>
            </group>
        </field>
    </record>
    <record id="shopfloor_menu_search_view" model="ir.ui.view">
        <field name="model">shopfloor.menu</field>
        <field name="inherit_id" ref="shopfloor_base.shopfloor_menu_search_view" />
        <field name="arch" type="xml">
            <field name="profile_id" position="after">
                <field name="picking_type_ids" />
            </field>
        </field>
    </record>
    <record id="shopfloor_menu_tree_view" model="ir.ui.view">
        <field name="model">shopfloor.menu</field>
        <field name="inherit_id" ref="shopfloor_base.shopfloor_menu_tree_view" />
        <field name="arch" type="xml">
            <field name="profile_id" position="after">
                <field
                    name="picking_type_ids"
                    widget="many2many_tags"
                    options="{'no_create': 1}"
                />
            </field>
        </field>
    </record>
</odoo>
