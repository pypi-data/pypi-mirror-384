{
  "version": 0,
  "name": "{{cookiecutter.agent_name}}",
  "runtime": "python",
  "graph": [
    {% if cookiecutter.data_source_type == 'highlighter' -%}
    "(Source Target)"
    {% else -%}
    "(Source)"
    {%- endif -%}
  ],
  "elements": [
    {
      "name": "Source",
      "parameters": {
        {% if cookiecutter.data_source_type == 'highlighter' -%}
        "source_inputs": []
        {% else -%}
        "source_inputs": [],
        "read_stdin": false
        {%- endif -%}
      },
      "input": [
        {
          "name": "data_samples",
          "type": "List[DataSample]"
        },
        {
          "name": "entities",
          "type": "List[Dict[UUID, Entity]]"
        }
      ],
      "output": [
        {
          "name": "data_samples",
          "type": "List[DataSample]"
        },
        {
          "name": "entities",
          "type": "List[Dict[UUID, Entity]]"
        }
      ],
      "deploy": {
        "local": {
          {% if cookiecutter.data_source_type == 'local_text' -%}
          "class_name": "TextDataSource",
          "module": "highlighter.agent.capabilities"
          {% elif cookiecutter.data_source_type == 'local_video' -%}
          "class_name": "VideoDataSource",
          "module": "highlighter.agent.capabilities"
          {% elif cookiecutter.data_source_type == 'local_image' -%}
          "class_name": "ImageDataSource",
          "module": "highlighter.agent.capabilities"
          {% elif cookiecutter.data_source_type == 'highlighter' -%}
          "class_name": "AssessmentRead",
          "module": "highlighter.agent.capabilities.assessment_read"
          {%- endif -%}
        }
      }
    {% if cookiecutter.data_source_type == 'highlighter' -%}
    },
    {
      "name": "Target",
      "parameters": { "data_sources": [] },
      "input": [ { "name": "data_files", "type": "List[DataFile]" },
                 { "name": "entities", "type": "List[Dict[UUID, Entity]]" } ],
      "output": [],
      "deploy": {
        "local": {
          "class_name": "AssessmentWrite",
          "module": "highlighter.agent.capabilities.assessment_write"
        }
      }
    }
    {% else -%}
    }
    {%- endif -%}
  ]
}
