<form tal:attributes="action link.url if not link.disabled else '';" method="post" class="btn-container">
    <input type="hidden" name="csrf_token" value="${get_csrf_token()}" />
    <tal:for tal:repeat="extra_field extra_fields">
		<tal:if tal:condition="type(extra_field[1]) in (list, tuple)">
            <input type="hidden" name="__start__" value="${extra_field[0]}:sequence" />
            <tal:for tal:repeat="sub_field extra_field[1]">
                <input type="hidden" name="${extra_field[0]}" value="${sub_field}" />
            </tal:for>
            <input type="hidden" name="__end__" value="${extra_field[0]}:sequence" />
        </tal:if>
		<tal:if tal:condition="type(extra_field[1]) not in (list, tuple)">
            <input type="hidden" name="${extra_field[0]}" value="${extra_field[1]}" />
        </tal:if>
    </tal:for>
    <button
        type="submit"
        tal:attributes="onclick 'false' if link.js is None else link.js; class css_classes; disabled link.disabled if link.disabled else None;"
        title="${link.title}">
  <svg tal:condition="link.icon is not None"><use href="${request.static_url('caerp:static/icons/icones.svg')}#${link.icon}"></use></svg><tal:if condition="link.label">&nbsp;${structure:link.label}</tal:if>
</button>
</form>
