import{S as w,i as k,s as g,m as l,g as S,r as m,u as y,q as i,d as b,v as h,k as P,w as $,C as v,D as N,E as C,F as E,y as q,n as J}from"../chunks/BsAB9Z30.js";import"../chunks/IHki7fMi.js";import{t as u}from"../chunks/D1AOsjeD.js";import{g as M}from"../chunks/CfFtnCED.js";import{p as O}from"../chunks/BzMu2T5T.js";import{c as R,g as D}from"../chunks/ChFX-EEp.js";import{P as F}from"../chunks/BaW9wTgQ.js";function f(a){let n,s;return n=new F({props:{prompt:a[0],onSubmit:a[3],clone:a[1]}}),{c(){v(n.$$.fragment)},l(t){N(n.$$.fragment,t)},m(t,e){C(n,t,e),s=!0},p(t,e){const o={};e&1&&(o.prompt=t[0]),e&2&&(o.clone=t[1]),n.$set(o)},i(t){s||(i(n.$$.fragment,t),s=!0)},o(t){m(n.$$.fragment,t),s=!1},d(t){E(n,t)}}}function I(a){let n=a[0],s,t,e=f(a);return{c(){e.c(),s=l()},l(o){e.l(o),s=l()},m(o,c){e.m(o,c),S(o,s,c),t=!0},p(o,[c]){c&1&&g(n,n=o[0])?(q(),m(e,1,1,J),y(),e=f(o),e.c(),i(e,1),e.m(s.parentNode,s)):e.p(o,c)},i(o){t||(i(e),t=!0)},o(o){m(e),t=!1},d(o){o&&b(s),e.d(o)}}}function L(a,n,s){let t;const e=h("i18n");P(a,e,r=>s(4,t=r));let o=null,c=!1;const _=async r=>{await R(localStorage.token,r).catch(d=>(u.error(`${d}`),null))&&(u.success(t.t("Prompt created successfully")),await O.set(await D(localStorage.token)),await M("/workspace/prompts"))};return $(async()=>{if(window.addEventListener("message",async r=>{if(!["https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(r.origin))return;const p=JSON.parse(r.data);s(1,c=!0),s(0,o={title:p.title,command:p.command,content:p.content,access_control:null})}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.prompt){const r=JSON.parse(sessionStorage.prompt);sessionStorage.removeItem("prompt"),s(1,c=!0),s(0,o={title:r.title,command:r.command,content:r.content,access_control:null})}}),[o,c,e,_]}class Q extends w{constructor(n){super(),k(this,n,L,I,g,{})}}export{Q as component};
//# sourceMappingURL=37.oGGVDSpF.js.map
