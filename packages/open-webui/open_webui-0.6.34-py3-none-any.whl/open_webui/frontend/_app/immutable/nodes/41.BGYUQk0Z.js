import{S as R,i as V,s as O,m as d,g as b,r as p,u as q,q as _,d as f,k as g,v as T,w as U,y as B,e as h,C as I,c as k,a as E,D as S,f as v,h as C,E as w,n as D,F as y}from"../chunks/BsAB9Z30.js";import"../chunks/IHki7fMi.js";import{g as P}from"../chunks/CfFtnCED.js";import{p as W}from"../chunks/C4FH1jaS.js";import{a as F,u as Q,g as j}from"../chunks/lIeQgTNv.js";import{S as z}from"../chunks/CbQmQGdd.js";import{T as H}from"../chunks/CBAJg9Ed.js";import{b as $,t as M}from"../chunks/BzMu2T5T.js";import{e as A,c as G}from"../chunks/Dl9eNJPw.js";import{t as m}from"../chunks/D1AOsjeD.js";function J(l){let o,t,e,s;return e=new z({props:{className:"size-5"}}),{c(){o=h("div"),t=h("div"),I(e.$$.fragment),this.h()},l(r){o=k(r,"DIV",{class:!0});var a=E(o);t=k(a,"DIV",{class:!0});var u=E(t);S(e.$$.fragment,u),u.forEach(f),a.forEach(f),this.h()},h(){v(t,"class","pb-16"),v(o,"class","flex items-center justify-center h-full")},m(r,a){b(r,o,a),C(o,t),w(e,t,null),s=!0},p:D,i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){p(e.$$.fragment,r),s=!1},d(r){r&&f(o),y(e)}}}function K(l){let o,t;return o=new H({props:{edit:!0,id:l[0].id,name:l[0].name,meta:l[0].meta,content:l[0].content,accessControl:l[0].access_control,onSave:l[3]}}),{c(){I(o.$$.fragment)},l(e){S(o.$$.fragment,e)},m(e,s){w(o,e,s),t=!0},p(e,s){const r={};s&1&&(r.id=e[0].id),s&1&&(r.name=e[0].name),s&1&&(r.meta=e[0].meta),s&1&&(r.content=e[0].content),s&1&&(r.accessControl=e[0].access_control),o.$set(r)},i(e){t||(_(o.$$.fragment,e),t=!0)},o(e){p(o.$$.fragment,e),t=!1},d(e){y(o,e)}}}function L(l){let o,t,e,s;const r=[K,J],a=[];function u(c,n){return c[0]?0:1}return o=u(l),t=a[o]=r[o](l),{c(){t.c(),e=d()},l(c){t.l(c),e=d()},m(c,n){a[o].m(c,n),b(c,e,n),s=!0},p(c,[n]){let i=o;o=u(c),o===i?a[o].p(c,n):(B(),p(a[i],1,1,()=>{a[i]=null}),q(),t=a[o],t?t.p(c,n):(t=a[o]=r[o](c),t.c()),_(t,1),t.m(e.parentNode,e))},i(c){s||(_(t),s=!0)},o(c){p(t),s=!1},d(c){c&&f(e),a[o].d(c)}}}function X(l,o,t){let e,s;g(l,W,n=>t(4,e=n));const r=T("i18n");g(l,r,n=>t(5,s=n));let a=null;const u=async n=>{const i=A(n.content);if(G((i==null?void 0:i.required_open_webui_version)??"0.0.0",$)){m.error(s.t("Open WebUI version (v{{OPEN_WEBUI_VERSION}}) is lower than required version (v{{REQUIRED_VERSION}})",{OPEN_WEBUI_VERSION:$,REQUIRED_VERSION:(i==null?void 0:i.required_open_webui_version)??"0.0.0"}));return}await Q(localStorage.token,a.id,{id:n.id,name:n.name,meta:n.meta,content:n.content,access_control:n.access_control}).catch(N=>(m.error(`${N}`),null))&&(m.success(s.t("Tool updated successfully")),M.set(await j(localStorage.token)))};return U(async()=>{const n=e.url.searchParams.get("id");n&&t(0,a=await F(localStorage.token,n).catch(i=>(m.error(`${i}`),P("/workspace/tools"),null)))}),[a,r,u,n=>{u(n)}]}class le extends R{constructor(o){super(),V(this,o,X,L,O,{})}}export{le as component};
//# sourceMappingURL=41.BGYUQk0Z.js.map
