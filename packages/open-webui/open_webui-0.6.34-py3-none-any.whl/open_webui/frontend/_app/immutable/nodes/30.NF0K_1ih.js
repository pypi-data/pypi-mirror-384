import{S as Oe,i as Fe,s as Ae,H as Ke,I as je,C as O,D as F,E as A,K as ze,q as k,r as D,F as P,N as at,v as st,k as Se,e as _,c as g,a as h,d as f,f as p,g as U,x as it,z as ft,A as ct,B as ut,G as Ne,n as be,l as C,t as re,p as B,b as ne,h as c,j as ie,m as Je,o as dt,y as xe,u as Ce,w as mt,M as Qe,L as Re,X as pt,T as _t,a0 as gt}from"../chunks/BsAB9Z30.js";import"../chunks/IHki7fMi.js";import{e as Ze}from"../chunks/BjVHJN9o.js";import{F as ht}from"../chunks/CU2r43ac.js";import{d as Me,r as vt}from"../chunks/I1CDPYOB.js";import{t as Ue}from"../chunks/D1AOsjeD.js";import{u as $t,W as wt,l as bt}from"../chunks/BzMu2T5T.js";import{a as et,d as kt,g as Dt}from"../chunks/jiHRCsgU.js";import{g as Et}from"../chunks/CfFtnCED.js";import{j as tt}from"../chunks/Dl9eNJPw.js";import{C as yt}from"../chunks/CWL6JHPL.js";import"../chunks/BsJbWAQa.js";import{b as It,c as Vt}from"../chunks/4oMrtK1P.js";import{f as Nt}from"../chunks/g5t9vw8M.js";import{D as xt}from"../chunks/UJArJjDp.js";import{G as Ct}from"../chunks/C-kqD5vK.js";import{T as Pe}from"../chunks/cMkWkffq.js";import{E as Bt}from"../chunks/BNJXXAzR.js";import{B as ot}from"../chunks/HNTRN4uT.js";import{S as St}from"../chunks/D9KdRKiL.js";import{P as Kt}from"../chunks/BW7wCiOr.js";import{S as Tt}from"../chunks/CbQmQGdd.js";import{X as Ut}from"../chunks/CubwYUHd.js";import{V as jt}from"../chunks/Cj1WPrfZ.js";function zt(n){let e,r,t,l,o;return r=new Bt({props:{className:"size-5"}}),{c(){e=_("button"),O(r.$$.fragment),this.h()},l(s){e=g(s,"BUTTON",{class:!0,type:!0});var a=h(e);F(r.$$.fragment,a),a.forEach(f),this.h()},h(){p(e,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(s,a){U(s,e,a),A(r,e,null),t=!0,l||(o=Ne(e,"click",n[7]),l=!0)},p:be,i(s){t||(k(r.$$.fragment,s),t=!0)},o(s){D(r.$$.fragment,s),t=!1},d(s){s&&f(e),P(r),l=!1,o()}}}function Mt(n){let e;const r=n[5].default,t=it(r,n,n[10],null),l=t||zt(n);return{c(){l&&l.c()},l(o){l&&l.l(o)},m(o,s){l&&l.m(o,s),e=!0},p(o,s){t?t.p&&(!e||s&1024)&&ft(t,r,o,o[10],e?ut(r,o[10],s,null):ct(o[10]),null):l&&l.p&&(!e||s&2)&&l.p(o,e?s:-1)},i(o){e||(k(l,o),e=!0)},o(o){D(l,o),e=!1},d(o){l&&l.d(o)}}}function Ot(n){let e,r;return e=new Pe({props:{content:n[2].t("More"),$$slots:{default:[Mt]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){A(e,t,l),r=!0},p(t,l){const o={};l&4&&(o.content=t[2].t("More")),l&1026&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Ft(n){let e,r,t,l=n[2].t("Delete")+"",o,s;return e=new Ct({}),{c(){O(e.$$.fragment),r=C(),t=_("div"),o=re(l),this.h()},l(a){F(e.$$.fragment,a),r=B(a),t=g(a,"DIV",{class:!0});var i=h(t);o=ne(i,l),i.forEach(f),this.h()},h(){p(t,"class","flex items-center")},m(a,i){A(e,a,i),U(a,r,i),U(a,t,i),c(t,o),s=!0},p(a,i){(!s||i&4)&&l!==(l=a[2].t("Delete")+"")&&ie(o,l)},i(a){s||(k(e.$$.fragment,a),s=!0)},o(a){D(e.$$.fragment,a),s=!1},d(a){a&&(f(r),f(t)),P(e,a)}}}function At(n){let e,r;return e=new Vt({props:{class:"flex  gap-2  items-center px-3 py-1.5 text-sm   cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[Ft]},$$scope:{ctx:n}}}),e.$on("click",n[6]),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){A(e,t,l),r=!0},p(t,l){const o={};l&1028&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Pt(n){let e,r,t;return r=new It({props:{class:"w-full max-w-[170px] rounded-2xl px-1 py-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",side:"bottom",align:"end",transition:Nt,$$slots:{default:[At]},$$scope:{ctx:n}}}),{c(){e=_("div"),O(r.$$.fragment),this.h()},l(l){e=g(l,"DIV",{slot:!0});var o=h(e);F(r.$$.fragment,o),o.forEach(f),this.h()},h(){p(e,"slot","content")},m(l,o){U(l,e,o),A(r,e,null),t=!0},p(l,o){const s={};o&1028&&(s.$$scope={dirty:o,ctx:l}),r.$set(s)},i(l){t||(k(r.$$.fragment,l),t=!0)},o(l){D(r.$$.fragment,l),t=!1},d(l){l&&f(e),P(r)}}}function Wt(n){let e,r,t;function l(s){n[8](s)}let o={align:"end",$$slots:{content:[Pt],default:[Ot]},$$scope:{ctx:n}};return n[1]!==void 0&&(o.show=n[1]),e=new xt({props:o}),Ke.push(()=>je(e,"show",l)),e.$on("change",n[9]),{c(){O(e.$$.fragment)},l(s){F(e.$$.fragment,s)},m(s,a){A(e,s,a),t=!0},p(s,[a]){const i={};a&1030&&(i.$$scope={dirty:a,ctx:s}),!r&&a&2&&(r=!0,i.show=s[1],ze(()=>r=!1)),e.$set(i)},i(s){t||(k(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function qt(n,e,r){let t,{$$slots:l={},$$scope:o}=e;const s=at(),a=st("i18n");Se(n,a,$=>r(2,t=$));let{onClose:i=()=>{}}=e,w=!1;const d=()=>{s("delete")},v=$=>{$.stopPropagation(),r(1,w=!0)};function b($){w=$,r(1,w)}const y=$=>{$.detail===!1&&i()};return n.$$set=$=>{"onClose"in $&&r(0,i=$.onClose),"$$scope"in $&&r(10,o=$.$$scope)},[i,w,t,s,a,l,d,v,b,y,o]}class Lt extends Oe{constructor(e){super(),Fe(this,e,qt,Wt,Ae,{onClose:0})}}function lt(n,e,r){const t=n.slice();return t[26]=e[r],t}function Gt(n){let e,r,t;return r=new Tt({props:{className:"size-5"}}),{c(){e=_("div"),O(r.$$.fragment),this.h()},l(l){e=g(l,"DIV",{class:!0});var o=h(e);F(r.$$.fragment,o),o.forEach(f),this.h()},h(){p(e,"class","w-full h-full flex justify-center items-center")},m(l,o){U(l,e,o),A(r,e,null),t=!0},p:be,i(l){t||(k(r.$$.fragment,l),t=!0)},o(l){D(r.$$.fragment,l),t=!1},d(l){l&&f(e),P(r)}}}function Ht(n){let e,r,t,l,o,s,a,i=n[7].t("Knowledge")+"",w,d,v,b=n[6].length+"",y,$,N,S,K,Q,j,se=n[7].t("New Knowledge")+"",L,R,x,Y,z,te,G,le,m,Z,ee,ue,fe,ce,M,_e,ke,J,H,de,E,T,X=n[7].t("Use '#' in the prompt input to load and include your knowledge.")+"",q,W,oe,De;function ge(u){n[13](u)}let Ee={};n[4]!==void 0&&(Ee.show=n[4]),e=new yt({props:Ee}),Ke.push(()=>je(e,"show",ge)),e.$on("confirm",n[14]),K=new Kt({props:{className:"size-3",strokeWidth:"2.5"}}),G=new St({props:{className:"size-3.5"}});let V=n[0]&&rt(n);function he(u){n[18](u)}let ye={onChange:n[17]};n[1]!==void 0&&(ye.value=n[1]),M=new jt({props:ye}),Ke.push(()=>je(M,"value",he));const Ie=[Yt,Xt],ae=[];function Ve(u,I){return(u[6]??[]).length!==0?0:1}return J=Ve(n),H=ae[J]=Ie[J](n),{c(){O(e.$$.fragment),t=C(),l=_("div"),o=_("div"),s=_("div"),a=_("div"),w=re(i),d=C(),v=_("div"),y=re(b),$=C(),N=_("div"),S=_("a"),O(K.$$.fragment),Q=C(),j=_("div"),L=re(se),R=C(),x=_("div"),Y=_("div"),z=_("div"),te=_("div"),O(G.$$.fragment),le=C(),m=_("input"),ee=C(),V&&V.c(),ue=C(),fe=_("div"),ce=_("div"),O(M.$$.fragment),ke=C(),H.c(),de=C(),E=_("div"),T=re("ⓘ "),q=re(X),this.h()},l(u){F(e.$$.fragment,u),t=B(u),l=g(u,"DIV",{class:!0});var I=h(l);o=g(I,"DIV",{class:!0});var me=h(o);s=g(me,"DIV",{class:!0});var pe=h(s);a=g(pe,"DIV",{});var ve=h(a);w=ne(ve,i),ve.forEach(f),d=B(pe),v=g(pe,"DIV",{class:!0});var We=h(v);y=ne(We,b),We.forEach(f),pe.forEach(f),$=B(me),N=g(me,"DIV",{class:!0});var qe=h(N);S=g(qe,"A",{class:!0,href:!0});var Be=h(S);F(K.$$.fragment,Be),Q=B(Be),j=g(Be,"DIV",{class:!0});var Le=h(j);L=ne(Le,se),Le.forEach(f),Be.forEach(f),qe.forEach(f),me.forEach(f),I.forEach(f),R=B(u),x=g(u,"DIV",{class:!0});var $e=h(x);Y=g($e,"DIV",{class:!0});var Ge=h(Y);z=g(Ge,"DIV",{class:!0});var we=h(z);te=g(we,"DIV",{class:!0});var He=h(te);F(G.$$.fragment,He),He.forEach(f),le=B(we),m=g(we,"INPUT",{class:!0,placeholder:!0}),ee=B(we),V&&V.l(we),we.forEach(f),Ge.forEach(f),ue=B($e),fe=g($e,"DIV",{class:!0});var Xe=h(fe);ce=g(Xe,"DIV",{class:!0});var Ye=h(ce);F(M.$$.fragment,Ye),Ye.forEach(f),Xe.forEach(f),ke=B($e),H.l($e),$e.forEach(f),de=B(u),E=g(u,"DIV",{class:!0});var Te=h(E);T=ne(Te,"ⓘ "),q=ne(Te,X),Te.forEach(f),this.h()},h(){p(v,"class","text-lg font-medium text-gray-500 dark:text-gray-500"),p(s,"class","flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0"),p(j,"class","hidden md:block md:ml-1 text-xs"),p(S,"class","px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center"),p(S,"href","/workspace/knowledge/create"),p(N,"class","flex w-full justify-end gap-1.5"),p(o,"class","flex justify-between items-center"),p(l,"class","flex flex-col gap-1 px-1 mt-1.5 mb-3"),p(te,"class","self-center ml-1 mr-3"),p(m,"class","w-full text-sm py-1 rounded-r-xl outline-hidden bg-transparent"),p(m,"placeholder",Z=n[7].t("Search Knowledge")),p(z,"class","flex flex-1"),p(Y,"class","flex w-full space-x-2 py-0.5 px-3.5 pb-2"),p(ce,"class","flex gap-0.5 w-fit text-center text-sm rounded-full bg-transparent px-1.5 whitespace-nowrap"),p(fe,"class","px-3 flex w-full bg-transparent overflow-x-auto scrollbar-none -mx-1"),p(x,"class","py-2 bg-white dark:bg-gray-900 rounded-3xl border border-gray-100 dark:border-gray-850"),p(E,"class","text-gray-500 text-xs m-2")},m(u,I){A(e,u,I),U(u,t,I),U(u,l,I),c(l,o),c(o,s),c(s,a),c(a,w),c(s,d),c(s,v),c(v,y),c(o,$),c(o,N),c(N,S),A(K,S,null),c(S,Q),c(S,j),c(j,L),U(u,R,I),U(u,x,I),c(x,Y),c(Y,z),c(z,te),A(G,te,null),c(z,le),c(z,m),Re(m,n[0]),c(z,ee),V&&V.m(z,null),c(x,ue),c(x,fe),c(fe,ce),A(M,ce,null),n[19](ce),c(x,ke),ae[J].m(x,null),U(u,de,I),U(u,E,I),c(E,T),c(E,q),W=!0,oe||(De=[Ne(m,"input",n[15]),Ne(fe,"wheel",tl)],oe=!0)},p(u,I){const me={};!r&&I&16&&(r=!0,me.show=u[4],ze(()=>r=!1)),e.$set(me),(!W||I&128)&&i!==(i=u[7].t("Knowledge")+"")&&ie(w,i),(!W||I&64)&&b!==(b=u[6].length+"")&&ie(y,b),(!W||I&128)&&se!==(se=u[7].t("New Knowledge")+"")&&ie(L,se),(!W||I&128&&Z!==(Z=u[7].t("Search Knowledge")))&&p(m,"placeholder",Z),I&1&&m.value!==u[0]&&Re(m,u[0]),u[0]?V?(V.p(u,I),I&1&&k(V,1)):(V=rt(u),V.c(),k(V,1),V.m(z,null)):V&&(xe(),D(V,1,1,()=>{V=null}),Ce());const pe={};!_e&&I&2&&(_e=!0,pe.value=u[1],ze(()=>_e=!1)),M.$set(pe);let ve=J;J=Ve(u),J===ve?ae[J].p(u,I):(xe(),D(ae[ve],1,1,()=>{ae[ve]=null}),Ce(),H=ae[J],H?H.p(u,I):(H=ae[J]=Ie[J](u),H.c()),k(H,1),H.m(x,null)),(!W||I&128)&&X!==(X=u[7].t("Use '#' in the prompt input to load and include your knowledge.")+"")&&ie(q,X)},i(u){W||(k(e.$$.fragment,u),k(K.$$.fragment,u),k(G.$$.fragment,u),k(V),k(M.$$.fragment,u),k(H),W=!0)},o(u){D(e.$$.fragment,u),D(K.$$.fragment,u),D(G.$$.fragment,u),D(V),D(M.$$.fragment,u),D(H),W=!1},d(u){u&&(f(t),f(l),f(R),f(x),f(de),f(E)),P(e,u),P(K),P(G),V&&V.d(),P(M),n[19](null),ae[J].d(),oe=!1,pt(De)}}}function rt(n){let e,r,t,l,o,s;return t=new Ut({props:{className:"size-3",strokeWidth:"2"}}),{c(){e=_("div"),r=_("button"),O(t.$$.fragment),this.h()},l(a){e=g(a,"DIV",{class:!0});var i=h(e);r=g(i,"BUTTON",{class:!0});var w=h(r);F(t.$$.fragment,w),w.forEach(f),i.forEach(f),this.h()},h(){p(r,"class","p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"),p(e,"class","self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent")},m(a,i){U(a,e,i),c(e,r),A(t,r,null),l=!0,o||(s=Ne(r,"click",n[16]),o=!0)},p:be,i(a){l||(k(t.$$.fragment,a),l=!0)},o(a){D(t.$$.fragment,a),l=!1},d(a){a&&f(e),P(t),o=!1,s()}}}function Xt(n){let e,r,t,l="😕",o,s,a=n[7].t("No knowledge found")+"",i,w,d,v=n[7].t("Try adjusting your search or filter to find what you are looking for.")+"",b;return{c(){e=_("div"),r=_("div"),t=_("div"),t.textContent=l,o=C(),s=_("div"),i=re(a),w=C(),d=_("div"),b=re(v),this.h()},l(y){e=g(y,"DIV",{class:!0});var $=h(e);r=g($,"DIV",{class:!0});var N=h(r);t=g(N,"DIV",{class:!0,"data-svelte-h":!0}),_t(t)!=="svelte-aptp17"&&(t.textContent=l),o=B(N),s=g(N,"DIV",{class:!0});var S=h(s);i=ne(S,a),S.forEach(f),w=B(N),d=g(N,"DIV",{class:!0});var K=h(d);b=ne(K,v),K.forEach(f),N.forEach(f),$.forEach(f),this.h()},h(){p(t,"class","text-3xl mb-3"),p(s,"class","text-lg font-medium mb-1"),p(d,"class","text-gray-500 text-center text-xs"),p(r,"class","max-w-md text-center"),p(e,"class","w-full h-full flex flex-col justify-center items-center my-16 mb-24")},m(y,$){U(y,e,$),c(e,r),c(r,t),c(r,o),c(r,s),c(s,i),c(r,w),c(r,d),c(d,b)},p(y,$){$&128&&a!==(a=y[7].t("No knowledge found")+"")&&ie(i,a),$&128&&v!==(v=y[7].t("Try adjusting your search or filter to find what you are looking for.")+"")&&ie(b,v)},i:be,o:be,d(y){y&&f(e)}}}function Yt(n){let e,r,t=Ze(n[6]),l=[];for(let s=0;s<t.length;s+=1)l[s]=nt(lt(n,t,s));const o=s=>D(l[s],1,1,()=>{l[s]=null});return{c(){e=_("div");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var a=h(e);for(let i=0;i<l.length;i+=1)l[i].l(a);a.forEach(f),this.h()},h(){p(e,"class","my-2 px-3 grid grid-cols-1 lg:grid-cols-2 gap-2")},m(s,a){U(s,e,a);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);r=!0},p(s,a){if(a&216){t=Ze(s[6]);let i;for(i=0;i<t.length;i+=1){const w=lt(s,t,i);l[i]?(l[i].p(w,a),k(l[i],1)):(l[i]=nt(w),l[i].c(),k(l[i],1),l[i].m(e,null))}for(xe(),i=t.length;i<l.length;i+=1)o(i);Ce()}},i(s){if(!r){for(let a=0;a<t.length;a+=1)k(l[a]);r=!0}},o(s){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)D(l[a]);r=!1},d(s){s&&f(e),gt(l,s)}}}function Jt(n){let e,r;return e=new ot({props:{type:"success",content:n[7].t("Collection")}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){A(e,t,l),r=!0},p(t,l){const o={};l&128&&(o.content=t[7].t("Collection")),e.$set(o)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Qt(n){let e,r;return e=new ot({props:{type:"muted",content:n[7].t("Document")}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){A(e,t,l),r=!0},p(t,l){const o={};l&128&&(o.content=t[7].t("Document")),e.$set(o)},i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}function Rt(n){var t,l,o,s;let e=n[7].t("By {{name}}",{name:tt(((l=(t=n[26])==null?void 0:t.user)==null?void 0:l.name)??((s=(o=n[26])==null?void 0:o.user)==null?void 0:s.email)??n[7].t("Deleted User"))})+"",r;return{c(){r=re(e)},l(a){r=ne(a,e)},m(a,i){U(a,r,i)},p(a,i){var w,d,v,b;i&192&&e!==(e=a[7].t("By {{name}}",{name:tt(((d=(w=a[26])==null?void 0:w.user)==null?void 0:d.name)??((b=(v=a[26])==null?void 0:v.user)==null?void 0:b.email)??a[7].t("Deleted User"))})+"")&&ie(r,e)},d(a){a&&f(r)}}}function Zt(n){var H,de;let e,r,t,l,o,s,a,i,w,d,v=n[7].t("Updated")+"",b,y,$=Me(n[26].updated_at*1e3).fromNow()+"",N,S,K,Q,j,se,L,R,x,Y=n[26].name+"",z,te,G,le,m,Z,ee,ue,fe;const ce=[Qt,Jt],M=[];function _e(E,T){var X,q;return(q=(X=E[26])==null?void 0:X.meta)!=null&&q.document?0:1}a=_e(n),i=M[a]=ce[a](n);function ke(){return n[20](n[26])}j=new Lt({}),j.$on("delete",ke),m=new Pe({props:{content:((de=(H=n[26])==null?void 0:H.user)==null?void 0:de.email)??n[7].t("Deleted User"),className:"flex shrink-0",placement:"top-start",$$slots:{default:[Rt]},$$scope:{ctx:n}}});function J(){return n[21](n[26])}return{c(){e=_("button"),r=_("div"),t=_("div"),l=_("div"),o=_("div"),s=_("div"),i.c(),w=C(),d=_("div"),b=re(v),y=C(),N=re($),S=C(),K=_("div"),Q=_("div"),O(j.$$.fragment),se=C(),L=_("div"),R=_("div"),x=_("div"),z=re(Y),te=C(),G=_("div"),le=_("div"),O(m.$$.fragment),Z=C(),this.h()},l(E){e=g(E,"BUTTON",{class:!0});var T=h(e);r=g(T,"DIV",{class:!0});var X=h(r);t=g(X,"DIV",{class:!0});var q=h(t);l=g(q,"DIV",{class:!0});var W=h(l);o=g(W,"DIV",{class:!0});var oe=h(o);s=g(oe,"DIV",{});var De=h(s);i.l(De),De.forEach(f),w=B(oe),d=g(oe,"DIV",{class:!0});var ge=h(d);b=ne(ge,v),y=B(ge),N=ne(ge,$),ge.forEach(f),oe.forEach(f),S=B(W),K=g(W,"DIV",{class:!0});var Ee=h(K);Q=g(Ee,"DIV",{class:!0});var V=h(Q);F(j.$$.fragment,V),V.forEach(f),Ee.forEach(f),W.forEach(f),se=B(q),L=g(q,"DIV",{class:!0});var he=h(L);R=g(he,"DIV",{class:!0});var ye=h(R);x=g(ye,"DIV",{class:!0});var Ie=h(x);z=ne(Ie,Y),Ie.forEach(f),ye.forEach(f),te=B(he),G=g(he,"DIV",{});var ae=h(G);le=g(ae,"DIV",{class:!0});var Ve=h(le);F(m.$$.fragment,Ve),Ve.forEach(f),ae.forEach(f),he.forEach(f),q.forEach(f),X.forEach(f),T.forEach(f),Z=B(E),this.h()},h(){p(d,"class","text-xs text-gray-500 line-clamp-1"),p(o,"class","flex gap-2 items-center"),p(Q,"class","flex self-center"),p(K,"class","flex items-center gap-2"),p(l,"class","flex items-center justify-between -my-1"),p(x,"class","text-sm font-medium line-clamp-1 capitalize"),p(R,"class","flex items-center gap-2"),p(le,"class","text-xs text-gray-500"),p(L,"class","flex items-center gap-1 justify-between px-1.5"),p(t,"class","self-center flex-1"),p(r,"class","w-full"),p(e,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2.5 dark:hover:bg-gray-850/50 hover:bg-gray-50 transition rounded-2xl")},m(E,T){U(E,e,T),c(e,r),c(r,t),c(t,l),c(l,o),c(o,s),M[a].m(s,null),c(o,w),c(o,d),c(d,b),c(d,y),c(d,N),c(l,S),c(l,K),c(K,Q),A(j,Q,null),c(t,se),c(t,L),c(L,R),c(R,x),c(x,z),c(L,te),c(L,G),c(G,le),A(m,le,null),U(E,Z,T),ee=!0,ue||(fe=Ne(e,"click",J),ue=!0)},p(E,T){var W,oe;n=E;let X=a;a=_e(n),a===X?M[a].p(n,T):(xe(),D(M[X],1,1,()=>{M[X]=null}),Ce(),i=M[a],i?i.p(n,T):(i=M[a]=ce[a](n),i.c()),k(i,1),i.m(s,null)),(!ee||T&128)&&v!==(v=n[7].t("Updated")+"")&&ie(b,v),(!ee||T&64)&&$!==($=Me(n[26].updated_at*1e3).fromNow()+"")&&ie(N,$),(!ee||T&64)&&Y!==(Y=n[26].name+"")&&ie(z,Y);const q={};T&192&&(q.content=((oe=(W=n[26])==null?void 0:W.user)==null?void 0:oe.email)??n[7].t("Deleted User")),T&536871104&&(q.$$scope={dirty:T,ctx:n}),m.$set(q)},i(E){ee||(k(i),k(j.$$.fragment,E),k(m.$$.fragment,E),ee=!0)},o(E){D(i),D(j.$$.fragment,E),D(m.$$.fragment,E),ee=!1},d(E){E&&(f(e),f(Z)),M[a].d(),P(j),P(m),ue=!1,fe()}}}function nt(n){var t;let e,r;return e=new Pe({props:{content:((t=n[26])==null?void 0:t.description)??n[26].name,$$slots:{default:[Zt]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,o){A(e,l,o),r=!0},p(l,o){var a;const s={};o&64&&(s.content=((a=l[26])==null?void 0:a.description)??l[26].name),o&536871128&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){r||(k(e.$$.fragment,l),r=!0)},o(l){D(e.$$.fragment,l),r=!1},d(l){P(e,l)}}}function el(n){let e,r,t,l,o,s;document.title=e=`
		`+n[7].t("Knowledge")+" • "+n[8]+`
	`;const a=[Ht,Gt],i=[];function w(d,v){return d[2]?0:1}return t=w(n),l=i[t]=a[t](n),{c(){r=C(),l.c(),o=Je()},l(d){dt("svelte-1w4ysqo",document.head).forEach(f),r=B(d),l.l(d),o=Je()},m(d,v){U(d,r,v),i[t].m(d,v),U(d,o,v),s=!0},p(d,[v]){(!s||v&384)&&e!==(e=`
		`+d[7].t("Knowledge")+" • "+d[8]+`
	`)&&(document.title=e);let b=t;t=w(d),t===b?i[t].p(d,v):(xe(),D(i[b],1,1,()=>{i[b]=null}),Ce(),l=i[t],l?l.p(d,v):(l=i[t]=a[t](d),l.c()),k(l,1),l.m(o.parentNode,o))},i(d){s||(k(l),s=!0)},o(d){D(l),s=!1},d(d){d&&(f(r),f(o)),i[t].d(d)}}}const tl=n=>{n.deltaY!==0&&(n.preventDefault(),n.currentTarget.scrollLeft+=n.deltaY)};function ll(n,e,r){let t,l,o;Se(n,$t,m=>r(23,l=m)),Se(n,wt,m=>r(8,o=m)),Me.extend(vt);const s=st("i18n");Se(n,s,m=>r(7,t=m));let a=!1,i="",w=null,d=!1,v,b="",y=null,$=[],N=[],S=[];const K=async()=>{N=$.filter(m=>b===""||b==="created"&&m.user_id===(l==null?void 0:l.id)||b==="shared"&&m.user_id!==(l==null?void 0:l.id)),r(11,y=new ht(N,{keys:["name","description","user.name","user.email"],threshold:.3})),await Qe(),Q()},Q=()=>{r(6,S=i?y.search(i).map(m=>m.item):N)},j=async m=>{await kt(localStorage.token,m.id).catch(ee=>{Ue.error(`${ee}`)})&&(r(12,$=await et(localStorage.token)),bt.set(await Dt(localStorage.token)),Ue.success(t.t("Knowledge deleted successfully.")))};mt(async()=>{r(1,b=(localStorage==null?void 0:localStorage.workspaceViewOption)||""),r(12,$=await et(localStorage.token)),r(2,a=!0)});function se(m){d=m,r(4,d)}const L=()=>{j(w)};function R(){i=this.value,r(0,i)}const x=()=>{r(0,i="")},Y=async m=>{localStorage.workspaceViewOption=m,await Qe()};function z(m){b=m,r(1,b)}function te(m){Ke[m?"unshift":"push"](()=>{v=m,r(5,v)})}const G=m=>{r(3,w=m),r(4,d=!0)},le=m=>{var Z;(Z=m==null?void 0:m.meta)!=null&&Z.document?Ue.error(t.t("Only collections can be edited, create a new knowledge base to edit/add documents.")):Et(`/workspace/knowledge/${m.id}`)};return n.$$.update=()=>{n.$$.dirty&4098&&($.length>0&&b!==void 0?K():r(11,y=null)),n.$$.dirty&2049&&i!==void 0&&y&&Q()},[i,b,a,w,d,v,S,t,o,s,j,y,$,se,L,R,x,Y,z,te,G,le]}class rl extends Oe{constructor(e){super(),Fe(this,e,ll,el,Ae,{})}}function nl(n){let e,r;return e=new rl({}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){A(e,t,l),r=!0},p:be,i(t){r||(k(e.$$.fragment,t),r=!0)},o(t){D(e.$$.fragment,t),r=!1},d(t){P(e,t)}}}class xl extends Oe{constructor(e){super(),Fe(this,e,null,nl,Ae,{})}}export{xl as component};
//# sourceMappingURL=30.NF0K_1ih.js.map
