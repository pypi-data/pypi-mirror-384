import{S as ze,i as Fe,s as Xe,H as Qe,I as Ye,e as n,l as x,t as Y,C as De,c as i,a as u,T as Ze,p as $,b as Z,d as c,D as Ie,f as s,g as Ge,h as e,L as ge,E as Ce,G as ve,J as et,j as ee,K as tt,q as U,y as at,r as te,u as st,F as Ve,X as lt,k as Oe,v as rt,n as ot}from"../chunks/BsAB9Z30.js";import"../chunks/IHki7fMi.js";import{g as Re}from"../chunks/CfFtnCED.js";import{c as nt,g as it}from"../chunks/jiHRCsgU.js";import{t as Ee}from"../chunks/D1AOsjeD.js";import{u as ct,l as dt}from"../chunks/BzMu2T5T.js";import{A as ut}from"../chunks/Y9mhC_Iq.js";import{S as ft}from"../chunks/CbQmQGdd.js";function Ue(l){let a,t,o;return t=new ft({}),{c(){a=n("div"),De(t.$$.fragment),this.h()},l(g){a=i(g,"DIV",{class:!0});var k=u(a);Ie(t.$$.fragment,k),k.forEach(c),this.h()},h(){s(a,"class","ml-1.5 self-center")},m(g,k){Ge(g,a,k),Ce(t,a,null),o=!0},i(g){o||(U(t.$$.fragment,g),o=!0)},o(g){te(t.$$.fragment,g),o=!1},d(g){g&&c(a),Ve(t)}}}function gt(l){var Te,Be,Ke,He;let a,t,o,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd"></path></svg>',k,y,_=l[4].t("Back")+"",E,T,m,D,B,H=l[4].t("Create a knowledge base")+"",j,ae,v,I,A,z=l[4].t("What are you working on?")+"",se,me,P,b,le,pe,N,q,F=l[4].t("What are you trying to achieve?")+"",re,he,L,w,oe,_e,M,W,C,be,we,O,X,p,R,G=l[4].t("Create Knowledge")+"",ne,ke,ie,h,ye,xe;function Je(r){l[11](r)}let $e={accessRoles:["read","write"],allowPublic:((Ke=(Be=(Te=l[5])==null?void 0:Te.permissions)==null?void 0:Be.sharing)==null?void 0:Ke.public_knowledge)||((He=l[5])==null?void 0:He.role)==="admin"};l[3]!==void 0&&($e.accessControl=l[3]),C=new ut({props:$e}),Qe.push(()=>Ye(C,"accessControl",Je));let f=l[0]&&Ue();return{c(){a=n("div"),t=n("button"),o=n("div"),o.innerHTML=g,k=x(),y=n("div"),E=Y(_),T=x(),m=n("form"),D=n("div"),B=n("div"),j=Y(H),ae=x(),v=n("div"),I=n("div"),A=n("div"),se=Y(z),me=x(),P=n("div"),b=n("input"),pe=x(),N=n("div"),q=n("div"),re=Y(F),he=x(),L=n("div"),w=n("textarea"),_e=x(),M=n("div"),W=n("div"),De(C.$$.fragment),we=x(),O=n("div"),X=n("div"),p=n("button"),R=n("div"),ne=Y(G),ke=x(),f&&f.c(),this.h()},l(r){a=i(r,"DIV",{class:!0});var d=u(a);t=i(d,"BUTTON",{class:!0});var K=u(t);o=i(K,"DIV",{class:!0,"data-svelte-h":!0}),Ze(o)!=="svelte-1klo87r"&&(o.innerHTML=g),k=$(K),y=i(K,"DIV",{class:!0});var J=u(y);E=Z(J,_),J.forEach(c),K.forEach(c),T=$(d),m=i(d,"FORM",{class:!0});var V=u(m);D=i(V,"DIV",{class:!0});var S=u(D);B=i(S,"DIV",{class:!0});var Q=u(B);j=Z(Q,H),Q.forEach(c),ae=$(S),v=i(S,"DIV",{class:!0});var ce=u(v);I=i(ce,"DIV",{class:!0});var de=u(I);A=i(de,"DIV",{class:!0});var Ne=u(A);se=Z(Ne,z),Ne.forEach(c),me=$(de),P=i(de,"DIV",{class:!0});var Se=u(P);b=i(Se,"INPUT",{class:!0,type:!0,placeholder:!0}),Se.forEach(c),de.forEach(c),pe=$(ce),N=i(ce,"DIV",{});var ue=u(N);q=i(ue,"DIV",{class:!0});var je=u(q);re=Z(je,F),je.forEach(c),he=$(ue),L=i(ue,"DIV",{class:!0});var Ae=u(L);w=i(Ae,"TEXTAREA",{class:!0,rows:!0,placeholder:!0}),u(w).forEach(c),Ae.forEach(c),ue.forEach(c),ce.forEach(c),S.forEach(c),_e=$(V),M=i(V,"DIV",{class:!0});var Pe=u(M);W=i(Pe,"DIV",{class:!0});var qe=u(W);Ie(C.$$.fragment,qe),qe.forEach(c),Pe.forEach(c),we=$(V),O=i(V,"DIV",{class:!0});var Le=u(O);X=i(Le,"DIV",{});var Me=u(X);p=i(Me,"BUTTON",{class:!0,type:!0});var fe=u(p);R=i(fe,"DIV",{class:!0});var We=u(R);ne=Z(We,G),We.forEach(c),ke=$(fe),f&&f.l(fe),fe.forEach(c),Me.forEach(c),Le.forEach(c),V.forEach(c),d.forEach(c),this.h()},h(){s(o,"class","self-center"),s(y,"class","self-center font-medium text-sm"),s(t,"class","flex space-x-1"),s(B,"class","text-2xl font-medium font-primary mb-2.5"),s(A,"class","text-sm mb-2"),s(b,"class","w-full rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),s(b,"type","text"),s(b,"placeholder",le=l[4].t("Name your knowledge base")),b.required=!0,s(P,"class","w-full mt-1"),s(I,"class","w-full"),s(q,"class","text-sm mb-2"),s(w,"class","w-full resize-none rounded-lg py-2 px-4 text-sm bg-gray-50 dark:text-gray-300 dark:bg-gray-850 outline-hidden"),s(w,"rows","4"),s(w,"placeholder",oe=l[4].t("Describe your knowledge base and objectives")),w.required=!0,s(L,"class","w-full mt-1"),s(v,"class","w-full flex flex-col gap-2.5"),s(D,"class","w-full flex flex-col justify-center"),s(W,"class","px-4 py-3 bg-gray-50 dark:bg-gray-950 rounded-3xl"),s(M,"class","mt-2"),s(R,"class","self-center font-medium"),s(p,"class",ie="text-sm px-4 py-2 transition rounded-lg "+(l[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800")+" flex"),s(p,"type","submit"),p.disabled=l[0],s(O,"class","flex justify-end mt-2"),s(m,"class","flex flex-col max-w-lg mx-auto mt-10 mb-10"),s(a,"class","w-full max-h-full")},m(r,d){Ge(r,a,d),e(a,t),e(t,o),e(t,k),e(t,y),e(y,E),e(a,T),e(a,m),e(m,D),e(D,B),e(B,j),e(D,ae),e(D,v),e(v,I),e(I,A),e(A,se),e(I,me),e(I,P),e(P,b),ge(b,l[1]),e(v,pe),e(v,N),e(N,q),e(q,re),e(N,he),e(N,L),e(L,w),ge(w,l[2]),e(m,_e),e(m,M),e(M,W),Ce(C,W,null),e(m,we),e(m,O),e(O,X),e(X,p),e(p,R),e(R,ne),e(p,ke),f&&f.m(p,null),h=!0,ye||(xe=[ve(t,"click",l[8]),ve(b,"input",l[9]),ve(w,"input",l[10]),ve(m,"submit",et(l[12]))],ye=!0)},p(r,[d]){var J,V,S,Q;(!h||d&16)&&_!==(_=r[4].t("Back")+"")&&ee(E,_),(!h||d&16)&&H!==(H=r[4].t("Create a knowledge base")+"")&&ee(j,H),(!h||d&16)&&z!==(z=r[4].t("What are you working on?")+"")&&ee(se,z),(!h||d&16&&le!==(le=r[4].t("Name your knowledge base")))&&s(b,"placeholder",le),d&2&&b.value!==r[1]&&ge(b,r[1]),(!h||d&16)&&F!==(F=r[4].t("What are you trying to achieve?")+"")&&ee(re,F),(!h||d&16&&oe!==(oe=r[4].t("Describe your knowledge base and objectives")))&&s(w,"placeholder",oe),d&4&&ge(w,r[2]);const K={};d&32&&(K.allowPublic=((S=(V=(J=r[5])==null?void 0:J.permissions)==null?void 0:V.sharing)==null?void 0:S.public_knowledge)||((Q=r[5])==null?void 0:Q.role)==="admin"),!be&&d&8&&(be=!0,K.accessControl=r[3],tt(()=>be=!1)),C.$set(K),(!h||d&16)&&G!==(G=r[4].t("Create Knowledge")+"")&&ee(ne,G),r[0]?f?d&1&&U(f,1):(f=Ue(),f.c(),U(f,1),f.m(p,null)):f&&(at(),te(f,1,1,()=>{f=null}),st()),(!h||d&1&&ie!==(ie="text-sm px-4 py-2 transition rounded-lg "+(r[0]?" cursor-not-allowed bg-gray-100 dark:bg-gray-800":" bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800")+" flex"))&&s(p,"class",ie),(!h||d&1)&&(p.disabled=r[0])},i(r){h||(U(C.$$.fragment,r),U(f),h=!0)},o(r){te(C.$$.fragment,r),te(f),h=!1},d(r){r&&c(a),Ve(C),f&&f.d(),ye=!1,lt(xe)}}}function vt(l,a,t){let o,g;Oe(l,ct,v=>t(5,g=v));const k=rt("i18n");Oe(l,k,v=>t(4,o=v));let y=!1,_="",E="",T={};const m=async()=>{if(t(0,y=!0),_.trim()===""||E.trim()===""){Ee.error(o.t("Please fill in all fields.")),t(1,_=""),t(2,E=""),t(0,y=!1);return}const v=await nt(localStorage.token,_,E,T).catch(I=>{Ee.error(`${I}`)});v&&(Ee.success(o.t("Knowledge created successfully.")),dt.set(await it(localStorage.token)),Re(`/workspace/knowledge/${v.id}`)),t(0,y=!1)},D=()=>{Re("/workspace/knowledge")};function B(){_=this.value,t(1,_)}function H(){E=this.value,t(2,E)}function j(v){T=v,t(3,T)}return[y,_,E,T,o,g,k,m,D,B,H,j,()=>{m()}]}class mt extends ze{constructor(a){super(),Fe(this,a,vt,gt,Xe,{})}}function pt(l){let a,t;return a=new mt({}),{c(){De(a.$$.fragment)},l(o){Ie(a.$$.fragment,o)},m(o,g){Ce(a,o,g),t=!0},p:ot,i(o){t||(U(a.$$.fragment,o),t=!0)},o(o){te(a.$$.fragment,o),t=!1},d(o){Ve(a,o)}}}class It extends ze{constructor(a){super(),Fe(this,a,null,pt,Xe,{})}}export{It as component};
//# sourceMappingURL=32.IrheQnz4.js.map
