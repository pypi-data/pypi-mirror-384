import{S as Be,i as Le,s as je,H as He,I as Ue,C as j,D as M,E as z,K as Oe,q as y,r as E,F as A,k as ke,v as ut,e as v,c as $,a as w,d as u,f as p,g as V,x as ht,z as gt,A as vt,B as $t,l as N,p as P,y as ge,u as ve,t as G,b as X,h as m,j as Y,m as ye,o as bt,w as wt,M as kt,n as De,L as Qe,G as pe,X as yt,T as Dt,a0 as Et}from"../chunks/BsAB9Z30.js";import"../chunks/IHki7fMi.js";import{e as Ze}from"../chunks/BjVHJN9o.js";import{t as Pe}from"../chunks/D1AOsjeD.js";import{D as It,f as Vt}from"../chunks/5-chS5bE.js";import{g as Ct}from"../chunks/CfFtnCED.js";import{c as dt,u as St,W as Ht,p as et}from"../chunks/BzMu2T5T.js";import{d as xt,b as tt,g as rt,c as Nt}from"../chunks/ChFX-EEp.js";import{s as Pt,j as lt}from"../chunks/Dl9eNJPw.js";import"../chunks/BsJbWAQa.js";import{b as Tt,c as Te}from"../chunks/4oMrtK1P.js";import{f as Ut}from"../chunks/g5t9vw8M.js";import{D as Ot}from"../chunks/UJArJjDp.js";import{G as mt}from"../chunks/C-kqD5vK.js";import{T as Me}from"../chunks/cMkWkffq.js";import{S as Bt}from"../chunks/CfstUa2o.js";import{D as Lt}from"../chunks/Dd8rmAoC.js";import{E as jt}from"../chunks/BNJXXAzR.js";import{C as Mt}from"../chunks/CWL6JHPL.js";import{S as zt}from"../chunks/D9KdRKiL.js";import{P as At}from"../chunks/BW7wCiOr.js";import{C as Wt}from"../chunks/6bX91EV5.js";import{S as Rt}from"../chunks/CbQmQGdd.js";import{X as Ft}from"../chunks/CubwYUHd.js";import{V as Jt}from"../chunks/Cj1WPrfZ.js";function Kt(o){let e;const r=o[9].default,t=ht(r,o,o[16],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,i){t&&t.m(l,i),e=!0},p(l,i){t&&t.p&&(!e||i&65536)&&gt(t,r,l,l[16],e?$t(r,l[16],i,null):vt(l[16]),null)},i(l){e||(y(t,l),e=!0)},o(l){E(t,l),e=!1},d(l){t&&t.d(l)}}}function qt(o){let e,r;return e=new Me({props:{content:o[7].t("More"),$$slots:{default:[Kt]},$$scope:{ctx:o}}}),{c(){j(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){z(e,t,l),r=!0},p(t,l){const i={};l&128&&(i.content=t[7].t("More")),l&65536&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function nt(o){let e,r;return e=new Te({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-xl",$$slots:{default:[Gt]},$$scope:{ctx:o}}}),e.$on("click",o[10]),{c(){j(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){z(e,t,l),r=!0},p(t,l){const i={};l&65664&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function Gt(o){let e,r,t,l=o[7].t("Share")+"",i,a;return e=new Bt({}),{c(){j(e.$$.fragment),r=N(),t=v("div"),i=G(l),this.h()},l(n){M(e.$$.fragment,n),r=P(n),t=$(n,"DIV",{class:!0});var s=w(t);i=X(s,l),s.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(n,s){z(e,n,s),V(n,r,s),V(n,t,s),m(t,i),a=!0},p(n,s){(!a||s&128)&&l!==(l=n[7].t("Share")+"")&&Y(i,l)},i(n){a||(y(e.$$.fragment,n),a=!0)},o(n){E(e.$$.fragment,n),a=!1},d(n){n&&(u(r),u(t)),A(e,n)}}}function Xt(o){let e,r,t,l=o[7].t("Clone")+"",i,a;return e=new Lt({}),{c(){j(e.$$.fragment),r=N(),t=v("div"),i=G(l),this.h()},l(n){M(e.$$.fragment,n),r=P(n),t=$(n,"DIV",{class:!0});var s=w(t);i=X(s,l),s.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(n,s){z(e,n,s),V(n,r,s),V(n,t,s),m(t,i),a=!0},p(n,s){(!a||s&128)&&l!==(l=n[7].t("Clone")+"")&&Y(i,l)},i(n){a||(y(e.$$.fragment,n),a=!0)},o(n){E(e.$$.fragment,n),a=!1},d(n){n&&(u(r),u(t)),A(e,n)}}}function Yt(o){let e,r,t,l=o[7].t("Export")+"",i,a;return e=new It({}),{c(){j(e.$$.fragment),r=N(),t=v("div"),i=G(l),this.h()},l(n){M(e.$$.fragment,n),r=P(n),t=$(n,"DIV",{class:!0});var s=w(t);i=X(s,l),s.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(n,s){z(e,n,s),V(n,r,s),V(n,t,s),m(t,i),a=!0},p(n,s){(!a||s&128)&&l!==(l=n[7].t("Export")+"")&&Y(i,l)},i(n){a||(y(e.$$.fragment,n),a=!0)},o(n){E(e.$$.fragment,n),a=!1},d(n){n&&(u(r),u(t)),A(e,n)}}}function Qt(o){let e,r,t,l=o[7].t("Delete")+"",i,a;return e=new mt({}),{c(){j(e.$$.fragment),r=N(),t=v("div"),i=G(l),this.h()},l(n){M(e.$$.fragment,n),r=P(n),t=$(n,"DIV",{class:!0});var s=w(t);i=X(s,l),s.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(n,s){z(e,n,s),V(n,r,s),V(n,t,s),m(t,i),a=!0},p(n,s){(!a||s&128)&&l!==(l=n[7].t("Delete")+"")&&Y(i,l)},i(n){a||(y(e.$$.fragment,n),a=!0)},o(n){E(e.$$.fragment,n),a=!1},d(n){n&&(u(r),u(t)),A(e,n)}}}function Zt(o){let e,r,t,l,i,a,n,s,d,f=o[6].features.enable_community_sharing&&nt(o);return r=new Te({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[Xt]},$$scope:{ctx:o}}}),r.$on("click",o[11]),l=new Te({props:{class:"flex gap-2 items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[Yt]},$$scope:{ctx:o}}}),l.$on("click",o[12]),s=new Te({props:{class:"flex  gap-2  items-center px-3 py-1.5 text-sm  cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",$$slots:{default:[Qt]},$$scope:{ctx:o}}}),s.$on("click",o[13]),{c(){f&&f.c(),e=N(),j(r.$$.fragment),t=N(),j(l.$$.fragment),i=N(),a=v("hr"),n=N(),j(s.$$.fragment),this.h()},l(c){f&&f.l(c),e=P(c),M(r.$$.fragment,c),t=P(c),M(l.$$.fragment,c),i=P(c),a=$(c,"HR",{class:!0}),n=P(c),M(s.$$.fragment,c),this.h()},h(){p(a,"class","border-gray-50 dark:border-gray-850 my-1")},m(c,_){f&&f.m(c,_),V(c,e,_),z(r,c,_),V(c,t,_),z(l,c,_),V(c,i,_),V(c,a,_),V(c,n,_),z(s,c,_),d=!0},p(c,_){c[6].features.enable_community_sharing?f?(f.p(c,_),_&64&&y(f,1)):(f=nt(c),f.c(),y(f,1),f.m(e.parentNode,e)):f&&(ge(),E(f,1,1,()=>{f=null}),ve());const k={};_&65664&&(k.$$scope={dirty:_,ctx:c}),r.$set(k);const C={};_&65664&&(C.$$scope={dirty:_,ctx:c}),l.$set(C);const S={};_&65664&&(S.$$scope={dirty:_,ctx:c}),s.$set(S)},i(c){d||(y(f),y(r.$$.fragment,c),y(l.$$.fragment,c),y(s.$$.fragment,c),d=!0)},o(c){E(f),E(r.$$.fragment,c),E(l.$$.fragment,c),E(s.$$.fragment,c),d=!1},d(c){c&&(u(e),u(t),u(i),u(a),u(n)),f&&f.d(c),A(r,c),A(l,c),A(s,c)}}}function er(o){let e,r,t;return r=new Tt({props:{class:"w-full max-w-[170px] rounded-2xl p-1 border border-gray-100  dark:border-gray-800 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg",sideOffset:-2,side:"bottom",align:"start",transition:Ut,$$slots:{default:[Zt]},$$scope:{ctx:o}}}),{c(){e=v("div"),j(r.$$.fragment),this.h()},l(l){e=$(l,"DIV",{slot:!0});var i=w(e);M(r.$$.fragment,i),i.forEach(u),this.h()},h(){p(e,"slot","content")},m(l,i){V(l,e,i),z(r,e,null),t=!0},p(l,i){const a={};i&65743&&(a.$$scope={dirty:i,ctx:l}),r.$set(a)},i(l){t||(y(r.$$.fragment,l),t=!0)},o(l){E(r.$$.fragment,l),t=!1},d(l){l&&u(e),A(r)}}}function tr(o){let e,r,t;function l(a){o[14](a)}let i={$$slots:{content:[er],default:[qt]},$$scope:{ctx:o}};return o[5]!==void 0&&(i.show=o[5]),e=new Ot({props:i}),He.push(()=>Ue(e,"show",l)),e.$on("change",o[15]),{c(){j(e.$$.fragment)},l(a){M(e.$$.fragment,a)},m(a,n){z(e,a,n),t=!0},p(a,[n]){const s={};n&65743&&(s.$$scope={dirty:n,ctx:a}),!r&&n&32&&(r=!0,s.show=a[5],Oe(()=>r=!1)),e.$set(s)},i(a){t||(y(e.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),t=!1},d(a){A(e,a)}}}function rr(o,e,r){let t,l;ke(o,dt,b=>r(6,t=b));let{$$slots:i={},$$scope:a}=e;const n=ut("i18n");ke(o,n,b=>r(7,l=b));let{shareHandler:s}=e,{cloneHandler:d}=e,{exportHandler:f}=e,{deleteHandler:c}=e,{onClose:_}=e,k=!1;const C=()=>{s()},S=()=>{d()},T=()=>{f()},I=()=>{c()};function O(b){k=b,r(5,k)}const B=b=>{b.detail===!1&&_()};return o.$$set=b=>{"shareHandler"in b&&r(0,s=b.shareHandler),"cloneHandler"in b&&r(1,d=b.cloneHandler),"exportHandler"in b&&r(2,f=b.exportHandler),"deleteHandler"in b&&r(3,c=b.deleteHandler),"onClose"in b&&r(4,_=b.onClose),"$$scope"in b&&r(16,a=b.$$scope)},[s,d,f,c,_,k,t,l,n,i,C,S,T,I,O,B,a]}class lr extends Be{constructor(e){super(),Le(this,e,rr,tr,je,{shareHandler:0,cloneHandler:1,exportHandler:2,deleteHandler:3,onClose:4})}}function st(o,e,r){const t=o.slice();return t[40]=e[r],t}function nr(o){let e,r,t;return r=new Rt({props:{className:"size-5"}}),{c(){e=v("div"),j(r.$$.fragment),this.h()},l(l){e=$(l,"DIV",{class:!0});var i=w(e);M(r.$$.fragment,i),i.forEach(u),this.h()},h(){p(e,"class","w-full h-full flex justify-center items-center")},m(l,i){V(l,e,i),z(r,e,null),t=!0},p:De,i(l){t||(y(r.$$.fragment,l),t=!0)},o(l){E(r.$$.fragment,l),t=!1},d(l){l&&u(e),A(r)}}}function sr(o){var Fe,Je;let e,r,t,l,i,a,n,s,d,f=o[11].t("Prompts")+"",c,_,k,C=o[10].length+"",S,T,I,O,B,b,J,R,Z=o[11].t("New Prompt")+"",ee,oe,D,U,L,Q,re,ae,le,fe,Ee,Ie,ce,ue,ie,Ve,Ce,ne,se,g,x,W,F,xe;function pt(h){o[21](h)}let ze={title:o[11].t("Delete prompt?"),$$slots:{default:[or]},$$scope:{ctx:o}};o[7]!==void 0&&(ze.show=o[7]),e=new Mt({props:ze}),He.push(()=>Ue(e,"show",pt)),e.$on("confirm",o[22]);let te=((Fe=o[12])==null?void 0:Fe.role)==="admin"&&ot(o);b=new At({props:{className:"size-3",strokeWidth:"2.5"}}),re=new zt({props:{className:"size-3.5"}});let K=o[0]&&it(o);function _t(h){o[31](h)}let Ae={onChange:o[30]};o[2]!==void 0&&(Ae.value=o[2]),ie=new Jt({props:Ae}),He.push(()=>Ue(ie,"value",_t));const We=[ir,ar],me=[];function Re(h,H){return(h[10]??[]).length!==0?0:1}ne=Re(o),se=me[ne]=We[ne](o);let q=((Je=o[14])==null?void 0:Je.features.enable_community_sharing)&&ct(o);return{c(){j(e.$$.fragment),t=N(),l=v("div"),i=v("input"),a=N(),n=v("div"),s=v("div"),d=v("div"),c=G(f),_=N(),k=v("div"),S=G(C),T=N(),I=v("div"),te&&te.c(),O=N(),B=v("a"),j(b.$$.fragment),J=N(),R=v("div"),ee=G(Z),oe=N(),D=v("div"),U=v("div"),L=v("div"),Q=v("div"),j(re.$$.fragment),ae=N(),le=v("input"),Ee=N(),K&&K.c(),Ie=N(),ce=v("div"),ue=v("div"),j(ie.$$.fragment),Ce=N(),se.c(),g=N(),q&&q.c(),x=ye(),this.h()},l(h){M(e.$$.fragment,h),t=P(h),l=$(h,"DIV",{class:!0});var H=w(l);i=$(H,"INPUT",{id:!0,type:!0,accept:!0}),a=P(H),n=$(H,"DIV",{class:!0});var de=w(n);s=$(de,"DIV",{class:!0});var _e=w(s);d=$(_e,"DIV",{});var $e=w(d);c=X($e,f),$e.forEach(u),_=P(_e),k=$(_e,"DIV",{class:!0});var Se=w(k);S=X(Se,C),Se.forEach(u),_e.forEach(u),T=P(de),I=$(de,"DIV",{class:!0});var he=w(I);te&&te.l(he),O=P(he),B=$(he,"A",{class:!0,href:!0});var Ne=w(B);M(b.$$.fragment,Ne),J=P(Ne),R=$(Ne,"DIV",{class:!0});var Ke=w(R);ee=X(Ke,Z),Ke.forEach(u),Ne.forEach(u),he.forEach(u),de.forEach(u),H.forEach(u),oe=P(h),D=$(h,"DIV",{class:!0});var be=w(D);U=$(be,"DIV",{class:!0});var qe=w(U);L=$(qe,"DIV",{class:!0});var we=w(L);Q=$(we,"DIV",{class:!0});var Ge=w(Q);M(re.$$.fragment,Ge),Ge.forEach(u),ae=P(we),le=$(we,"INPUT",{class:!0,placeholder:!0}),Ee=P(we),K&&K.l(we),we.forEach(u),qe.forEach(u),Ie=P(be),ce=$(be,"DIV",{class:!0});var Xe=w(ce);ue=$(Xe,"DIV",{class:!0});var Ye=w(ue);M(ie.$$.fragment,Ye),Ye.forEach(u),Xe.forEach(u),Ce=P(be),se.l(be),be.forEach(u),g=P(h),q&&q.l(h),x=ye(),this.h()},h(){p(i,"id","prompts-import-input"),p(i,"type","file"),p(i,"accept",".json"),i.hidden=!0,p(k,"class","text-lg font-medium text-gray-500 dark:text-gray-500"),p(s,"class","flex items-center md:self-center text-xl font-medium px-0.5 gap-2 shrink-0"),p(R,"class","hidden md:block md:ml-1 text-xs"),p(B,"class","px-2 py-1.5 rounded-xl bg-black text-white dark:bg-white dark:text-black transition font-medium text-sm flex items-center"),p(B,"href","/workspace/prompts/create"),p(I,"class","flex w-full justify-end gap-1.5"),p(n,"class","flex justify-between items-center"),p(l,"class","flex flex-col gap-1 px-1 mt-1.5 mb-3"),p(Q,"class","self-center ml-1 mr-3"),p(le,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),p(le,"placeholder",fe=o[11].t("Search Prompts")),p(L,"class","flex flex-1"),p(U,"class","flex w-full space-x-2 py-0.5 px-3.5 pb-2"),p(ue,"class","flex gap-0.5 w-fit text-center text-sm rounded-full bg-transparent px-1.5 whitespace-nowrap"),p(ce,"class","px-3 flex w-full bg-transparent overflow-x-auto scrollbar-none -mx-1"),p(D,"class","py-2 bg-white dark:bg-gray-900 rounded-3xl border border-gray-100 dark:border-gray-850")},m(h,H){z(e,h,H),V(h,t,H),V(h,l,H),m(l,i),o[23](i),m(l,a),m(l,n),m(n,s),m(s,d),m(d,c),m(s,_),m(s,k),m(k,S),m(n,T),m(n,I),te&&te.m(I,null),m(I,O),m(I,B),z(b,B,null),m(B,J),m(B,R),m(R,ee),V(h,oe,H),V(h,D,H),m(D,U),m(U,L),m(L,Q),z(re,Q,null),m(L,ae),m(L,le),Qe(le,o[0]),m(L,Ee),K&&K.m(L,null),m(D,Ie),m(D,ce),m(ce,ue),z(ie,ue,null),o[32](ue),m(D,Ce),me[ne].m(D,null),V(h,g,H),q&&q.m(h,H),V(h,x,H),W=!0,F||(xe=[pe(i,"change",o[24]),pe(i,"change",o[25]),pe(le,"input",o[28]),pe(ce,"wheel",_r)],F=!0)},p(h,H){var Se,he;const de={};H[0]&2048&&(de.title=h[11].t("Delete prompt?")),H[0]&2304|H[1]&4096&&(de.$$scope={dirty:H,ctx:h}),!r&&H[0]&128&&(r=!0,de.show=h[7],Oe(()=>r=!1)),e.$set(de),(!W||H[0]&2048)&&f!==(f=h[11].t("Prompts")+"")&&Y(c,f),(!W||H[0]&1024)&&C!==(C=h[10].length+"")&&Y(S,C),((Se=h[12])==null?void 0:Se.role)==="admin"?te?te.p(h,H):(te=ot(h),te.c(),te.m(I,O)):te&&(te.d(1),te=null),(!W||H[0]&2048)&&Z!==(Z=h[11].t("New Prompt")+"")&&Y(ee,Z),(!W||H[0]&2048&&fe!==(fe=h[11].t("Search Prompts")))&&p(le,"placeholder",fe),H[0]&1&&le.value!==h[0]&&Qe(le,h[0]),h[0]?K?(K.p(h,H),H[0]&1&&y(K,1)):(K=it(h),K.c(),y(K,1),K.m(L,null)):K&&(ge(),E(K,1,1,()=>{K=null}),ve());const _e={};!Ve&&H[0]&4&&(Ve=!0,_e.value=h[2],Oe(()=>Ve=!1)),ie.$set(_e);let $e=ne;ne=Re(h),ne===$e?me[ne].p(h,H):(ge(),E(me[$e],1,1,()=>{me[$e]=null}),ve(),se=me[ne],se?se.p(h,H):(se=me[ne]=We[ne](h),se.c()),y(se,1),se.m(D,null)),(he=h[14])!=null&&he.features.enable_community_sharing?q?(q.p(h,H),H[0]&16384&&y(q,1)):(q=ct(h),q.c(),y(q,1),q.m(x.parentNode,x)):q&&(ge(),E(q,1,1,()=>{q=null}),ve())},i(h){W||(y(e.$$.fragment,h),y(b.$$.fragment,h),y(re.$$.fragment,h),y(K),y(ie.$$.fragment,h),y(se),y(q),W=!0)},o(h){E(e.$$.fragment,h),E(b.$$.fragment,h),E(re.$$.fragment,h),E(K),E(ie.$$.fragment,h),E(se),E(q),W=!1},d(h){h&&(u(t),u(l),u(oe),u(D),u(g),u(x)),A(e,h),o[23](null),te&&te.d(),A(b),A(re),K&&K.d(),A(ie),o[32](null),me[ne].d(),q&&q.d(h),F=!1,yt(xe)}}}function or(o){let e,r=o[11].t("This will delete")+"",t,l,i,a=o[8].command+"",n,s;return{c(){e=v("div"),t=G(r),l=N(),i=v("span"),n=G(a),s=G("."),this.h()},l(d){e=$(d,"DIV",{class:!0});var f=w(e);t=X(f,r),l=P(f),i=$(f,"SPAN",{class:!0});var c=w(i);n=X(c,a),c.forEach(u),s=X(f,"."),f.forEach(u),this.h()},h(){p(i,"class","font-semibold"),p(e,"class","text-sm text-gray-500 truncate")},m(d,f){V(d,e,f),m(e,t),m(e,l),m(e,i),m(i,n),m(e,s)},p(d,f){f[0]&2048&&r!==(r=d[11].t("This will delete")+"")&&Y(t,r),f[0]&256&&a!==(a=d[8].command+"")&&Y(n,a)},d(d){d&&u(e)}}}function ot(o){let e,r,t=o[11].t("Import")+"",l,i,a,n,s,d=o[1].length&&at(o);return{c(){e=v("button"),r=v("div"),l=G(t),i=N(),d&&d.c(),a=ye(),this.h()},l(f){e=$(f,"BUTTON",{class:!0});var c=w(e);r=$(c,"DIV",{class:!0});var _=w(r);l=X(_,t),_.forEach(u),c.forEach(u),i=P(f),d&&d.l(f),a=ye(),this.h()},h(){p(r,"class","self-center font-medium line-clamp-1"),p(e,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition")},m(f,c){V(f,e,c),m(e,r),m(r,l),V(f,i,c),d&&d.m(f,c),V(f,a,c),n||(s=pe(e,"click",o[26]),n=!0)},p(f,c){c[0]&2048&&t!==(t=f[11].t("Import")+"")&&Y(l,t),f[1].length?d?d.p(f,c):(d=at(f),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},d(f){f&&(u(e),u(i),u(a)),d&&d.d(f),n=!1,s()}}}function at(o){let e,r,t=o[11].t("Export")+"",l,i,a;return{c(){e=v("button"),r=v("div"),l=G(t),this.h()},l(n){e=$(n,"BUTTON",{class:!0});var s=w(e);r=$(s,"DIV",{class:!0});var d=w(r);l=X(d,t),d.forEach(u),s.forEach(u),this.h()},h(){p(r,"class","self-center font-medium line-clamp-1"),p(e,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition")},m(n,s){V(n,e,s),m(e,r),m(r,l),i||(a=pe(e,"click",o[27]),i=!0)},p(n,s){s[0]&2048&&t!==(t=n[11].t("Export")+"")&&Y(l,t)},d(n){n&&u(e),i=!1,a()}}}function it(o){let e,r,t,l,i,a;return t=new Ft({props:{className:"size-3",strokeWidth:"2"}}),{c(){e=v("div"),r=v("button"),j(t.$$.fragment),this.h()},l(n){e=$(n,"DIV",{class:!0});var s=w(e);r=$(s,"BUTTON",{class:!0});var d=w(r);M(t.$$.fragment,d),d.forEach(u),s.forEach(u),this.h()},h(){p(r,"class","p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"),p(e,"class","self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent")},m(n,s){V(n,e,s),m(e,r),z(t,r,null),l=!0,i||(a=pe(r,"click",o[29]),i=!0)},p:De,i(n){l||(y(t.$$.fragment,n),l=!0)},o(n){E(t.$$.fragment,n),l=!1},d(n){n&&u(e),A(t),i=!1,a()}}}function ar(o){let e,r,t,l="😕",i,a,n=o[11].t("No prompts found")+"",s,d,f,c=o[11].t("Try adjusting your search or filter to find what you are looking for.")+"",_;return{c(){e=v("div"),r=v("div"),t=v("div"),t.textContent=l,i=N(),a=v("div"),s=G(n),d=N(),f=v("div"),_=G(c),this.h()},l(k){e=$(k,"DIV",{class:!0});var C=w(e);r=$(C,"DIV",{class:!0});var S=w(r);t=$(S,"DIV",{class:!0,"data-svelte-h":!0}),Dt(t)!=="svelte-aptp17"&&(t.textContent=l),i=P(S),a=$(S,"DIV",{class:!0});var T=w(a);s=X(T,n),T.forEach(u),d=P(S),f=$(S,"DIV",{class:!0});var I=w(f);_=X(I,c),I.forEach(u),S.forEach(u),C.forEach(u),this.h()},h(){p(t,"class","text-3xl mb-3"),p(a,"class","text-lg font-medium mb-1"),p(f,"class","text-gray-500 text-center text-xs"),p(r,"class","max-w-md text-center"),p(e,"class","w-full h-full flex flex-col justify-center items-center my-16 mb-24")},m(k,C){V(k,e,C),m(e,r),m(r,t),m(r,i),m(r,a),m(a,s),m(r,d),m(r,f),m(f,_)},p(k,C){C[0]&2048&&n!==(n=k[11].t("No prompts found")+"")&&Y(s,n),C[0]&2048&&c!==(c=k[11].t("Try adjusting your search or filter to find what you are looking for.")+"")&&Y(_,c)},i:De,o:De,d(k){k&&u(e)}}}function ir(o){let e,r,t=Ze(o[10]),l=[];for(let a=0;a<t.length;a+=1)l[a]=ft(st(o,t,a));const i=a=>E(l[a],1,1,()=>{l[a]=null});return{c(){e=v("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=$(a,"DIV",{class:!0});var n=w(e);for(let s=0;s<l.length;s+=1)l[s].l(n);n.forEach(u),this.h()},h(){p(e,"class","gap-2 grid my-2 px-3 lg:grid-cols-2")},m(a,n){V(a,e,n);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null);r=!0},p(a,n){if(n[0]&1969544){t=Ze(a[10]);let s;for(s=0;s<t.length;s+=1){const d=st(a,t,s);l[s]?(l[s].p(d,n),y(l[s],1)):(l[s]=ft(d),l[s].c(),y(l[s],1),l[s].m(e,null))}for(ge(),s=t.length;s<l.length;s+=1)i(s);ve()}},i(a){if(!r){for(let n=0;n<t.length;n+=1)y(l[n]);r=!0}},o(a){l=l.filter(Boolean);for(let n=0;n<l.length;n+=1)E(l[n]);r=!1},d(a){a&&u(e),Et(l,a)}}}function fr(o){var l,i,a,n;let e,r=o[11].t("By {{name}}",{name:lt(((i=(l=o[40])==null?void 0:l.user)==null?void 0:i.name)??((n=(a=o[40])==null?void 0:a.user)==null?void 0:n.email)??o[11].t("Deleted User"))})+"",t;return{c(){e=v("div"),t=G(r),this.h()},l(s){e=$(s,"DIV",{class:!0});var d=w(e);t=X(d,r),d.forEach(u),this.h()},h(){p(e,"class","shrink-0 text-gray-500")},m(s,d){V(s,e,d),m(e,t)},p(s,d){var f,c,_,k;d[0]&3072&&r!==(r=s[11].t("By {{name}}",{name:lt(((c=(f=s[40])==null?void 0:f.user)==null?void 0:c.name)??((k=(_=s[40])==null?void 0:_.user)==null?void 0:k.email)??s[11].t("Deleted User"))})+"")&&Y(t,r)},d(s){s&&u(e)}}}function cr(o){let e,r;function t(){return o[34](o[40])}function l(){return o[35](o[40])}function i(){return o[36](o[40])}function a(){return o[37](o[40])}return e=new lr({props:{shareHandler:t,cloneHandler:l,exportHandler:i,deleteHandler:a,onClose:hr,$$slots:{default:[dr]},$$scope:{ctx:o}}}),{c(){j(e.$$.fragment)},l(n){M(e.$$.fragment,n)},m(n,s){z(e,n,s),r=!0},p(n,s){o=n;const d={};s[0]&1024&&(d.shareHandler=t),s[0]&1024&&(d.cloneHandler=l),s[0]&1024&&(d.exportHandler=i),s[0]&1408&&(d.deleteHandler=a),s[1]&4096&&(d.$$scope={dirty:s,ctx:o}),e.$set(d)},i(n){r||(y(e.$$.fragment,n),r=!0)},o(n){E(e.$$.fragment,n),r=!1},d(n){A(e,n)}}}function ur(o){let e,r;return e=new Me({props:{content:o[11].t("Delete"),$$slots:{default:[mr]},$$scope:{ctx:o}}}),{c(){j(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){z(e,t,l),r=!0},p(t,l){const i={};l[0]&2048&&(i.content=t[11].t("Delete")),l[0]&1024|l[1]&4096&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}function dr(o){let e,r,t;return r=new jt({props:{className:"size-5"}}),{c(){e=v("button"),j(r.$$.fragment),this.h()},l(l){e=$(l,"BUTTON",{class:!0,type:!0});var i=w(e);M(r.$$.fragment,i),i.forEach(u),this.h()},h(){p(e,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(l,i){V(l,e,i),z(r,e,null),t=!0},p:De,i(l){t||(y(r.$$.fragment,l),t=!0)},o(l){E(r.$$.fragment,l),t=!1},d(l){l&&u(e),A(r)}}}function mr(o){let e,r,t,l,i;r=new mt({});function a(){return o[33](o[40])}return{c(){e=v("button"),j(r.$$.fragment),this.h()},l(n){e=$(n,"BUTTON",{class:!0,type:!0});var s=w(e);M(r.$$.fragment,s),s.forEach(u),this.h()},h(){p(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(n,s){V(n,e,s),z(r,e,null),t=!0,l||(i=pe(e,"click",a),l=!0)},p(n,s){o=n},i(n){t||(y(r.$$.fragment,n),t=!0)},o(n){E(r.$$.fragment,n),t=!1},d(n){n&&u(e),A(r),l=!1,i()}}}function ft(o){var ee,oe;let e,r,t,l,i=o[40].title+"",a,n,s,d=o[40].command+"",f,c,_,k,C,S,T,I,O,B,b;k=new Me({props:{content:((oe=(ee=o[40])==null?void 0:ee.user)==null?void 0:oe.email)??o[11].t("Deleted User"),className:"flex shrink-0",placement:"top-start",$$slots:{default:[fr]},$$scope:{ctx:o}}});const J=[ur,cr],R=[];function Z(D,U){return D[3]?0:1}return T=Z(o),I=R[T]=J[T](o),{c(){e=v("a"),r=v("div"),t=v("div"),l=v("div"),a=G(i),n=N(),s=v("div"),f=G(d),c=N(),_=v("div"),j(k.$$.fragment),C=N(),S=v("div"),I.c(),O=N(),this.h()},l(D){e=$(D,"A",{class:!0,href:!0});var U=w(e);r=$(U,"DIV",{class:!0});var L=w(r);t=$(L,"DIV",{class:!0});var Q=w(t);l=$(Q,"DIV",{class:!0});var re=w(l);a=X(re,i),re.forEach(u),n=P(Q),s=$(Q,"DIV",{class:!0});var ae=w(s);f=X(ae,d),ae.forEach(u),Q.forEach(u),c=P(L),_=$(L,"DIV",{class:!0});var le=w(_);M(k.$$.fragment,le),le.forEach(u),L.forEach(u),C=P(U),S=$(U,"DIV",{class:!0});var fe=w(S);I.l(fe),fe.forEach(u),O=P(U),U.forEach(u),this.h()},h(){p(l,"class","font-medium line-clamp-1 capitalize"),p(s,"class","text-xs overflow-hidden text-ellipsis line-clamp-1 text-gray-500"),p(t,"class","flex-1 flex items-center gap-2 self-start"),p(_,"class","text-xs"),p(r,"class","flex flex-col flex-1 space-x-4 cursor-pointer w-full pl-1"),p(S,"class","flex flex-row gap-0.5 self-center"),p(e,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2.5 dark:hover:bg-gray-850/50 hover:bg-gray-50 transition rounded-2xl"),p(e,"href",B=`/workspace/prompts/edit?command=${encodeURIComponent(o[40].command)}`)},m(D,U){V(D,e,U),m(e,r),m(r,t),m(t,l),m(l,a),m(t,n),m(t,s),m(s,f),m(r,c),m(r,_),z(k,_,null),m(e,C),m(e,S),R[T].m(S,null),m(e,O),b=!0},p(D,U){var re,ae;(!b||U[0]&1024)&&i!==(i=D[40].title+"")&&Y(a,i),(!b||U[0]&1024)&&d!==(d=D[40].command+"")&&Y(f,d);const L={};U[0]&3072&&(L.content=((ae=(re=D[40])==null?void 0:re.user)==null?void 0:ae.email)??D[11].t("Deleted User")),U[0]&3072|U[1]&4096&&(L.$$scope={dirty:U,ctx:D}),k.$set(L);let Q=T;T=Z(D),T===Q?R[T].p(D,U):(ge(),E(R[Q],1,1,()=>{R[Q]=null}),ve(),I=R[T],I?I.p(D,U):(I=R[T]=J[T](D),I.c()),y(I,1),I.m(S,null)),(!b||U[0]&1024&&B!==(B=`/workspace/prompts/edit?command=${encodeURIComponent(D[40].command)}`))&&p(e,"href",B)},i(D){b||(y(k.$$.fragment,D),y(I),b=!0)},o(D){E(k.$$.fragment,D),E(I),b=!1},d(D){D&&u(e),A(k),R[T].d()}}}function ct(o){let e,r,t=o[11].t("Made by Open WebUI Community")+"",l,i,a,n,s,d=o[11].t("Discover a prompt")+"",f,c,_,k=o[11].t("Discover, download, and explore custom prompts")+"",C,S,T,I,O,B;return O=new Wt({}),{c(){e=v("div"),r=v("div"),l=G(t),i=N(),a=v("a"),n=v("div"),s=v("div"),f=G(d),c=N(),_=v("div"),C=G(k),S=N(),T=v("div"),I=v("div"),j(O.$$.fragment),this.h()},l(b){e=$(b,"DIV",{class:!0});var J=w(e);r=$(J,"DIV",{class:!0});var R=w(r);l=X(R,t),R.forEach(u),i=P(J),a=$(J,"A",{class:!0,href:!0,target:!0});var Z=w(a);n=$(Z,"DIV",{class:!0});var ee=w(n);s=$(ee,"DIV",{class:!0});var oe=w(s);f=X(oe,d),oe.forEach(u),c=P(ee),_=$(ee,"DIV",{class:!0});var D=w(_);C=X(D,k),D.forEach(u),ee.forEach(u),S=P(Z),T=$(Z,"DIV",{});var U=w(T);I=$(U,"DIV",{});var L=w(I);M(O.$$.fragment,L),L.forEach(u),U.forEach(u),Z.forEach(u),J.forEach(u),this.h()},h(){p(r,"class","text-xl font-medium mb-1 line-clamp-1"),p(s,"class","font-semibold line-clamp-1"),p(_,"class","text-sm line-clamp-1"),p(n,"class","self-center"),p(a,"class","flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition"),p(a,"href","https://openwebui.com/prompts"),p(a,"target","_blank"),p(e,"class","my-16")},m(b,J){V(b,e,J),m(e,r),m(r,l),m(e,i),m(e,a),m(a,n),m(n,s),m(s,f),m(n,c),m(n,_),m(_,C),m(a,S),m(a,T),m(T,I),z(O,I,null),B=!0},p(b,J){(!B||J[0]&2048)&&t!==(t=b[11].t("Made by Open WebUI Community")+"")&&Y(l,t),(!B||J[0]&2048)&&d!==(d=b[11].t("Discover a prompt")+"")&&Y(f,d),(!B||J[0]&2048)&&k!==(k=b[11].t("Discover, download, and explore custom prompts")+"")&&Y(C,k)},i(b){B||(y(O.$$.fragment,b),B=!0)},o(b){E(O.$$.fragment,b),B=!1},d(b){b&&u(e),A(O)}}}function pr(o){let e,r,t,l,i,a;document.title=e=`
		`+o[11].t("Prompts")+" • "+o[13]+`
	`;const n=[sr,nr],s=[];function d(f,c){return f[5]?0:1}return t=d(o),l=s[t]=n[t](o),{c(){r=N(),l.c(),i=ye()},l(f){bt("svelte-16rw8in",document.head).forEach(u),r=P(f),l.l(f),i=ye()},m(f,c){V(f,r,c),s[t].m(f,c),V(f,i,c),a=!0},p(f,c){(!a||c[0]&10240)&&e!==(e=`
		`+f[11].t("Prompts")+" • "+f[13]+`
	`)&&(document.title=e);let _=t;t=d(f),t===_?s[t].p(f,c):(ge(),E(s[_],1,1,()=>{s[_]=null}),ve(),l=s[t],l?l.p(f,c):(l=s[t]=n[t](f),l.c()),y(l,1),l.m(i.parentNode,i))},i(f){a||(y(l),a=!0)},o(f){E(l),a=!1},d(f){f&&(u(r),u(i)),s[t].d(f)}}}const _r=o=>{o.deltaY!==0&&(o.preventDefault(),o.currentTarget.scrollLeft+=o.deltaY)},hr=()=>{};function gr(o,e,r){let t,l,i,a;ke(o,St,g=>r(12,l=g)),ke(o,Ht,g=>r(13,i=g)),ke(o,dt,g=>r(14,a=g));const{saveAs:n}=Vt;let s=!1;const d=ut("i18n");ke(o,d,g=>r(11,t=g));let f,c=!1,_="",k="",C=[],S=!1,T=null,I,O="",B=[];const b=()=>{r(10,B=C.filter(g=>{var W,F;if(k===""&&O==="")return!0;const x=k.toLowerCase();return((g.title||"").toLowerCase().includes(x)||(g.command||"").toLowerCase().includes(x)||(((W=g.user)==null?void 0:W.name)||"").toLowerCase().includes(x)||(((F=g.user)==null?void 0:F.email)||"").toLowerCase().includes(x))&&(O===""||O==="created"&&g.user_id===(l==null?void 0:l.id)||O==="shared"&&g.user_id!==(l==null?void 0:l.id))}))},J=async g=>{Pe.success(t.t("Redirecting you to Open WebUI Community"));const x="https://openwebui.com",W=await window.open(`${x}/prompts/create`,"_blank");window.addEventListener("message",F=>{F.origin===x&&F.data==="loaded"&&W.postMessage(JSON.stringify(g),"*")},!1)},R=async g=>{const x={...g};x.title=`${x.title} (Clone)`;const W=x.command.startsWith("/")?x.command.substring(1):x.command;x.command=Pt(`${W} clone`),sessionStorage.prompt=JSON.stringify(x),Ct("/workspace/prompts/create")},Z=async g=>{let x=new Blob([JSON.stringify([g])],{type:"application/json"});n(x,`prompt-export-${Date.now()}.json`)},ee=async g=>{const x=g.command;await xt(localStorage.token,x).catch(F=>(Pe.error(F),null))&&Pe.success(t.t("Deleted {{name}}",{name:x})),await oe()},oe=async()=>{r(1,C=await tt(localStorage.token)),await et.set(await rt(localStorage.token))};wt(async()=>{r(2,O=(localStorage==null?void 0:localStorage.workspaceViewOption)||""),await oe(),r(5,c=!0);const g=F=>{F.key==="Shift"&&r(3,s=!0)},x=F=>{F.key==="Shift"&&r(3,s=!1)},W=()=>{r(3,s=!1)};return window.addEventListener("keydown",g),window.addEventListener("keyup",x),window.addEventListener("blur",W),()=>{window.removeEventListener("keydown",g),window.removeEventListener("keyup",x),window.removeEventListener("blur",W)}});function D(g){S=g,r(7,S)}const U=()=>{ee(T)};function L(g){He[g?"unshift":"push"](()=>{f=g,r(4,f)})}function Q(){_=this.files,r(6,_)}const re=()=>{const g=new FileReader;g.onload=async x=>{const W=JSON.parse(x.target.result);for(const F of W)await Nt(localStorage.token,{command:F.command.charAt(0)==="/"?F.command.slice(1):F.command,title:F.title,content:F.content}).catch(xe=>(Pe.error(`${xe}`),null));r(1,C=await tt(localStorage.token)),await et.set(await rt(localStorage.token)),r(6,_=[]),r(4,f.value="",f)},g.readAsText(_[0])},ae=()=>{f.click()},le=async()=>{let g=new Blob([JSON.stringify(C)],{type:"application/json"});n(g,`prompts-export-${Date.now()}.json`)};function fe(){k=this.value,r(0,k)}const Ee=()=>{r(0,k="")},Ie=async g=>{localStorage.workspaceViewOption=g,await kt()};function ce(g){O=g,r(2,O)}function ue(g){He[g?"unshift":"push"](()=>{I=g,r(9,I)})}const ie=g=>{ee(g)},Ve=g=>{J(g)},Ce=g=>{R(g)},ne=g=>{Z(g)},se=async g=>{r(8,T=g),r(7,S=!0)};return o.$$.update=()=>{o.$$.dirty[0]&7&&C&&k!==void 0&&O!==void 0&&b()},[k,C,O,s,f,c,_,S,T,I,B,t,l,i,a,n,d,J,R,Z,ee,D,U,L,Q,re,ae,le,fe,Ee,Ie,ce,ue,ie,Ve,Ce,ne,se]}class vr extends Be{constructor(e){super(),Le(this,e,gr,pr,je,{},null,[-1,-1])}}function $r(o){let e,r;return e=new vr({}),{c(){j(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,l){z(e,t,l),r=!0},p:De,i(t){r||(y(e.$$.fragment,t),r=!0)},o(t){E(e.$$.fragment,t),r=!1},d(t){A(e,t)}}}class Fr extends Be{constructor(e){super(),Le(this,e,null,$r,je,{})}}export{Fr as component};
//# sourceMappingURL=36.ttvQDwCN.js.map
