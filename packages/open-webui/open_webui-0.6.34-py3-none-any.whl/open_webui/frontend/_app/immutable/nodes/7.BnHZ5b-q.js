import{S as Me,i as Ne,s as We,l as B,m as ve,o as xe,d,p as O,g as V,q as D,r as M,u as Ie,k as x,v as Be,w as Oe,x as Ue,e as w,c as g,a as b,f as c,h as k,y as Ae,z as qe,A as Ke,B as Pe,C as De,D as Ve,E as Te,F as Ce,G as je,n as ze,t as z,b as F,j as G}from"../chunks/BsAB9Z30.js";import"../chunks/IHki7fMi.js";import{u as Fe,W as Ge,s as ke,m as Le}from"../chunks/BzMu2T5T.js";import{p as $e}from"../chunks/C4FH1jaS.js";import{g as j}from"../chunks/CfFtnCED.js";import{T as He}from"../chunks/cMkWkffq.js";import{S as Je}from"../chunks/BfJ33jvc.js";function we(r){var U,L,$,H,J,Q,R,X,Y,Z,ee,te,se,ae,le,re;let s,l,a,o,e,t,f,y,I,N,S,T,A,i=r[6]&&ge(r),u=(((U=r[1])==null?void 0:U.role)==="admin"||((H=($=(L=r[1])==null?void 0:L.permissions)==null?void 0:$.workspace)==null?void 0:H.models))&&be(r),p=(((J=r[1])==null?void 0:J.role)==="admin"||((X=(R=(Q=r[1])==null?void 0:Q.permissions)==null?void 0:R.workspace)==null?void 0:X.knowledge))&&ye(r),m=(((Y=r[1])==null?void 0:Y.role)==="admin"||((te=(ee=(Z=r[1])==null?void 0:Z.permissions)==null?void 0:ee.workspace)==null?void 0:te.prompts))&&Ee(r),h=(((se=r[1])==null?void 0:se.role)==="admin"||((re=(le=(ae=r[1])==null?void 0:ae.permissions)==null?void 0:le.workspace)==null?void 0:re.tools))&&Se(r);const W=r[8].default,_=Ue(W,r,r[10],null);return{c(){s=w("div"),l=w("nav"),a=w("div"),i&&i.c(),o=B(),e=w("div"),t=w("div"),u&&u.c(),f=B(),p&&p.c(),y=B(),m&&m.c(),I=B(),h&&h.c(),N=B(),S=w("div"),_&&_.c(),this.h()},l(n){s=g(n,"DIV",{class:!0});var v=b(s);l=g(v,"NAV",{class:!0});var q=b(l);a=g(q,"DIV",{class:!0});var C=b(a);i&&i.l(C),o=O(C),e=g(C,"DIV",{class:!0});var K=b(e);t=g(K,"DIV",{class:!0});var E=b(t);u&&u.l(E),f=O(E),p&&p.l(E),y=O(E),m&&m.l(E),I=O(E),h&&h.l(E),E.forEach(d),K.forEach(d),C.forEach(d),q.forEach(d),N=O(v),S=g(v,"DIV",{class:!0,id:!0});var P=b(S);_&&_.l(P),P.forEach(d),v.forEach(d),this.h()},h(){c(t,"class","flex gap-1 scrollbar-none overflow-x-auto w-fit text-center text-sm font-medium rounded-full bg-transparent py-1 touch-auto pointer-events-auto"),c(e,"class",""),c(a,"class","flex items-center gap-1"),c(l,"class","px-2.5 pt-1.5 backdrop-blur-xl drag-region"),c(S,"class","pb-1 px-3 md:px-[18px] flex-1 max-h-full overflow-y-auto"),c(S,"id","workspace-container"),c(s,"class",T="relative flex flex-col w-full h-screen max-h-[100dvh] transition-width duration-200 ease-in-out "+(r[5]?"md:max-w-[calc(100%-260px)]":"")+" max-w-full")},m(n,v){V(n,s,v),k(s,l),k(l,a),i&&i.m(a,null),k(a,o),k(a,e),k(e,t),u&&u.m(t,null),k(t,f),p&&p.m(t,null),k(t,y),m&&m.m(t,null),k(t,I),h&&h.m(t,null),k(s,N),k(s,S),_&&_.m(S,null),A=!0},p(n,v){var q,C,K,E,P,oe,ie,ne,fe,ce,de,ue,pe,me,he,_e;n[6]?i?(i.p(n,v),v&64&&D(i,1)):(i=ge(n),i.c(),D(i,1),i.m(a,o)):i&&(Ae(),M(i,1,1,()=>{i=null}),Ie()),((q=n[1])==null?void 0:q.role)==="admin"||(E=(K=(C=n[1])==null?void 0:C.permissions)==null?void 0:K.workspace)!=null&&E.models?u?u.p(n,v):(u=be(n),u.c(),u.m(t,f)):u&&(u.d(1),u=null),((P=n[1])==null?void 0:P.role)==="admin"||(ne=(ie=(oe=n[1])==null?void 0:oe.permissions)==null?void 0:ie.workspace)!=null&&ne.knowledge?p?p.p(n,v):(p=ye(n),p.c(),p.m(t,y)):p&&(p.d(1),p=null),((fe=n[1])==null?void 0:fe.role)==="admin"||(ue=(de=(ce=n[1])==null?void 0:ce.permissions)==null?void 0:de.workspace)!=null&&ue.prompts?m?m.p(n,v):(m=Ee(n),m.c(),m.m(t,I)):m&&(m.d(1),m=null),((pe=n[1])==null?void 0:pe.role)==="admin"||(_e=(he=(me=n[1])==null?void 0:me.permissions)==null?void 0:he.workspace)!=null&&_e.tools?h?h.p(n,v):(h=Se(n),h.c(),h.m(t,null)):h&&(h.d(1),h=null),_&&_.p&&(!A||v&1024)&&qe(_,W,n,n[10],A?Pe(W,n[10],v,null):Ke(n[10]),null),(!A||v&32&&T!==(T="relative flex flex-col w-full h-screen max-h-[100dvh] transition-width duration-200 ease-in-out "+(n[5]?"md:max-w-[calc(100%-260px)]":"")+" max-w-full"))&&c(s,"class",T)},i(n){A||(D(i),D(_,n),A=!0)},o(n){M(i),M(_,n),A=!1},d(n){n&&d(s),i&&i.d(),u&&u.d(),p&&p.d(),m&&m.d(),h&&h.d(),_&&_.d(n)}}}function ge(r){let s,l,a,o;return l=new He({props:{content:r[5]?r[3].t("Close Sidebar"):r[3].t("Open Sidebar"),interactive:!0,$$slots:{default:[Qe]},$$scope:{ctx:r}}}),{c(){s=w("div"),De(l.$$.fragment),this.h()},l(e){s=g(e,"DIV",{class:!0});var t=b(s);Ve(l.$$.fragment,t),t.forEach(d),this.h()},h(){c(s,"class",a=(r[5]?"md:hidden":"")+" self-center flex flex-none items-center")},m(e,t){V(e,s,t),Te(l,s,null),o=!0},p(e,t){const f={};t&40&&(f.content=e[5]?e[3].t("Close Sidebar"):e[3].t("Open Sidebar")),t&1056&&(f.$$scope={dirty:t,ctx:e}),l.$set(f),(!o||t&32&&a!==(a=(e[5]?"md:hidden":"")+" self-center flex flex-none items-center"))&&c(s,"class",a)},i(e){o||(D(l.$$.fragment,e),o=!0)},o(e){M(l.$$.fragment,e),o=!1},d(e){e&&d(s),Ce(l)}}}function Qe(r){let s,l,a,o,e,t;return a=new Je({}),{c(){s=w("button"),l=w("div"),De(a.$$.fragment),this.h()},l(f){s=g(f,"BUTTON",{id:!0,class:!0});var y=b(s);l=g(y,"DIV",{class:!0});var I=b(l);Ve(a.$$.fragment,I),I.forEach(d),y.forEach(d),this.h()},h(){c(l,"class","self-center p-1.5"),c(s,"id","sidebar-toggle-button"),c(s,"class","cursor-pointer flex rounded-lg hover:bg-gray-100 dark:hover:bg-gray-850 transition cursor-")},m(f,y){V(f,s,y),k(s,l),Te(a,l,null),o=!0,e||(t=je(s,"click",r[9]),e=!0)},p:ze,i(f){o||(D(a.$$.fragment,f),o=!0)},o(f){M(a.$$.fragment,f),o=!1},d(f){f&&d(s),Ce(a),e=!1,t()}}}function be(r){let s,l=r[3].t("Models")+"",a,o;return{c(){s=w("a"),a=z(l),this.h()},l(e){s=g(e,"A",{class:!0,href:!0});var t=b(s);a=F(t,l),t.forEach(d),this.h()},h(){c(s,"class",o="min-w-fit p-1.5 "+(r[2].url.pathname.includes("/workspace/models")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),c(s,"href","/workspace/models")},m(e,t){V(e,s,t),k(s,a)},p(e,t){t&8&&l!==(l=e[3].t("Models")+"")&&G(a,l),t&4&&o!==(o="min-w-fit p-1.5 "+(e[2].url.pathname.includes("/workspace/models")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&c(s,"class",o)},d(e){e&&d(s)}}}function ye(r){let s,l=r[3].t("Knowledge")+"",a,o;return{c(){s=w("a"),a=z(l),this.h()},l(e){s=g(e,"A",{class:!0,href:!0});var t=b(s);a=F(t,l),t.forEach(d),this.h()},h(){c(s,"class",o="min-w-fit p-1.5 "+(r[2].url.pathname.includes("/workspace/knowledge")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),c(s,"href","/workspace/knowledge")},m(e,t){V(e,s,t),k(s,a)},p(e,t){t&8&&l!==(l=e[3].t("Knowledge")+"")&&G(a,l),t&4&&o!==(o="min-w-fit p-1.5 "+(e[2].url.pathname.includes("/workspace/knowledge")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&c(s,"class",o)},d(e){e&&d(s)}}}function Ee(r){let s,l=r[3].t("Prompts")+"",a,o;return{c(){s=w("a"),a=z(l),this.h()},l(e){s=g(e,"A",{class:!0,href:!0});var t=b(s);a=F(t,l),t.forEach(d),this.h()},h(){c(s,"class",o="min-w-fit p-1.5 "+(r[2].url.pathname.includes("/workspace/prompts")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),c(s,"href","/workspace/prompts")},m(e,t){V(e,s,t),k(s,a)},p(e,t){t&8&&l!==(l=e[3].t("Prompts")+"")&&G(a,l),t&4&&o!==(o="min-w-fit p-1.5 "+(e[2].url.pathname.includes("/workspace/prompts")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&c(s,"class",o)},d(e){e&&d(s)}}}function Se(r){let s,l=r[3].t("Tools")+"",a,o;return{c(){s=w("a"),a=z(l),this.h()},l(e){s=g(e,"A",{class:!0,href:!0});var t=b(s);a=F(t,l),t.forEach(d),this.h()},h(){c(s,"class",o="min-w-fit p-1.5 "+(r[2].url.pathname.includes("/workspace/tools")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition"),c(s,"href","/workspace/tools")},m(e,t){V(e,s,t),k(s,a)},p(e,t){t&8&&l!==(l=e[3].t("Tools")+"")&&G(a,l),t&4&&o!==(o="min-w-fit p-1.5 "+(e[2].url.pathname.includes("/workspace/tools")?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition")&&c(s,"class",o)},d(e){e&&d(s)}}}function Re(r){let s,l,a,o;document.title=s=`
		`+r[3].t("Workspace")+" • "+r[4]+`
	`;let e=r[0]&&we(r);return{c(){l=B(),e&&e.c(),a=ve()},l(t){xe("svelte-14uepb1",document.head).forEach(d),l=O(t),e&&e.l(t),a=ve()},m(t,f){V(t,l,f),e&&e.m(t,f),V(t,a,f),o=!0},p(t,[f]){(!o||f&24)&&s!==(s=`
		`+t[3].t("Workspace")+" • "+t[4]+`
	`)&&(document.title=s),t[0]?e?(e.p(t,f),f&1&&D(e,1)):(e=we(t),e.c(),D(e,1),e.m(a.parentNode,a)):e&&(Ae(),M(e,1,1,()=>{e=null}),Ie())},i(t){o||(D(e),o=!0)},o(t){M(e),o=!1},d(t){t&&(d(l),d(a)),e&&e.d(t)}}}function Xe(r,s,l){let a,o,e,t,f,y;x(r,Fe,i=>l(1,a=i)),x(r,$e,i=>l(2,o=i)),x(r,Ge,i=>l(4,t=i)),x(r,ke,i=>l(5,f=i)),x(r,Le,i=>l(6,y=i));let{$$slots:I={},$$scope:N}=s;const S=Be("i18n");x(r,S,i=>l(3,e=i));let T=!1;Oe(async()=>{var i,u,p,m,h,W,_,U;(a==null?void 0:a.role)!=="admin"&&(o.url.pathname.includes("/models")&&!((u=(i=a==null?void 0:a.permissions)==null?void 0:i.workspace)!=null&&u.models)?j("/"):o.url.pathname.includes("/knowledge")&&!((m=(p=a==null?void 0:a.permissions)==null?void 0:p.workspace)!=null&&m.knowledge)?j("/"):o.url.pathname.includes("/prompts")&&!((W=(h=a==null?void 0:a.permissions)==null?void 0:h.workspace)!=null&&W.prompts)?j("/"):o.url.pathname.includes("/tools")&&!((U=(_=a==null?void 0:a.permissions)==null?void 0:_.workspace)!=null&&U.tools)&&j("/")),l(0,T=!0)});const A=()=>{ke.set(!f)};return r.$$set=i=>{"$$scope"in i&&l(10,N=i.$$scope)},[T,a,o,e,t,f,y,S,I,A,N]}class rt extends Me{constructor(s){super(),Ne(this,s,Xe,Re,We,{})}}export{rt as component};
//# sourceMappingURL=7.BnHZ5b-q.js.map
