{"version":3,"file":"26.BuOYBWoI.js","sources":["../../../../../../src/lib/components/playground/Chat/Message.svelte","../../../../../../src/lib/components/playground/Chat/Messages.svelte","../../../../../../src/lib/components/playground/Chat.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport { onMount, getContext } from 'svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let message;\n\texport let idx;\n\n\texport let onDelete;\n\n\tlet textAreaElement: HTMLTextAreaElement;\n\n\tonMount(() => {\n\t\ttextAreaElement.style.height = '';\n\t\ttextAreaElement.style.height = textAreaElement.scrollHeight + 'px';\n\t});\n</script>\n\n<div class=\"flex gap-2 group\">\n\t<div class=\"flex items-start pt-1\">\n\t\t<div\n\t\t\tclass=\"px-2 py-1 text-sm font-semibold uppercase min-w-[6rem] text-left rounded-lg transition\"\n\t\t>\n\t\t\t{$i18n.t(message.role)}\n\t\t</div>\n\t</div>\n\n\t<div class=\"flex-1\">\n\t\t<!-- $i18n.t('a user') -->\n\t\t<!-- $i18n.t('an assistant') -->\n\t\t<textarea\n\t\t\tid=\"{message.role}-{idx}-textarea\"\n\t\t\tbind:this={textAreaElement}\n\t\t\tclass=\"w-full bg-transparent outline-hidden rounded-lg p-2 text-sm resize-none overflow-hidden\"\n\t\t\tplaceholder={$i18n.t(`Enter {{role}} message here`, {\n\t\t\t\trole: message.role === 'user' ? $i18n.t('a user') : $i18n.t('an assistant')\n\t\t\t})}\n\t\t\trows=\"1\"\n\t\t\ton:input={(e) => {\n\t\t\t\ttextAreaElement.style.height = '';\n\t\t\t\ttextAreaElement.style.height = textAreaElement.scrollHeight + 'px';\n\t\t\t}}\n\t\t\ton:focus={(e) => {\n\t\t\t\ttextAreaElement.style.height = '';\n\t\t\t\ttextAreaElement.style.height = textAreaElement.scrollHeight + 'px';\n\n\t\t\t\t// e.target.style.height = Math.min(e.target.scrollHeight, 200) + 'px';\n\t\t\t}}\n\t\t\tbind:value={message.content}\n\t\t/>\n\t</div>\n\n\t<div class=\" pt-1\">\n\t\t<button\n\t\t\tclass=\" group-hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-300 transition\"\n\t\t\ton:click={() => {\n\t\t\t\tonDelete();\n\t\t\t}}\n\t\t>\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tclass=\"w-5 h-5\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\td=\"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t</button>\n\t</div>\n</div>\n","<script lang=\"ts\">\n\timport { onMount, getContext } from 'svelte';\n\timport Message from './Message.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\texport let messages = [];\n</script>\n\n<div class=\"py-3 space-y-3\">\n\t{#each messages as message, idx}\n\t\t<Message\n\t\t\t{message}\n\t\t\t{idx}\n\t\t\tonDelete={() => {\n\t\t\t\tmessages = messages.filter((message, messageIdx) => messageIdx !== idx);\n\t\t\t}}\n\t\t/>\n\t{/each}\n</div>\n","<script lang=\"ts\">\n\timport { toast } from 'svelte-sonner';\n\n\timport { goto } from '$app/navigation';\n\timport { onMount, tick, getContext } from 'svelte';\n\n\timport {\n\t\tOLLAMA_API_BASE_URL,\n\t\tOPENAI_API_BASE_URL,\n\t\tWEBUI_API_BASE_URL,\n\t\tWEBUI_BASE_URL\n\t} from '$lib/constants';\n\timport { WEBUI_NAME, config, user, models, settings } from '$lib/stores';\n\n\timport { chatCompletion } from '$lib/apis/openai';\n\n\timport { splitStream } from '$lib/utils';\n\timport Collapsible from '../common/Collapsible.svelte';\n\n\timport Messages from '$lib/components/playground/Chat/Messages.svelte';\n\timport ChevronUp from '../icons/ChevronUp.svelte';\n\timport ChevronDown from '../icons/ChevronDown.svelte';\n\timport Pencil from '../icons/Pencil.svelte';\n\timport Cog6 from '../icons/Cog6.svelte';\n\timport Sidebar from '../common/Sidebar.svelte';\n\timport ArrowRight from '../icons/ArrowRight.svelte';\n\n\tconst i18n = getContext('i18n');\n\n\tlet loaded = false;\n\n\tlet selectedModelId = '';\n\tlet loading = false;\n\tlet stopResponseFlag = false;\n\n\tlet systemTextareaElement: HTMLTextAreaElement;\n\tlet messagesContainerElement: HTMLDivElement;\n\n\tlet showSystem = false;\n\tlet showSettings = false;\n\n\tlet system = '';\n\n\tlet role = 'user';\n\tlet message = '';\n\n\tlet messages = [];\n\n\tconst scrollToBottom = () => {\n\t\tconst element = messagesContainerElement;\n\n\t\tif (element) {\n\t\t\telement.scrollTop = element?.scrollHeight;\n\t\t}\n\t};\n\n\tconst stopResponse = () => {\n\t\tstopResponseFlag = true;\n\t\tconsole.log('stopResponse');\n\t};\n\n\tconst resizeSystemTextarea = async () => {\n\t\tawait tick();\n\t\tif (systemTextareaElement) {\n\t\t\tsystemTextareaElement.style.height = '';\n\t\t\tsystemTextareaElement.style.height = Math.min(systemTextareaElement.scrollHeight, 555) + 'px';\n\t\t}\n\t};\n\n\t$: if (showSystem) {\n\t\tresizeSystemTextarea();\n\t}\n\n\tconst chatCompletionHandler = async () => {\n\t\tif (selectedModelId === '') {\n\t\t\ttoast.error($i18n.t('Please select a model.'));\n\t\t\treturn;\n\t\t}\n\n\t\tconst model = $models.find((model) => model.id === selectedModelId);\n\t\tif (!model) {\n\t\t\tselectedModelId = '';\n\t\t\treturn;\n\t\t}\n\n\t\tconst [res, controller] = await chatCompletion(\n\t\t\tlocalStorage.token,\n\t\t\t{\n\t\t\t\tmodel: model.id,\n\t\t\t\tstream: true,\n\t\t\t\tmessages: [\n\t\t\t\t\tsystem\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\trole: 'system',\n\t\t\t\t\t\t\t\tcontent: system\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t: undefined,\n\t\t\t\t\t...messages\n\t\t\t\t].filter((message) => message)\n\t\t\t},\n\t\t\t`${WEBUI_BASE_URL}/api`\n\t\t);\n\n\t\tlet responseMessage;\n\t\tif (messages.at(-1)?.role === 'assistant') {\n\t\t\tresponseMessage = messages.at(-1);\n\t\t} else {\n\t\t\tresponseMessage = {\n\t\t\t\trole: 'assistant',\n\t\t\t\tcontent: ''\n\t\t\t};\n\t\t\tmessages.push(responseMessage);\n\t\t\tmessages = messages;\n\t\t}\n\n\t\tawait tick();\n\t\tconst textareaElement = document.getElementById(`assistant-${messages.length - 1}-textarea`);\n\n\t\tif (res && res.ok) {\n\t\t\tconst reader = res.body\n\t\t\t\t.pipeThrough(new TextDecoderStream())\n\t\t\t\t.pipeThrough(splitStream('\\n'))\n\t\t\t\t.getReader();\n\n\t\t\twhile (true) {\n\t\t\t\tconst { value, done } = await reader.read();\n\t\t\t\tif (done || stopResponseFlag) {\n\t\t\t\t\tif (stopResponseFlag) {\n\t\t\t\t\t\tcontroller.abort('User: Stop Response');\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tlet lines = value.split('\\n');\n\n\t\t\t\t\tfor (const line of lines) {\n\t\t\t\t\t\tif (line !== '') {\n\t\t\t\t\t\t\tconsole.log(line);\n\t\t\t\t\t\t\tif (line === 'data: [DONE]') {\n\t\t\t\t\t\t\t\t// responseMessage.done = true;\n\t\t\t\t\t\t\t\tmessages = messages;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlet data = JSON.parse(line.replace(/^data: /, ''));\n\t\t\t\t\t\t\t\tconsole.log(data);\n\n\t\t\t\t\t\t\t\tif (responseMessage.content == '' && data.choices[0].delta.content == '\\n') {\n\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\ttextareaElement.style.height = textareaElement.scrollHeight + 'px';\n\n\t\t\t\t\t\t\t\t\tresponseMessage.content += data.choices[0].delta.content ?? '';\n\t\t\t\t\t\t\t\t\tmessages = messages;\n\n\t\t\t\t\t\t\t\t\ttextareaElement.style.height = textareaElement.scrollHeight + 'px';\n\n\t\t\t\t\t\t\t\t\tawait tick();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t}\n\n\t\t\t\tscrollToBottom();\n\t\t\t}\n\t\t}\n\t};\n\n\tconst addHandler = async () => {\n\t\tif (message) {\n\t\t\tmessages.push({\n\t\t\t\trole: role,\n\t\t\t\tcontent: message\n\t\t\t});\n\t\t\tmessages = messages;\n\t\t\tmessage = '';\n\t\t\tawait tick();\n\t\t\tscrollToBottom();\n\t\t}\n\t};\n\n\tconst submitHandler = async () => {\n\t\tif (selectedModelId) {\n\t\t\tawait addHandler();\n\n\t\t\tloading = true;\n\t\t\tawait chatCompletionHandler();\n\n\t\t\tloading = false;\n\t\t\tstopResponseFlag = false;\n\t\t}\n\t};\n\n\tonMount(async () => {\n\t\tif ($user?.role !== 'admin') {\n\t\t\tawait goto('/');\n\t\t}\n\n\t\tif ($settings?.models) {\n\t\t\tselectedModelId = $settings?.models[0];\n\t\t} else if ($config?.default_models) {\n\t\t\tselectedModelId = $config?.default_models.split(',')[0];\n\t\t} else {\n\t\t\tselectedModelId = '';\n\t\t}\n\t\tloaded = true;\n\t});\n</script>\n\n<div class=\" flex flex-col justify-between w-full overflow-y-auto h-full\">\n\t<div class=\"mx-auto w-full md:px-0 h-full relative\">\n\t\t<div class=\" flex flex-col h-full px-3.5\">\n\t\t\t<div class=\"flex w-full items-start gap-1.5\">\n\t\t\t\t<Collapsible\n\t\t\t\t\tclassName=\"w-full flex-1\"\n\t\t\t\t\tbind:open={showSystem}\n\t\t\t\t\tbuttonClassName=\"w-full rounded-lg text-sm border border-gray-100 dark:border-gray-850 w-full py-1 px-1.5\"\n\t\t\t\t\tgrow={true}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex gap-2 justify-between items-center\">\n\t\t\t\t\t\t<div class=\" shrink-0 font-medium ml-1.5\">\n\t\t\t\t\t\t\t{$i18n.t('System Instructions')}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{#if !showSystem}\n\t\t\t\t\t\t\t<div class=\" flex-1 text-gray-500 line-clamp-1\">\n\t\t\t\t\t\t\t\t{system}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\n\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t<button class=\"p-1.5 bg-transparent hover:bg-white/5 transition rounded-lg\">\n\t\t\t\t\t\t\t\t{#if showSystem}\n\t\t\t\t\t\t\t\t\t<ChevronUp className=\"size-3.5\" />\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<Pencil className=\"size-3.5\" />\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div slot=\"content\">\n\t\t\t\t\t\t<div class=\"pt-1 px-1.5\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tbind:this={systemTextareaElement}\n\t\t\t\t\t\t\t\tclass=\"w-full h-full bg-transparent resize-none outline-hidden text-sm\"\n\t\t\t\t\t\t\t\tbind:value={system}\n\t\t\t\t\t\t\t\tplaceholder={$i18n.t(\"You're a helpful assistant.\")}\n\t\t\t\t\t\t\t\ton:input={() => {\n\t\t\t\t\t\t\t\t\tresizeSystemTextarea();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\trows=\"4\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Collapsible>\n\t\t\t</div>\n\n\t\t\t<div\n\t\t\t\tclass=\" pb-2.5 flex flex-col justify-between w-full flex-auto overflow-auto h-0\"\n\t\t\t\tid=\"messages-container\"\n\t\t\t\tbind:this={messagesContainerElement}\n\t\t\t>\n\t\t\t\t<div class=\" h-full w-full flex flex-col\">\n\t\t\t\t\t<div class=\"flex-1 p-1\">\n\t\t\t\t\t\t<Messages bind:messages />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"pb-3\">\n\t\t\t\t<div class=\"border border-gray-100 dark:border-gray-850 w-full px-3 py-2.5 rounded-xl\">\n\t\t\t\t\t<div class=\"py-0.5\">\n\t\t\t\t\t\t<!-- $i18n.t('a user') -->\n\t\t\t\t\t\t<!-- $i18n.t('an assistant') -->\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\tbind:value={message}\n\t\t\t\t\t\t\tclass=\" w-full h-full bg-transparent resize-none outline-hidden text-sm\"\n\t\t\t\t\t\t\tplaceholder={$i18n.t(`Enter {{role}} message here`, {\n\t\t\t\t\t\t\t\trole: role === 'user' ? $i18n.t('a user') : $i18n.t('an assistant')\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\ton:input={(e) => {\n\t\t\t\t\t\t\t\te.target.style.height = '';\n\t\t\t\t\t\t\t\te.target.style.height = Math.min(e.target.scrollHeight, 150) + 'px';\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ton:focus={(e) => {\n\t\t\t\t\t\t\t\te.target.style.height = '';\n\t\t\t\t\t\t\t\te.target.style.height = Math.min(e.target.scrollHeight, 150) + 'px';\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\trows=\"2\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"flex justify-between flex-col sm:flex-row items-start sm:items-center gap-2 mt-2\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"shrink-0\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-gray-50 hover:bg-gray-100 text-gray-900 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition rounded-lg shrink-0 {($settings?.highContrastMode ??\n\t\t\t\t\t\t\t\tfalse)\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: 'outline-hidden'}\"\n\t\t\t\t\t\t\t\taria-pressed={role === 'assistant'}\n\t\t\t\t\t\t\t\taria-label={$i18n.t(\n\t\t\t\t\t\t\t\t\trole === 'user' ? 'Switch to Assistant role' : 'Switch to User role'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\trole = role === 'user' ? 'assistant' : 'user';\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{#if role === 'user'}\n\t\t\t\t\t\t\t\t\t{$i18n.t('User')}\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t{$i18n.t('Assistant')}\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class=\"flex items-center justify-between gap-2 w-full sm:w-auto\">\n\t\t\t\t\t\t\t<div class=\"flex-1\">\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\" bg-transparent border border-gray-100 dark:border-gray-850 rounded-lg py-1 px-2 -mx-0.5 text-sm outline-hidden w-full\"\n\t\t\t\t\t\t\t\t\tbind:value={selectedModelId}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{#each $models as model}\n\t\t\t\t\t\t\t\t\t\t<option value={model.id} class=\"bg-gray-50 dark:bg-gray-700\"\n\t\t\t\t\t\t\t\t\t\t\t>{model.name}</option\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"flex gap-2 shrink-0\">\n\t\t\t\t\t\t\t\t{#if !loading}\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tdisabled={message === ''}\n\t\t\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium disabled:bg-gray-50 dark:disabled:hover:bg-gray-850 disabled:cursor-not-allowed bg-gray-50 hover:bg-gray-100 text-gray-900 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-200 transition rounded-lg\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\taddHandler();\n\t\t\t\t\t\t\t\t\t\t\trole = role === 'user' ? 'assistant' : 'user';\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Add')}\n\t\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-lg\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tsubmitHandler();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Run')}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclass=\"px-3 py-1.5 text-sm font-medium bg-gray-300 text-black transition rounded-lg\"\n\t\t\t\t\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\t\t\t\t\tstopResponse();\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{$i18n.t('Cancel')}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n"],"names":["t0_value","ctx","attr","textarea","textarea_placeholder_value","insert_hydration","target","div4","anchor","append_hydration","div1","div0","div2","set_input_value","div3","button","dirty","set_data","t0","i18n","getContext","message","$$props","idx","onDelete","textAreaElement","onMount","$$invalidate","$$value","e","i","div","each_blocks","messages","messageIdx","create_if_block_3","t","t_value","option","option_value_value","button0","button0_disabled_value","button1","t2","t2_value","create_if_block_1","create_if_block","_a","button_aria_pressed_value","button_aria_label_value","add_render_callback","select","div14","div13","div12","div11","div10","div9","div5","div8","div6","div7","current","selectedModelId","loading","stopResponseFlag","systemTextareaElement","messagesContainerElement","showSystem","system","role","scrollToBottom","element","stopResponse","resizeSystemTextarea","tick","chatCompletionHandler","toast","$i18n","model","$models","res","controller","chatCompletion","WEBUI_BASE_URL","responseMessage","textareaElement","reader","splitStream","value","done","lines","line","data","error","addHandler","submitHandler","$user","goto","$settings","$config","select_value"],"mappings":"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"}