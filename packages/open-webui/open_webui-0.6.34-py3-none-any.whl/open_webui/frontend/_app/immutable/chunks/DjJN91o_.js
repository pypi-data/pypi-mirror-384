import{S as Ce,i as Ie,s as $e,V as De,W as ye,a as P,d as _,f as m,g as O,h as T,n as _e,H as Fe,I as Ke,C as q,D as R,E as Z,K as Ye,q as v,r as w,F as G,k as pe,v as Je,l as W,p as F,x as Ut,z as At,A as Wt,B as Ft,e as L,c as S,y as se,u as ie,t as re,b as oe,j as ae,G as ue,U as et,m as Ae,T as Ne,a0 as We,N as Jt,w as Xt,M as tt,L as lt,X as Qt}from"./BsAB9Z30.js";import{e as ve}from"./BjVHJN9o.js";import"./IHki7fMi.js";import"./BsJbWAQa.js";import{M as qt,a as Rt,b as Zt,c as nt}from"./4oMrtK1P.js";import{m as rt,z as ot,i as xt,k as el}from"./Dl9eNJPw.js";import{F as tl}from"./CU2r43ac.js";import{d as Ge,r as ll}from"./I1CDPYOB.js";import"./BXP-4RTu.js";import{S as nl}from"./CbQmQGdd.js";import{f as Gt}from"./g5t9vw8M.js";import"./CfFtnCED.js";import{p as rl,d as ol,u as al,g as sl}from"./B8k_Asxj.js";import{a as Kt,u as Yt,g as at,c as il,M as ke,m as fl,d as Re}from"./BzMu2T5T.js";import{t as me}from"./D1AOsjeD.js";import{g as Ze}from"./C-MpeODL.js";import{C as ul}from"./BjfKCu6r.js";import{S as cl}from"./D9KdRKiL.js";import{T as ce}from"./cMkWkffq.js";import{C as dl}from"./C5K_OTdC.js";import{L as ml}from"./FMLTfk-j.js";import{E as _l}from"./DkWXCM6m.js";import{E as hl}from"./CPRxkh2D.js";import{E as pl}from"./BNJXXAzR.js";function gl(o){let e,l;return{c(){e=De("svg"),l=De("path"),this.h()},l(t){e=ye(t,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=P(e);l=ye(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),P(l).forEach(_),n.forEach(_),this.h()},h(){m(l,"stroke-linecap","round"),m(l,"stroke-linejoin","round"),m(l,"d","M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill","none"),m(e,"viewBox","0 0 24 24"),m(e,"stroke-width",o[1]),m(e,"stroke","currentColor"),m(e,"class",o[0])},m(t,n){O(t,e,n),T(e,l)},p(t,[n]){n&2&&m(e,"stroke-width",t[1]),n&1&&m(e,"class",t[0])},i:_e,o:_e,d(t){t&&_(e)}}}function vl(o,e,l){let{className:t="size-4"}=e,{strokeWidth:n="1.5"}=e;return o.$$set=r=>{"className"in r&&l(0,t=r.className),"strokeWidth"in r&&l(1,n=r.strokeWidth)},[t,n]}class bl extends Ce{constructor(e){super(),Ie(this,e,vl,gl,$e,{className:0,strokeWidth:1})}}function wl(o){let e;const l=o[8].default,t=Ut(l,o,o[13],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,r){t&&t.m(n,r),e=!0},p(n,r){t&&t.p&&(!e||r&8192)&&At(t,l,n,n[13],e?Ft(l,n[13],r,null):Wt(n[13]),null)},i(n){e||(v(t,n),e=!0)},o(n){w(t,n),e=!1},d(n){t&&t.d(n)}}}function kl(o){var t;let e,l;return e=new ce({props:{content:o[5].t("More"),className:((t=o[6])==null?void 0:t.highContrastMode)??!1?"":"group-hover/item:opacity-100 opacity-0",$$slots:{default:[wl]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){Z(e,n,r),l=!0},p(n,r){var s;const a={};r&32&&(a.content=n[5].t("More")),r&64&&(a.className=((s=n[6])==null?void 0:s.highContrastMode)??!1?"":"group-hover/item:opacity-100 opacity-0"),r&8192&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){l||(v(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){G(e,n)}}}function $l(o){let e,l;return e=new _l({}),{c(){q(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){Z(e,t,n),l=!0},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Ml(o){let e,l;return e=new hl({}),{c(){q(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){Z(e,t,n),l=!0},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function El(o){let e=o[5].t("Keep in Sidebar")+"",l;return{c(){l=re(e)},l(t){l=oe(t,e)},m(t,n){O(t,l,n)},p(t,n){n&32&&e!==(e=t[5].t("Keep in Sidebar")+"")&&ae(l,e)},d(t){t&&_(l)}}}function Dl(o){let e=o[5].t("Hide from Sidebar")+"",l;return{c(){l=re(e)},l(t){l=oe(t,e)},m(t,n){O(t,l,n)},p(t,n){n&32&&e!==(e=t[5].t("Hide from Sidebar")+"")&&ae(l,e)},d(t){t&&_(l)}}}function yl(o){let e,l,t,n,r,a,s;const i=[Ml,$l],f=[];function c(g,I){var k,p;return I&66&&(e=null),e==null&&(e=!!(((k=g[6])==null?void 0:k.pinnedModels)??[]).includes((p=g[1])==null?void 0:p.id)),e?0:1}l=c(o,-1),t=f[l]=i[l](o);function d(g,I){var k,p;return I&66&&(a=null),a==null&&(a=!!(((k=g[6])==null?void 0:k.pinnedModels)??[]).includes((p=g[1])==null?void 0:p.id)),a?Dl:El}let D=d(o,-1),H=D(o);return{c(){t.c(),n=W(),r=L("div"),H.c(),this.h()},l(g){t.l(g),n=F(g),r=S(g,"DIV",{class:!0});var I=P(r);H.l(I),I.forEach(_),this.h()},h(){m(r,"class","flex items-center")},m(g,I){f[l].m(g,I),O(g,n,I),O(g,r,I),H.m(r,null),s=!0},p(g,I){let k=l;l=c(g,I),l!==k&&(se(),w(f[k],1,1,()=>{f[k]=null}),ie(),t=f[l],t||(t=f[l]=i[l](g),t.c()),v(t,1),t.m(n.parentNode,n)),D===(D=d(g,I))&&H?H.p(g,I):(H.d(1),H=D(g),H&&(H.c(),H.m(r,null)))},i(g){s||(v(t),s=!0)},o(g){w(t),s=!1},d(g){g&&(_(n),_(r)),f[l].d(g),H.d()}}}function Cl(o){let e,l,t,n=o[5].t("Copy Link")+"",r,a;return e=new ml({}),{c(){q(e.$$.fragment),l=W(),t=L("div"),r=re(n),this.h()},l(s){R(e.$$.fragment,s),l=F(s),t=S(s,"DIV",{class:!0});var i=P(t);r=oe(i,n),i.forEach(_),this.h()},h(){m(t,"class","flex items-center")},m(s,i){Z(e,s,i),O(s,l,i),O(s,t,i),T(t,r),a=!0},p(s,i){(!a||i&32)&&n!==(n=s[5].t("Copy Link")+"")&&ae(r,n)},i(s){a||(v(e.$$.fragment,s),a=!0)},o(s){w(e.$$.fragment,s),a=!1},d(s){s&&(_(l),_(t)),G(e,s)}}}function Il(o){var r,a;let e,l,t,n;return e=new nt({props:{type:"button","aria-pressed":(((r=o[6])==null?void 0:r.pinnedModels)??[]).includes((a=o[1])==null?void 0:a.id),class:"flex rounded-xl py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2",$$slots:{default:[yl]},$$scope:{ctx:o}}}),e.$on("click",o[9]),t=new nt({props:{type:"button",class:"flex rounded-xl py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition items-center gap-2",$$slots:{default:[Cl]},$$scope:{ctx:o}}}),t.$on("click",o[10]),{c(){q(e.$$.fragment),l=W(),q(t.$$.fragment)},l(s){R(e.$$.fragment,s),l=F(s),R(t.$$.fragment,s)},m(s,i){Z(e,s,i),O(s,l,i),Z(t,s,i),n=!0},p(s,i){var d,D;const f={};i&66&&(f["aria-pressed"]=(((d=s[6])==null?void 0:d.pinnedModels)??[]).includes((D=s[1])==null?void 0:D.id)),i&8290&&(f.$$scope={dirty:i,ctx:s}),e.$set(f);const c={};i&8224&&(c.$$scope={dirty:i,ctx:s}),t.$set(c)},i(s){n||(v(e.$$.fragment,s),v(t.$$.fragment,s),n=!0)},o(s){w(e.$$.fragment,s),w(t.$$.fragment,s),n=!1},d(s){s&&_(l),G(e,s),G(t,s)}}}function Nl(o){let e,l,t,n;return e=new Rt({props:{$$slots:{default:[kl]},$$scope:{ctx:o}}}),t=new Zt({props:{strategy:"fixed",class:"w-full max-w-[180px] text-sm rounded-2xl p-1 z-[9999999] bg-white dark:bg-gray-850 dark:text-white shadow-lg border border-gray-100  dark:border-gray-800",sideOffset:-2,side:"bottom",align:"end",transition:Gt,$$slots:{default:[Il]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment),l=W(),q(t.$$.fragment)},l(r){R(e.$$.fragment,r),l=F(r),R(t.$$.fragment,r)},m(r,a){Z(e,r,a),O(r,l,a),Z(t,r,a),n=!0},p(r,a){const s={};a&8288&&(s.$$scope={dirty:a,ctx:r}),e.$set(s);const i={};a&8303&&(i.$$scope={dirty:a,ctx:r}),t.$set(i)},i(r){n||(v(e.$$.fragment,r),v(t.$$.fragment,r),n=!0)},o(r){w(e.$$.fragment,r),w(t.$$.fragment,r),n=!1},d(r){r&&_(l),G(e,r),G(t,r)}}}function Vl(o){let e,l,t;function n(a){o[12](a)}let r={closeFocus:!1,onOpenChange:o[11],typeahead:!1,$$slots:{default:[Nl]},$$scope:{ctx:o}};return o[0]!==void 0&&(r.open=o[0]),e=new qt({props:r}),Fe.push(()=>Ke(e,"open",n)),{c(){q(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,s){Z(e,a,s),t=!0},p(a,[s]){const i={};s&16&&(i.onOpenChange=a[11]),s&8303&&(i.$$scope={dirty:s,ctx:a}),!l&&s&1&&(l=!0,i.open=a[0],Ye(()=>l=!1)),e.$set(i)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){w(e.$$.fragment,a),t=!1},d(a){G(e,a)}}}function Hl(o,e,l){let t,n;pe(o,Kt,p=>l(6,n=p));let{$$slots:r={},$$scope:a}=e;const s=Je("i18n");pe(o,s,p=>l(5,t=p));let{show:i=!1}=e,{model:f}=e,{pinModelHandler:c=()=>{}}=e,{copyLinkHandler:d=()=>{}}=e,{onClose:D=()=>{}}=e;const H=p=>{p.stopPropagation(),p.preventDefault(),c(f==null?void 0:f.id),l(0,i=!1)},g=p=>{p.stopPropagation(),p.preventDefault(),d(),l(0,i=!1)},I=p=>{p===!1&&D()};function k(p){i=p,l(0,i)}return o.$$set=p=>{"show"in p&&l(0,i=p.show),"model"in p&&l(1,f=p.model),"pinModelHandler"in p&&l(2,c=p.pinModelHandler),"copyLinkHandler"in p&&l(3,d=p.copyLinkHandler),"onClose"in p&&l(4,D=p.onClose),"$$scope"in p&&l(13,a=p.$$scope)},[i,f,c,d,D,t,n,s,r,H,g,I,k,a]}class Tl extends Ce{constructor(e){super(),Ie(this,e,Hl,Vl,$e,{show:0,model:1,pinModelHandler:2,copyLinkHandler:3,onClose:4})}}function Ol(o){let e,l,t;return{c(){e=De("svg"),l=De("path"),t=De("circle"),this.h()},l(n){e=ye(n,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=P(e);l=ye(r,"path",{d:!0,stroke:!0,fill:!0}),P(l).forEach(_),t=ye(r,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0}),P(t).forEach(_),r.forEach(_),this.h()},h(){m(l,"d","M4 12 L8 7 H21 V17 H8 L4 12 Z"),m(l,"stroke","currentColor"),m(l,"fill","none"),m(t,"cx","10"),m(t,"cy","12"),m(t,"r","0.75"),m(t,"fill","currentColor"),m(t,"stroke","currentColor"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"fill","none"),m(e,"viewBox","0 0 24 24"),m(e,"stroke-width",o[1]),m(e,"stroke","currentColor"),m(e,"class",o[0])},m(n,r){O(n,e,r),T(e,l),T(e,t)},p(n,[r]){r&2&&m(e,"stroke-width",n[1]),r&1&&m(e,"class",n[0])},i:_e,o:_e,d(n){n&&_(e)}}}function zl(o,e,l){let{className:t="size-4"}=e,{strokeWidth:n="1.8"}=e;return o.$$set=r=>{"className"in r&&l(0,t=r.className),"strokeWidth"in r&&l(1,n=r.strokeWidth)},[t,n]}class Ll extends Ce{constructor(e){super(),Ie(this,e,zl,Ol,$e,{className:0,strokeWidth:1})}}function st(o,e,l){const t=o.slice();return t[17]=e[l],t}function Sl(o){let e,l;return{c(){e=L("img"),this.h()},l(t){e=S(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){var t,n,r;et(e.src,l=((r=(n=(t=o[1].model)==null?void 0:t.info)==null?void 0:n.meta)==null?void 0:r.profile_image_url)??`${at}/static/favicon.png`)||m(e,"src",l),m(e,"alt","Model"),m(e,"class","rounded-full size-5 flex items-center")},m(t,n){O(t,e,n)},p(t,n){var r,a,s;n&2&&!et(e.src,l=((s=(a=(r=t[1].model)==null?void 0:r.info)==null?void 0:a.meta)==null?void 0:s.profile_image_url)??`${at}/static/favicon.png`)&&m(e,"src",l)},d(t){t&&_(e)}}}function Bl(o){let e,l=o[1].label+"",t;return{c(){e=L("div"),t=re(l),this.h()},l(n){e=S(n,"DIV",{class:!0});var r=P(e);t=oe(r,l),r.forEach(_),this.h()},h(){m(e,"class","line-clamp-1")},m(n,r){O(n,e,r),T(e,t)},p(n,r){r&2&&l!==(l=n[1].label+"")&&ae(t,l)},d(n){n&&_(e)}}}function it(o){var s,i,f,c;let e,l=((s=o[1].model.ollama)==null?void 0:s.expires_at)&&new Date(((i=o[1].model.ollama)==null?void 0:i.expires_at)*1e3)>new Date,t,n,r=(((c=(f=o[1].model.ollama)==null?void 0:f.details)==null?void 0:c.parameter_size)??"")!==""&&ft(o),a=l&&ut(o);return{c(){r&&r.c(),e=W(),a&&a.c(),t=Ae()},l(d){r&&r.l(d),e=F(d),a&&a.l(d),t=Ae()},m(d,D){r&&r.m(d,D),O(d,e,D),a&&a.m(d,D),O(d,t,D),n=!0},p(d,D){var H,g,I,k;(((g=(H=d[1].model.ollama)==null?void 0:H.details)==null?void 0:g.parameter_size)??"")!==""?r?(r.p(d,D),D&2&&v(r,1)):(r=ft(d),r.c(),v(r,1),r.m(e.parentNode,e)):r&&(se(),w(r,1,1,()=>{r=null}),ie()),D&2&&(l=((I=d[1].model.ollama)==null?void 0:I.expires_at)&&new Date(((k=d[1].model.ollama)==null?void 0:k.expires_at)*1e3)>new Date),l?a?(a.p(d,D),D&2&&v(a,1)):(a=ut(d),a.c(),v(a,1),a.m(t.parentNode,t)):a&&(se(),w(a,1,1,()=>{a=null}),ie())},i(d){n||(v(r),v(a),n=!0)},o(d){w(r),w(a),n=!1},d(d){d&&(_(e),_(t)),r&&r.d(d),a&&a.d(d)}}}function ft(o){var n,r,a,s,i,f;let e,l,t;return l=new ce({props:{content:`${(r=(n=o[1].model.ollama)==null?void 0:n.details)!=null&&r.quantization_level?((s=(a=o[1].model.ollama)==null?void 0:a.details)==null?void 0:s.quantization_level)+" ":""}${(i=o[1].model.ollama)!=null&&i.size?`(${(((f=o[1].model.ollama)==null?void 0:f.size)/1024**3).toFixed(1)}GB)`:""}`,className:"self-end",$$slots:{default:[Pl]},$$scope:{ctx:o}}}),{c(){e=L("div"),q(l.$$.fragment),this.h()},l(c){e=S(c,"DIV",{class:!0});var d=P(e);R(l.$$.fragment,d),d.forEach(_),this.h()},h(){m(e,"class","flex items-center translate-y-[0.5px]")},m(c,d){O(c,e,d),Z(l,e,null),t=!0},p(c,d){var H,g,I,k,p,j;const D={};d&2&&(D.content=`${(g=(H=c[1].model.ollama)==null?void 0:H.details)!=null&&g.quantization_level?((k=(I=c[1].model.ollama)==null?void 0:I.details)==null?void 0:k.quantization_level)+" ":""}${(p=c[1].model.ollama)!=null&&p.size?`(${(((j=c[1].model.ollama)==null?void 0:j.size)/1024**3).toFixed(1)}GB)`:""}`),d&1048578&&(D.$$scope={dirty:d,ctx:c}),l.$set(D)},i(c){t||(v(l.$$.fragment,c),t=!0)},o(c){w(l.$$.fragment,c),t=!1},d(c){c&&_(e),G(l)}}}function Pl(o){var n,r;let e,l=(((r=(n=o[1].model.ollama)==null?void 0:n.details)==null?void 0:r.parameter_size)??"")+"",t;return{c(){e=L("span"),t=re(l),this.h()},l(a){e=S(a,"SPAN",{class:!0});var s=P(e);t=oe(s,l),s.forEach(_),this.h()},h(){m(e,"class","text-xs font-medium text-gray-600 dark:text-gray-400 line-clamp-1")},m(a,s){O(a,e,s),T(e,t)},p(a,s){var i,f;s&2&&l!==(l=(((f=(i=a[1].model.ollama)==null?void 0:i.details)==null?void 0:f.parameter_size)??"")+"")&&ae(t,l)},d(a){a&&_(e)}}}function ut(o){var n;let e,l,t;return l=new ce({props:{content:`${o[8].t("Unloads {{FROM_NOW}}",{FROM_NOW:Ge(((n=o[1].model.ollama)==null?void 0:n.expires_at)*1e3).fromNow()})}`,className:"self-end",$$slots:{default:[jl]},$$scope:{ctx:o}}}),{c(){e=L("div"),q(l.$$.fragment),this.h()},l(r){e=S(r,"DIV",{class:!0});var a=P(e);R(l.$$.fragment,a),a.forEach(_),this.h()},h(){m(e,"class","flex items-center translate-y-[0.5px] px-0.5")},m(r,a){O(r,e,a),Z(l,e,null),t=!0},p(r,a){var i;const s={};a&258&&(s.content=`${r[8].t("Unloads {{FROM_NOW}}",{FROM_NOW:Ge(((i=r[1].model.ollama)==null?void 0:i.expires_at)*1e3).fromNow()})}`),a&1048576&&(s.$$scope={dirty:a,ctx:r}),l.$set(s)},i(r){t||(v(l.$$.fragment,r),t=!0)},o(r){w(l.$$.fragment,r),t=!1},d(r){r&&_(e),G(l)}}}function jl(o){let e,l='<span class="relative flex size-2"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span> <span class="relative inline-flex rounded-full size-2 bg-green-500"></span></span>';return{c(){e=L("div"),e.innerHTML=l,this.h()},l(t){e=S(t,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-pq0hxj"&&(e.innerHTML=l),this.h()},h(){m(e,"class","flex items-center")},m(t,n){O(t,e,n)},p:_e,d(t){t&&_(e)}}}function ct(o){let e=o[1].model.id,l,t,n=mt(o);return{c(){n.c(),l=Ae()},l(r){n.l(r),l=Ae()},m(r,a){n.m(r,a),O(r,l,a),t=!0},p(r,a){a&2&&$e(e,e=r[1].model.id)?(se(),w(n,1,1,_e),ie(),n=mt(r),n.c(),v(n,1),n.m(l.parentNode,l)):n.p(r,a)},i(r){t||(v(n),t=!0)},o(r){w(n),t=!1},d(r){r&&_(l),n.d(r)}}}function Ul(o){let e,l,t;return l=new Ll({}),{c(){e=L("div"),q(l.$$.fragment),this.h()},l(n){e=S(n,"DIV",{class:!0});var r=P(e);R(l.$$.fragment,r),r.forEach(_),this.h()},h(){m(e,"class","translate-y-[1px]")},m(n,r){O(n,e,r),Z(l,e,null),t=!0},p:_e,i(n){t||(v(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&_(e),G(l)}}}function Al(o){let e,l=o[17].name+"",t,n;return{c(){e=L("div"),t=re(l),n=W(),this.h()},l(r){e=S(r,"DIV",{class:!0});var a=P(e);t=oe(a,l),a.forEach(_),n=F(r),this.h()},h(){m(e,"class","text-xs font-medium rounded-sm uppercase text-white")},m(r,a){O(r,e,a),T(e,t),O(r,n,a)},p(r,a){a&2&&l!==(l=r[17].name+"")&&ae(t,l)},d(r){r&&(_(e),_(n))}}}function dt(o){let e,l;return e=new ce({props:{content:o[17].name,className:"flex-shrink-0",$$slots:{default:[Al]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){Z(e,t,n),l=!0},p(t,n){const r={};n&2&&(r.content=t[17].name),n&1048578&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Wl(o){var s;let e,l,t,n=ve((s=o[1].model)==null?void 0:s.tags.sort(gt)),r=[];for(let i=0;i<n.length;i+=1)r[i]=dt(st(o,n,i));const a=i=>w(r[i],1,1,()=>{r[i]=null});return{c(){e=L("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=S(i,"DIV",{slot:!0,id:!0});var f=P(e);for(let c=0;c<r.length;c+=1)r[c].l(f);f.forEach(_),this.h()},h(){m(e,"slot","tooltip"),m(e,"id",l="tags-"+o[1].model.id)},m(i,f){O(i,e,f);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);t=!0},p(i,f){var c;if(f&2){n=ve((c=i[1].model)==null?void 0:c.tags.sort(gt));let d;for(d=0;d<n.length;d+=1){const D=st(i,n,d);r[d]?(r[d].p(D,f),v(r[d],1)):(r[d]=dt(D),r[d].c(),v(r[d],1),r[d].m(e,null))}for(se(),d=n.length;d<r.length;d+=1)a(d);ie()}(!t||f&2&&l!==(l="tags-"+i[1].model.id))&&m(e,"id",l)},i(i){if(!t){for(let f=0;f<n.length;f+=1)v(r[f]);t=!0}},o(i){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)w(r[f]);t=!1},d(i){i&&_(e),We(r,i)}}}function mt(o){let e,l;return e=new ce({props:{elementId:"tags-"+o[1].model.id,$$slots:{tooltip:[Wl],default:[Ul]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){Z(e,t,n),l=!0},p(t,n){const r={};n&2&&(r.elementId="tags-"+t[1].model.id),n&1048578&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Fl(o){let e,l;return e=new ce({props:{content:`${o[8].t("External")}`,$$slots:{default:[Rl]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){Z(e,t,n),l=!0},p(t,n){const r={};n&256&&(r.content=`${t[8].t("External")}`),n&1048576&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function ql(o){let e,l;return e=new ce({props:{content:`${o[8].t("Direct")}`,$$slots:{default:[Zl]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){Z(e,t,n),l=!0},p(t,n){const r={};n&256&&(r.content=`${t[8].t("Direct")}`),n&1048576&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Rl(o){let e,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M8.914 6.025a.75.75 0 0 1 1.06 0 3.5 3.5 0 0 1 0 4.95l-2 2a3.5 3.5 0 0 1-5.396-4.402.75.75 0 0 1 1.251.827 2 2 0 0 0 3.085 2.514l2-2a2 2 0 0 0 0-2.828.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M7.086 9.975a.75.75 0 0 1-1.06 0 3.5 3.5 0 0 1 0-4.95l2-2a3.5 3.5 0 0 1 5.396 4.402.75.75 0 0 1-1.251-.827 2 2 0 0 0-3.085-2.514l-2 2a2 2 0 0 0 0 2.828.75.75 0 0 1 0 1.06Z" clip-rule="evenodd"></path></svg>';return{c(){e=L("div"),e.innerHTML=l,this.h()},l(t){e=S(t,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1we9nfa"&&(e.innerHTML=l),this.h()},h(){m(e,"class","translate-y-[1px]")},m(t,n){O(t,e,n)},p:_e,d(t){t&&_(e)}}}function Zl(o){let e,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-3"><path fill-rule="evenodd" d="M2 2.75A.75.75 0 0 1 2.75 2C8.963 2 14 7.037 14 13.25a.75.75 0 0 1-1.5 0c0-5.385-4.365-9.75-9.75-9.75A.75.75 0 0 1 2 2.75Zm0 4.5a.75.75 0 0 1 .75-.75 6.75 6.75 0 0 1 6.75 6.75.75.75 0 0 1-1.5 0C8 10.35 5.65 8 2.75 8A.75.75 0 0 1 2 7.25ZM3.5 11a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z" clip-rule="evenodd"></path></svg>';return{c(){e=L("div"),e.innerHTML=l,this.h()},l(t){e=S(t,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-1pvx0j8"&&(e.innerHTML=l),this.h()},h(){m(e,"class","translate-y-[1px]")},m(t,n){O(t,e,n)},p:_e,d(t){t&&_(e)}}}function _t(o){var t,n,r;let e,l;return e=new ce({props:{content:`${rt.parse(ot((r=(n=(t=o[1].model)==null?void 0:t.info)==null?void 0:n.meta)==null?void 0:r.description).replaceAll(`
`,"<br>"))}`,$$slots:{default:[Gl]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,s){Z(e,a,s),l=!0},p(a,s){var f,c,d;const i={};s&2&&(i.content=`${rt.parse(ot((d=(c=(f=a[1].model)==null?void 0:f.info)==null?void 0:c.meta)==null?void 0:d.description).replaceAll(`
`,"<br>"))}`),s&1048576&&(i.$$scope={dirty:s,ctx:a}),e.$set(i)},i(a){l||(v(e.$$.fragment,a),l=!0)},o(a){w(e.$$.fragment,a),l=!1},d(a){G(e,a)}}}function Gl(o){let e,l='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"></path></svg>';return{c(){e=L("div"),e.innerHTML=l,this.h()},l(t){e=S(t,"DIV",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-i7zoyb"&&(e.innerHTML=l),this.h()},h(){m(e,"class","translate-y-[1px]")},m(t,n){O(t,e,n)},p:_e,d(t){t&&_(e)}}}function ht(o){let e,l;return e=new ce({props:{content:`${o[8].t("Eject")}`,className:"flex-shrink-0 group-hover/item:opacity-100 opacity-0 ",$$slots:{default:[Kl]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){Z(e,t,n),l=!0},p(t,n){const r={};n&256&&(r.content=`${t[8].t("Eject")}`),n&1048594&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Kl(o){let e,l,t,n,r;return l=new bl({props:{className:"size-3"}}),{c(){e=L("button"),q(l.$$.fragment),this.h()},l(a){e=S(a,"BUTTON",{class:!0});var s=P(e);R(l.$$.fragment,s),s.forEach(_),this.h()},h(){m(e,"class","flex")},m(a,s){O(a,e,s),Z(l,e,null),t=!0,n||(r=ue(e,"click",o[12]),n=!0)},p:_e,i(a){t||(v(l.$$.fragment,a),t=!0)},o(a){w(l.$$.fragment,a),t=!1},d(a){a&&_(e),G(l),n=!1,r()}}}function Yl(o){let e,l,t,n,r,a;return l=new pl({}),{c(){e=L("button"),q(l.$$.fragment),this.h()},l(s){e=S(s,"BUTTON",{"aria-label":!0,class:!0});var i=P(e);R(l.$$.fragment,i),i.forEach(_),this.h()},h(){m(e,"aria-label",t=`${o[8].t("More Options")}`),m(e,"class","flex")},m(s,i){O(s,e,i),Z(l,e,null),n=!0,r||(a=ue(e,"click",o[13]),r=!0)},p(s,i){(!n||i&256&&t!==(t=`${s[8].t("More Options")}`))&&m(e,"aria-label",t)},i(s){n||(v(l.$$.fragment,s),n=!0)},o(s){w(l.$$.fragment,s),n=!1},d(s){s&&_(e),G(l),r=!1,a()}}}function pt(o){let e,l,t;return l=new dl({props:{className:"size-3"}}),{c(){e=L("div"),q(l.$$.fragment)},l(n){e=S(n,"DIV",{});var r=P(e);R(l.$$.fragment,r),r.forEach(_)},m(n,r){O(n,e,r),Z(l,e,null),t=!0},i(n){t||(v(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&_(e),G(l)}}}function Jl(o){var He,Te,Oe,ze,Le,Se,Be,Pe,je,Ue;let e,l,t,n,r,a,s,i,f,c,d,D,H,g,I,k,p,j=((He=o[9])==null?void 0:He.role)==="admin"&&o[1].model.owned_by==="ollama"&&((Te=o[1].model.ollama)==null?void 0:Te.expires_at)&&new Date(((Oe=o[1].model.ollama)==null?void 0:Oe.expires_at)*1e3)>new Date,C,z,$,N,E,y,X,Q,h,M,J;r=new ce({props:{content:((ze=o[9])==null?void 0:ze.role)==="admin"?((Le=o[1])==null?void 0:Le.value)??"":"",placement:"top-start",$$slots:{default:[Sl]},$$scope:{ctx:o}}}),i=new ce({props:{content:`${o[1].label} (${o[1].value})`,placement:"top-start",$$slots:{default:[Bl]},$$scope:{ctx:o}}});let b=o[1].model.owned_by==="ollama"&&it(o),K=(((Be=(Se=o[1])==null?void 0:Se.model)==null?void 0:Be.tags)??[]).length>0&&ct(o);const be=[ql,Fl],de=[];function Me(V,U){var u;return(u=V[1].model)!=null&&u.direct?0:V[1].model.connection_type==="external"?1:-1}~(H=Me(o))&&(g=de[H]=be[H](o));let te=((Ue=(je=(Pe=o[1].model)==null?void 0:Pe.info)==null?void 0:je.meta)==null?void 0:Ue.description)&&_t(o),x=j&&ht(o);function qe(V){o[15](V)}let Ve={model:o[1].model,pinModelHandler:o[5],copyLinkHandler:o[14],$$slots:{default:[Yl]},$$scope:{ctx:o}};o[7]!==void 0&&(Ve.show=o[7]),z=new Tl({props:Ve}),Fe.push(()=>Ke(z,"show",qe));let ne=o[3]===o[1].value&&pt();return{c(){e=L("button"),l=L("div"),t=L("div"),n=L("div"),q(r.$$.fragment),a=W(),s=L("div"),q(i.$$.fragment),f=W(),c=L("div"),b&&b.c(),d=W(),K&&K.c(),D=W(),g&&g.c(),I=W(),te&&te.c(),k=W(),p=L("div"),x&&x.c(),C=W(),q(z.$$.fragment),N=W(),ne&&ne.c(),this.h()},l(V){e=S(V,"BUTTON",{"aria-roledescription":!0,"aria-label":!0,class:!0,"data-arrow-selected":!0,"data-value":!0});var U=P(e);l=S(U,"DIV",{class:!0});var u=P(l);t=S(u,"DIV",{class:!0});var B=P(t);n=S(B,"DIV",{class:!0});var A=P(n);R(r.$$.fragment,A),A.forEach(_),a=F(B),s=S(B,"DIV",{class:!0});var Y=P(s);R(i.$$.fragment,Y),Y.forEach(_),f=F(B),c=S(B,"DIV",{class:!0});var le=P(c);b&&b.l(le),d=F(le),K&&K.l(le),D=F(le),g&&g.l(le),I=F(le),te&&te.l(le),le.forEach(_),B.forEach(_),u.forEach(_),k=F(U),p=S(U,"DIV",{class:!0});var ee=P(p);x&&x.l(ee),C=F(ee),R(z.$$.fragment,ee),N=F(ee),ne&&ne.l(ee),ee.forEach(_),U.forEach(_),this.h()},h(){m(n,"class","flex items-center min-w-fit"),m(s,"class","flex items-center"),m(c,"class","shrink-0 flex items-center gap-2"),m(t,"class","flex items-center gap-2"),m(l,"class","flex flex-col flex-1 gap-1.5"),m(p,"class","ml-auto pl-2 pr-1 flex items-center gap-1.5 shrink-0"),m(e,"aria-roledescription","model-item"),m(e,"aria-label",E=o[1].label),m(e,"class",y="flex group/item w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl cursor-pointer data-highlighted:bg-muted "+(o[2]===o[0]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")),m(e,"data-arrow-selected",X=o[2]===o[0]),m(e,"data-value",Q=o[1].value)},m(V,U){O(V,e,U),T(e,l),T(l,t),T(t,n),Z(r,n,null),T(t,a),T(t,s),Z(i,s,null),T(t,f),T(t,c),b&&b.m(c,null),T(c,d),K&&K.m(c,null),T(c,D),~H&&de[H].m(c,null),T(c,I),te&&te.m(c,null),T(e,k),T(e,p),x&&x.m(p,null),T(p,C),Z(z,p,null),T(p,N),ne&&ne.m(p,null),h=!0,M||(J=ue(e,"click",o[16]),M=!0)},p(V,[U]){var le,ee,he,ge,Ee,fe,we,Xe,Qe,xe;const u={};U&514&&(u.content=((le=V[9])==null?void 0:le.role)==="admin"?((ee=V[1])==null?void 0:ee.value)??"":""),U&1048578&&(u.$$scope={dirty:U,ctx:V}),r.$set(u);const B={};U&2&&(B.content=`${V[1].label} (${V[1].value})`),U&1048578&&(B.$$scope={dirty:U,ctx:V}),i.$set(B),V[1].model.owned_by==="ollama"?b?(b.p(V,U),U&2&&v(b,1)):(b=it(V),b.c(),v(b,1),b.m(c,d)):b&&(se(),w(b,1,1,()=>{b=null}),ie()),(((ge=(he=V[1])==null?void 0:he.model)==null?void 0:ge.tags)??[]).length>0?K?(K.p(V,U),U&2&&v(K,1)):(K=ct(V),K.c(),v(K,1),K.m(c,D)):K&&(se(),w(K,1,1,()=>{K=null}),ie());let A=H;H=Me(V),H===A?~H&&de[H].p(V,U):(g&&(se(),w(de[A],1,1,()=>{de[A]=null}),ie()),~H?(g=de[H],g?g.p(V,U):(g=de[H]=be[H](V),g.c()),v(g,1),g.m(c,I)):g=null),(we=(fe=(Ee=V[1].model)==null?void 0:Ee.info)==null?void 0:fe.meta)!=null&&we.description?te?(te.p(V,U),U&2&&v(te,1)):(te=_t(V),te.c(),v(te,1),te.m(c,null)):te&&(se(),w(te,1,1,()=>{te=null}),ie()),U&514&&(j=((Xe=V[9])==null?void 0:Xe.role)==="admin"&&V[1].model.owned_by==="ollama"&&((Qe=V[1].model.ollama)==null?void 0:Qe.expires_at)&&new Date(((xe=V[1].model.ollama)==null?void 0:xe.expires_at)*1e3)>new Date),j?x?(x.p(V,U),U&514&&v(x,1)):(x=ht(V),x.c(),v(x,1),x.m(p,C)):x&&(se(),w(x,1,1,()=>{x=null}),ie());const Y={};U&2&&(Y.model=V[1].model),U&32&&(Y.pinModelHandler=V[5]),U&2&&(Y.copyLinkHandler=V[14]),U&1048960&&(Y.$$scope={dirty:U,ctx:V}),!$&&U&128&&($=!0,Y.show=V[7],Ye(()=>$=!1)),z.$set(Y),V[3]===V[1].value?ne?U&10&&v(ne,1):(ne=pt(),ne.c(),v(ne,1),ne.m(p,null)):ne&&(se(),w(ne,1,1,()=>{ne=null}),ie()),(!h||U&2&&E!==(E=V[1].label))&&m(e,"aria-label",E),(!h||U&5&&y!==(y="flex group/item w-full text-left font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl cursor-pointer data-highlighted:bg-muted "+(V[2]===V[0]?"bg-gray-100 dark:bg-gray-800 group-hover:bg-transparent":"")))&&m(e,"class",y),(!h||U&5&&X!==(X=V[2]===V[0]))&&m(e,"data-arrow-selected",X),(!h||U&2&&Q!==(Q=V[1].value))&&m(e,"data-value",Q)},i(V){h||(v(r.$$.fragment,V),v(i.$$.fragment,V),v(b),v(K),v(g),v(te),v(x),v(z.$$.fragment,V),v(ne),h=!0)},o(V){w(r.$$.fragment,V),w(i.$$.fragment,V),w(b),w(K),w(g),w(te),w(x),w(z.$$.fragment,V),w(ne),h=!1},d(V){V&&_(e),G(r),G(i),b&&b.d(),K&&K.d(),~H&&de[H].d(),te&&te.d(),x&&x.d(),G(z),ne&&ne.d(),M=!1,J()}}}const gt=(o,e)=>o.name.localeCompare(e.name);function Xl(o,e,l){let t,n;pe(o,Yt,z=>l(9,n=z));const r=Je("i18n");pe(o,r,z=>l(8,t=z));let{selectedModelIdx:a=-1}=e,{item:s={}}=e,{index:i=-1}=e,{value:f=""}=e,{unloadModelHandler:c=()=>{}}=e,{pinModelHandler:d=()=>{}}=e,{onClick:D=()=>{}}=e;const H=async z=>{const $=window.location.origin;await xt(`${$}/?model=${encodeURIComponent(z.id)}`)?me.success(t.t("Copied link to clipboard")):me.error(t.t("Failed to copy link"))};let g=!1;const I=z=>{z.preventDefault(),z.stopPropagation(),c(s.value)},k=z=>{z.preventDefault(),z.stopPropagation(),l(7,g=!g)},p=()=>{H(s.model)};function j(z){g=z,l(7,g)}const C=()=>{D()};return o.$$set=z=>{"selectedModelIdx"in z&&l(0,a=z.selectedModelIdx),"item"in z&&l(1,s=z.item),"index"in z&&l(2,i=z.index),"value"in z&&l(3,f=z.value),"unloadModelHandler"in z&&l(4,c=z.unloadModelHandler),"pinModelHandler"in z&&l(5,d=z.pinModelHandler),"onClick"in z&&l(6,D=z.onClick)},[a,s,i,f,c,d,D,g,t,n,r,H,I,k,p,j,C]}class Ql extends Ce{constructor(e){super(),Ie(this,e,Xl,Jl,$e,{selectedModelIdx:0,item:1,index:2,value:3,unloadModelHandler:4,pinModelHandler:5,onClick:6})}}function vt(o,e,l){const t=o.slice();return t[50]=e[l],t}function bt(o,e,l){const t=o.slice();return t[53]=e[l],t[55]=l,t}function wt(o,e,l){const t=o.slice();return t[56]=e[l],t}function xl(o){let e;return{c(){e=re(o[2])},l(l){e=oe(l,o[2])},m(l,t){O(l,e,t)},p(l,t){t[0]&4&&ae(e,l[2])},d(l){l&&_(e)}}}function en(o){let e=o[15].label+"",l;return{c(){l=re(e)},l(t){l=oe(t,e)},m(t,n){O(t,l,n)},p(t,n){n[0]&32768&&e!==(e=t[15].label+"")&&ae(l,e)},d(t){t&&_(l)}}}function tn(o){let e,l,t,n,r,a,s;function i(d,D){return d[15]?en:xl}let f=i(o),c=f(o);return t=new ul({props:{className:" self-center ml-2 size-3",strokeWidth:"2.5"}}),{c(){e=L("div"),c.c(),l=W(),q(t.$$.fragment),this.h()},l(d){e=S(d,"DIV",{class:!0});var D=P(e);c.l(D),l=F(D),R(t.$$.fragment,D),D.forEach(_),this.h()},h(){var d;m(e,"class",n="flex w-full text-left px-0.5 bg-transparent truncate "+o[7]+" justify-between "+(((d=o[19])==null?void 0:d.highContrastMode)??!1?"dark:placeholder-gray-100 placeholder-gray-800":"placeholder-gray-400"))},m(d,D){O(d,e,D),c.m(e,null),T(e,l),Z(t,e,null),r=!0,a||(s=ue(e,"mouseenter",o[31]),a=!0)},p(d,D){var H;f===(f=i(d))&&c?c.p(d,D):(c.d(1),c=f(d),c&&(c.c(),c.m(e,l))),(!r||D[0]&524416&&n!==(n="flex w-full text-left px-0.5 bg-transparent truncate "+d[7]+" justify-between "+(((H=d[19])==null?void 0:H.highContrastMode)??!1?"dark:placeholder-gray-100 placeholder-gray-800":"placeholder-gray-400")))&&m(e,"class",n)},i(d){r||(v(t.$$.fragment,d),r=!0)},o(d){w(t.$$.fragment,d),r=!1},d(d){d&&_(e),c.d(),G(t),a=!1,s()}}}function kt(o){let e,l,t,n,r,a,s,i;return l=new cl({props:{className:"size-4",strokeWidth:"2.5"}}),{c(){e=L("div"),q(l.$$.fragment),t=W(),n=L("input"),this.h()},l(f){e=S(f,"DIV",{class:!0});var c=P(e);R(l.$$.fragment,c),t=F(c),n=S(c,"INPUT",{id:!0,class:!0,placeholder:!0,autocomplete:!0,"aria-label":!0}),c.forEach(_),this.h()},h(){m(n,"id","model-search-input"),m(n,"class","w-full text-sm bg-transparent outline-hidden"),m(n,"placeholder",o[4]),m(n,"autocomplete","off"),m(n,"aria-label",r=o[21].t("Search In Models")),m(e,"class","flex items-center gap-2.5 px-4.5 mt-3.5 mb-1.5")},m(f,c){O(f,e,c),Z(l,e,null),T(e,t),T(e,n),lt(n,o[10]),a=!0,s||(i=[ue(n,"input",o[32]),ue(n,"keydown",o[33])],s=!0)},p(f,c){(!a||c[0]&16)&&m(n,"placeholder",f[4]),(!a||c[0]&2097152&&r!==(r=f[21].t("Search In Models")))&&m(n,"aria-label",r),c[0]&1024&&n.value!==f[10]&&lt(n,f[10])},i(f){a||(v(l.$$.fragment,f),a=!0)},o(f){w(l.$$.fragment,f),a=!1},d(f){f&&_(e),G(l),s=!1,Qt(i)}}}function $t(o){let e,l,t=o[5].find(Bt)||o[5].find(Pt)||o[5].find(jt)||o[14].length>0,n,r=o[5].find(St),a,s=o[5].find(Lt),i,f=o[5].find(zt),c,d,D,H,g=t&&Mt(o),I=r&&Et(o),k=s&&Dt(o),p=f&&yt(o),j=ve(o[14]),C=[];for(let $=0;$<j.length;$+=1)C[$]=Ct(wt(o,j,$));const z=$=>w(C[$],1,1,()=>{C[$]=null});return{c(){e=L("div"),l=L("div"),g&&g.c(),n=W(),I&&I.c(),a=W(),k&&k.c(),i=W(),p&&p.c(),c=W();for(let $=0;$<C.length;$+=1)C[$].c();this.h()},l($){e=S($,"DIV",{class:!0});var N=P(e);l=S(N,"DIV",{class:!0});var E=P(l);g&&g.l(E),n=F(E),I&&I.l(E),a=F(E),k&&k.l(E),i=F(E),p&&p.l(E),c=F(E);for(let y=0;y<C.length;y+=1)C[y].l(E);E.forEach(_),N.forEach(_),this.h()},h(){m(l,"class","flex gap-1 w-fit text-center text-sm rounded-full bg-transparent px-1.5 whitespace-nowrap"),m(e,"class","flex w-full bg-white dark:bg-gray-850 overflow-x-auto scrollbar-none font-[450] mb-0.5")},m($,N){O($,e,N),T(e,l),g&&g.m(l,null),T(l,n),I&&I.m(l,null),T(l,a),k&&k.m(l,null),T(l,i),p&&p.m(l,null),T(l,c);for(let E=0;E<C.length;E+=1)C[E]&&C[E].m(l,null);o[39](l),d=!0,D||(H=ue(e,"wheel",un),D=!0)},p($,N){if(N[0]&16416&&(t=$[5].find(Bt)||$[5].find(Pt)||$[5].find(jt)||$[14].length>0),t?g?g.p($,N):(g=Mt($),g.c(),g.m(l,n)):g&&(g.d(1),g=null),N[0]&32&&(r=$[5].find(St)),r?I?I.p($,N):(I=Et($),I.c(),I.m(l,a)):I&&(I.d(1),I=null),N[0]&32&&(s=$[5].find(Lt)),s?k?k.p($,N):(k=Dt($),k.c(),k.m(l,i)):k&&(k.d(1),k=null),N[0]&32&&(f=$[5].find(zt)),f?p?p.p($,N):(p=yt($),p.c(),p.m(l,c)):p&&(p.d(1),p=null),N[0]&22528){j=ve($[14]);let E;for(E=0;E<j.length;E+=1){const y=wt($,j,E);C[E]?(C[E].p(y,N),v(C[E],1)):(C[E]=Ct(y),C[E].c(),v(C[E],1),C[E].m(l,null))}for(se(),E=j.length;E<C.length;E+=1)z(E);ie()}},i($){if(!d){for(let N=0;N<j.length;N+=1)v(C[N]);d=!0}},o($){C=C.filter(Boolean);for(let N=0;N<C.length;N+=1)w(C[N]);d=!1},d($){$&&_(e),g&&g.d(),I&&I.d(),k&&k.d(),p&&p.d(),We(C,$),o[39](null),D=!1,H()}}}function Mt(o){let e,l=o[21].t("All")+"",t,n,r,a,s;return{c(){e=L("button"),t=re(l),this.h()},l(i){e=S(i,"BUTTON",{class:!0,"aria-pressed":!0});var f=P(e);t=oe(f,l),f.forEach(_),this.h()},h(){m(e,"class",n="min-w-fit outline-none px-1.5 py-0.5 "+(o[11]===""&&o[12]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[11]===""&&o[12]==="")},m(i,f){O(i,e,f),T(e,t),a||(s=ue(e,"click",o[34]),a=!0)},p(i,f){f[0]&2097152&&l!==(l=i[21].t("All")+"")&&ae(t,l),f[0]&6144&&n!==(n="min-w-fit outline-none px-1.5 py-0.5 "+(i[11]===""&&i[12]===""?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),f[0]&6144&&r!==(r=i[11]===""&&i[12]==="")&&m(e,"aria-pressed",r)},d(i){i&&_(e),a=!1,s()}}}function Et(o){let e,l=o[21].t("Local")+"",t,n,r,a,s;return{c(){e=L("button"),t=re(l),this.h()},l(i){e=S(i,"BUTTON",{class:!0,"aria-pressed":!0});var f=P(e);t=oe(f,l),f.forEach(_),this.h()},h(){m(e,"class",n="min-w-fit outline-none px-1.5 py-0.5 "+(o[12]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[12]==="local")},m(i,f){O(i,e,f),T(e,t),a||(s=ue(e,"click",o[35]),a=!0)},p(i,f){f[0]&2097152&&l!==(l=i[21].t("Local")+"")&&ae(t,l),f[0]&4096&&n!==(n="min-w-fit outline-none px-1.5 py-0.5 "+(i[12]==="local"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),f[0]&4096&&r!==(r=i[12]==="local")&&m(e,"aria-pressed",r)},d(i){i&&_(e),a=!1,s()}}}function Dt(o){let e,l=o[21].t("External")+"",t,n,r,a,s;return{c(){e=L("button"),t=re(l),this.h()},l(i){e=S(i,"BUTTON",{class:!0,"aria-pressed":!0});var f=P(e);t=oe(f,l),f.forEach(_),this.h()},h(){m(e,"class",n="min-w-fit outline-none px-1.5 py-0.5 "+(o[12]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[12]==="external")},m(i,f){O(i,e,f),T(e,t),a||(s=ue(e,"click",o[36]),a=!0)},p(i,f){f[0]&2097152&&l!==(l=i[21].t("External")+"")&&ae(t,l),f[0]&4096&&n!==(n="min-w-fit outline-none px-1.5 py-0.5 "+(i[12]==="external"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),f[0]&4096&&r!==(r=i[12]==="external")&&m(e,"aria-pressed",r)},d(i){i&&_(e),a=!1,s()}}}function yt(o){let e,l=o[21].t("Direct")+"",t,n,r,a,s;return{c(){e=L("button"),t=re(l),this.h()},l(i){e=S(i,"BUTTON",{class:!0,"aria-pressed":!0});var f=P(e);t=oe(f,l),f.forEach(_),this.h()},h(){m(e,"class",n="min-w-fit outline-none px-1.5 py-0.5 "+(o[12]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[12]==="direct")},m(i,f){O(i,e,f),T(e,t),a||(s=ue(e,"click",o[37]),a=!0)},p(i,f){f[0]&2097152&&l!==(l=i[21].t("Direct")+"")&&ae(t,l),f[0]&4096&&n!==(n="min-w-fit outline-none px-1.5 py-0.5 "+(i[12]==="direct"?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),f[0]&4096&&r!==(r=i[12]==="direct")&&m(e,"aria-pressed",r)},d(i){i&&_(e),a=!1,s()}}}function ln(o){let e,l=(o[56].length>16?`${o[56].slice(0,16)}...`:o[56])+"",t,n,r,a,s,i;function f(){return o[38](o[56])}return{c(){e=L("button"),t=re(l),a=W(),this.h()},l(c){e=S(c,"BUTTON",{class:!0,"aria-pressed":!0});var d=P(e);t=oe(d,l),d.forEach(_),a=F(c),this.h()},h(){m(e,"class",n="min-w-fit outline-none px-1.5 py-0.5 "+(o[11]===o[56]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize"),m(e,"aria-pressed",r=o[11]===o[56])},m(c,d){O(c,e,d),T(e,t),O(c,a,d),s||(i=ue(e,"click",f),s=!0)},p(c,d){o=c,d[0]&16384&&l!==(l=(o[56].length>16?`${o[56].slice(0,16)}...`:o[56])+"")&&ae(t,l),d[0]&18432&&n!==(n="min-w-fit outline-none px-1.5 py-0.5 "+(o[11]===o[56]?"":"text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")+" transition capitalize")&&m(e,"class",n),d[0]&18432&&r!==(r=o[11]===o[56])&&m(e,"aria-pressed",r)},d(c){c&&(_(e),_(a)),s=!1,i()}}}function Ct(o){let e,l;return e=new ce({props:{content:o[56],$$slots:{default:[ln]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){Z(e,t,n),l=!0},p(t,n){const r={};n[0]&16384&&(r.content=t[56]),n[0]&22528|n[1]&16384&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function It(o){let e,l,t=o[21].t("No results found")+"",n;return{c(){e=L("div"),l=L("div"),n=re(t),this.h()},l(r){e=S(r,"DIV",{class:!0});var a=P(e);l=S(a,"DIV",{class:!0});var s=P(l);n=oe(s,t),s.forEach(_),a.forEach(_),this.h()},h(){m(l,"class","block px-3 py-2 text-sm text-gray-700 dark:text-gray-100"),m(e,"class","")},m(r,a){O(r,e,a),T(e,l),T(l,n)},p(r,a){a[0]&2097152&&t!==(t=r[21].t("No results found")+"")&&ae(n,t)},d(r){r&&_(e)}}}function Nt(o){let e,l;function t(){return o[40](o[53],o[55])}return e=new Ql({props:{selectedModelIdx:o[17],item:o[53],index:o[55],value:o[0],pinModelHandler:o[8],unloadModelHandler:o[29],onClick:t}}),{c(){q(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,r){Z(e,n,r),l=!0},p(n,r){o=n;const a={};r[0]&131072&&(a.selectedModelIdx=o[17]),r[0]&262144&&(a.item=o[53]),r[0]&1&&(a.value=o[0]),r[0]&256&&(a.pinModelHandler=o[8]),r[0]&393729&&(a.onClick=t),e.$set(a)},i(n){l||(v(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){G(e,n)}}}function Vt(o){let e,l;return e=new ce({props:{content:o[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:o[10]}),placement:"top-start",$$slots:{default:[nn]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){Z(e,t,n),l=!0},p(t,n){const r={};n[0]&2098176&&(r.content=t[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:t[10]})),n[0]&2098176|n[1]&16384&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){l||(v(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function nn(o){let e,l,t=o[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:o[10]})+"",n,r,a;return{c(){e=L("button"),l=L("div"),n=re(t),this.h()},l(s){e=S(s,"BUTTON",{class:!0});var i=P(e);l=S(i,"DIV",{class:!0});var f=P(l);n=oe(f,t),f.forEach(_),i.forEach(_),this.h()},h(){m(l,"class","truncate"),m(e,"class","flex w-full font-medium line-clamp-1 select-none items-center rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl cursor-pointer data-highlighted:bg-muted")},m(s,i){O(s,e,i),T(e,l),T(l,n),r||(a=ue(e,"click",o[41]),r=!0)},p(s,i){i[0]&2098176&&t!==(t=s[21].t('Pull "{{searchValue}}" from Ollama.com',{searchValue:s[10]})+"")&&ae(n,t)},d(s){s&&_(e),r=!1,a()}}}function Ht(o){let e,l=o[22][o[50]].digest+"",t;return{c(){e=L("div"),t=re(l),this.h()},l(n){e=S(n,"DIV",{class:!0});var r=P(e);t=oe(r,l),r.forEach(_),this.h()},h(){m(e,"class","-mt-1 h-fit text-[0.7rem] dark:text-gray-500 line-clamp-1")},m(n,r){O(n,e,r),T(e,t)},p(n,r){r[0]&4194304&&l!==(l=n[22][n[50]].digest+"")&&ae(t,l)},d(n){n&&_(e)}}}function rn(o){let e,l='<svg class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"></path></svg>',t,n;function r(){return o[42](o[50])}return{c(){e=L("button"),e.innerHTML=l,this.h()},l(a){e=S(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(e)!=="svelte-19bzgft"&&(e.innerHTML=l),this.h()},h(){m(e,"class","text-gray-800 dark:text-gray-100")},m(a,s){O(a,e,s),t||(n=ue(e,"click",r),t=!0)},p(a,s){o=a},d(a){a&&_(e),t=!1,n()}}}function Tt(o){let e,l,t,n,r,a,s,i,f,c=o[50]+"",d,D,H,g,I="pullProgress"in o[22][o[50]]?`(${o[22][o[50]].pullProgress}%)`:"",k,p,j,C,z,$,N;n=new nl({});let E="digest"in o[22][o[50]]&&o[22][o[50]].digest&&Ht(o);return z=new ce({props:{content:o[21].t("Cancel"),$$slots:{default:[rn]},$$scope:{ctx:o}}}),{c(){e=L("div"),l=L("div"),t=L("div"),q(n.$$.fragment),r=W(),a=L("div"),s=L("div"),i=L("div"),f=re('Downloading "'),d=re(c),D=re('"'),H=W(),g=L("div"),k=re(I),p=W(),E&&E.c(),j=W(),C=L("div"),q(z.$$.fragment),$=W(),this.h()},l(y){e=S(y,"DIV",{class:!0});var X=P(e);l=S(X,"DIV",{class:!0});var Q=P(l);t=S(Q,"DIV",{class:!0});var h=P(t);R(n.$$.fragment,h),h.forEach(_),r=F(Q),a=S(Q,"DIV",{class:!0});var M=P(a);s=S(M,"DIV",{class:!0});var J=P(s);i=S(J,"DIV",{class:!0});var b=P(i);f=oe(b,'Downloading "'),d=oe(b,c),D=oe(b,'"'),b.forEach(_),H=F(J),g=S(J,"DIV",{class:!0});var K=P(g);k=oe(K,I),K.forEach(_),J.forEach(_),p=F(M),E&&E.l(M),M.forEach(_),Q.forEach(_),j=F(X),C=S(X,"DIV",{class:!0});var be=P(C);R(z.$$.fragment,be),be.forEach(_),$=F(X),X.forEach(_),this.h()},h(){m(t,"class","mr-2.5 translate-y-0.5"),m(i,"class","line-clamp-1"),m(g,"class","shrink-0"),m(s,"class","flex gap-1"),m(a,"class","flex flex-col self-start"),m(l,"class","flex"),m(C,"class","mr-2 ml-1 translate-y-0.5"),m(e,"class","flex w-full justify-between font-medium select-none rounded-button py-2 pl-3 pr-1.5 text-sm text-gray-700 dark:text-gray-100 outline-hidden transition-all duration-75 rounded-xl cursor-pointer data-highlighted:bg-muted")},m(y,X){O(y,e,X),T(e,l),T(l,t),Z(n,t,null),T(l,r),T(l,a),T(a,s),T(s,i),T(i,f),T(i,d),T(i,D),T(s,H),T(s,g),T(g,k),T(a,p),E&&E.m(a,null),T(e,j),T(e,C),Z(z,C,null),T(e,$),N=!0},p(y,X){(!N||X[0]&4194304)&&c!==(c=y[50]+"")&&ae(d,c),(!N||X[0]&4194304)&&I!==(I="pullProgress"in y[22][y[50]]?`(${y[22][y[50]].pullProgress}%)`:"")&&ae(k,I),"digest"in y[22][y[50]]&&y[22][y[50]].digest?E?E.p(y,X):(E=Ht(y),E.c(),E.m(a,null)):E&&(E.d(1),E=null);const Q={};X[0]&2097152&&(Q.content=y[21].t("Cancel")),X[0]&4194304|X[1]&16384&&(Q.$$scope={dirty:X,ctx:y}),z.$set(Q)},i(y){N||(v(n.$$.fragment,y),v(z.$$.fragment,y),N=!0)},o(y){w(n.$$.fragment,y),w(z.$$.fragment,y),N=!1},d(y){y&&_(e),G(n),E&&E.d(),G(z)}}}function on(o){var Q;let e,l,t=o[14]&&o[5].filter(Ot).length>0,n,r,a,s=!(o[10].trim()in o[22])&&o[10]&&o[16]&&((Q=o[24])==null?void 0:Q.role)==="admin",i,f,c,d,D,H,g,I,k=o[3]&&kt(o),p=t&&$t(o),j=ve(o[18]),C=[];for(let h=0;h<j.length;h+=1)C[h]=Nt(bt(o,j,h));const z=h=>w(C[h],1,1,()=>{C[h]=null});let $=null;j.length||($=It(o));let N=s&&Vt(o),E=ve(Object.keys(o[22])),y=[];for(let h=0;h<E.length;h+=1)y[h]=Tt(vt(o,E,h));const X=h=>w(y[h],1,1,()=>{y[h]=null});return{c(){k&&k.c(),e=W(),l=L("div"),p&&p.c(),n=W(),r=L("div");for(let h=0;h<C.length;h+=1)C[h].c();$&&$.c(),a=W(),N&&N.c(),i=W();for(let h=0;h<y.length;h+=1)y[h].c();f=W(),c=L("div"),d=W(),D=L("div"),H=W(),g=L("div"),this.h()},l(h){k&&k.l(h),e=F(h),l=S(h,"DIV",{class:!0});var M=P(l);p&&p.l(M),M.forEach(_),n=F(h),r=S(h,"DIV",{class:!0});var J=P(r);for(let b=0;b<C.length;b+=1)C[b].l(J);$&&$.l(J),a=F(J),N&&N.l(J),i=F(J);for(let b=0;b<y.length;b+=1)y[b].l(J);J.forEach(_),f=F(h),c=S(h,"DIV",{class:!0}),P(c).forEach(_),d=F(h),D=S(h,"DIV",{class:!0}),P(D).forEach(_),H=F(h),g=S(h,"DIV",{class:!0}),P(g).forEach(_),this.h()},h(){m(l,"class","px-2"),m(r,"class","px-2.5 max-h-64 overflow-y-auto group relative"),m(c,"class","mb-2.5"),m(D,"class","hidden w-[42rem]"),m(g,"class","hidden w-[32rem]")},m(h,M){k&&k.m(h,M),O(h,e,M),O(h,l,M),p&&p.m(l,null),O(h,n,M),O(h,r,M);for(let J=0;J<C.length;J+=1)C[J]&&C[J].m(r,null);$&&$.m(r,null),T(r,a),N&&N.m(r,null),T(r,i);for(let J=0;J<y.length;J+=1)y[J]&&y[J].m(r,null);O(h,f,M),O(h,c,M),O(h,d,M),O(h,D,M),O(h,H,M),O(h,g,M),I=!0},p(h,M){var J;if(h[3]?k?(k.p(h,M),M[0]&8&&v(k,1)):(k=kt(h),k.c(),v(k,1),k.m(e.parentNode,e)):k&&(se(),w(k,1,1,()=>{k=null}),ie()),M[0]&16416&&(t=h[14]&&h[5].filter(Ot).length>0),t?p?(p.p(h,M),M[0]&16416&&v(p,1)):(p=$t(h),p.c(),v(p,1),p.m(l,null)):p&&(se(),w(p,1,1,()=>{p=null}),ie()),M[0]&539362049){j=ve(h[18]);let b;for(b=0;b<j.length;b+=1){const K=bt(h,j,b);C[b]?(C[b].p(K,M),v(C[b],1)):(C[b]=Nt(K),C[b].c(),v(C[b],1),C[b].m(r,a))}for(se(),b=j.length;b<C.length;b+=1)z(b);ie(),!j.length&&$?$.p(h,M):j.length?$&&($.d(1),$=null):($=It(h),$.c(),$.m(r,a))}if(M[0]&21038080&&(s=!(h[10].trim()in h[22])&&h[10]&&h[16]&&((J=h[24])==null?void 0:J.role)==="admin"),s?N?(N.p(h,M),M[0]&21038080&&v(N,1)):(N=Vt(h),N.c(),v(N,1),N.m(r,i)):N&&(se(),w(N,1,1,()=>{N=null}),ie()),M[0]&274726912){E=ve(Object.keys(h[22]));let b;for(b=0;b<E.length;b+=1){const K=vt(h,E,b);y[b]?(y[b].p(K,M),v(y[b],1)):(y[b]=Tt(K),y[b].c(),v(y[b],1),y[b].m(r,null))}for(se(),b=E.length;b<y.length;b+=1)X(b);ie()}},i(h){if(!I){v(k),v(p);for(let M=0;M<j.length;M+=1)v(C[M]);v(N);for(let M=0;M<E.length;M+=1)v(y[M]);I=!0}},o(h){w(k),w(p),C=C.filter(Boolean);for(let M=0;M<C.length;M+=1)w(C[M]);w(N),y=y.filter(Boolean);for(let M=0;M<y.length;M+=1)w(y[M]);I=!1},d(h){h&&(_(e),_(l),_(n),_(r),_(f),_(c),_(d),_(D),_(H),_(g)),k&&k.d(h),p&&p.d(),We(C,h),$&&$.d(),N&&N.d(),We(y,h)}}}function an(o){let e;const l=o[30].default,t=Ut(l,o,o[45],null),n=t||on(o);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,a){n&&n.m(r,a),e=!0},p(r,a){t?t.p&&(!e||a[1]&16384)&&At(t,l,r,r[45],e?Ft(l,r[45],a,null):Wt(r[45]),null):n&&n.p&&(!e||a[0]&23559993)&&n.p(r,e?a:[-1,-1])},i(r){e||(v(n,r),e=!0)},o(r){w(n,r),e=!1},d(r){n&&n.d(r)}}}function sn(o){var r;let e,l,t,n;return e=new Rt({props:{class:"relative w-full "+(((r=o[19])==null?void 0:r.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden"),"aria-label":o[2],id:"model-selector-"+o[1]+"-button",$$slots:{default:[tn]},$$scope:{ctx:o}}}),t=new Zt({props:{class:" z-40 "+(o[23]?"w-full":`${o[6]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-2xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden",transition:Gt,side:o[23]?"bottom":"bottom-start",sideOffset:2,alignOffset:-1,$$slots:{default:[an]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment),l=W(),q(t.$$.fragment)},l(a){R(e.$$.fragment,a),l=F(a),R(t.$$.fragment,a)},m(a,s){Z(e,a,s),O(a,l,s),Z(t,a,s),n=!0},p(a,s){var c;const i={};s[0]&524288&&(i.class="relative w-full "+(((c=a[19])==null?void 0:c.highContrastMode)??!1?"":"outline-hidden focus:outline-hidden")),s[0]&4&&(i["aria-label"]=a[2]),s[0]&2&&(i.id="model-selector-"+a[1]+"-button"),s[0]&1605764|s[1]&16384&&(i.$$scope={dirty:s,ctx:a}),e.$set(i);const f={};s[0]&8388672&&(f.class=" z-40 "+(a[23]?"w-full":`${a[6]}`)+" max-w-[calc(100vw-1rem)] justify-start rounded-2xl  bg-white dark:bg-gray-850 dark:text-white shadow-lg  outline-hidden"),s[0]&8388608&&(f.side=a[23]?"bottom":"bottom-start"),s[0]&23559993|s[1]&16384&&(f.$$scope={dirty:s,ctx:a}),t.$set(f)},i(a){n||(v(e.$$.fragment,a),v(t.$$.fragment,a),n=!0)},o(a){w(e.$$.fragment,a),w(t.$$.fragment,a),n=!1},d(a){a&&_(l),G(e,a),G(t,a)}}}function fn(o){let e,l,t;function n(a){o[44](a)}let r={onOpenChange:o[43],closeFocus:!1,$$slots:{default:[sn]},$$scope:{ctx:o}};return o[9]!==void 0&&(r.open=o[9]),e=new qt({props:r}),Fe.push(()=>Ke(e,"open",n)),{c(){q(e.$$.fragment)},l(a){R(e.$$.fragment,a)},m(a,s){Z(e,a,s),t=!0},p(a,s){const i={};s[0]&1024&&(i.onOpenChange=a[43]),s[0]&33554431|s[1]&16384&&(i.$$scope={dirty:s,ctx:a}),!l&&s[0]&512&&(l=!0,i.open=a[9],Ye(()=>l=!1)),e.$set(i)},i(a){t||(v(e.$$.fragment,a),t=!0)},o(a){w(e.$$.fragment,a),t=!1},d(a){G(e,a)}}}const Ot=o=>{var e,l,t;return!(((t=(l=(e=o.model)==null?void 0:e.info)==null?void 0:l.meta)==null?void 0:t.hidden)??!1)},zt=o=>{var e;return(e=o.model)==null?void 0:e.direct},Lt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="external"},St=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="local"},Bt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="local"},Pt=o=>{var e;return((e=o.model)==null?void 0:e.connection_type)==="external"},jt=o=>{var e;return(e=o.model)==null?void 0:e.direct},un=o=>{o.deltaY!==0&&(o.preventDefault(),o.currentTarget.scrollLeft+=o.deltaY)};function cn(o,e,l){let t,n,r,a,s,i,f;pe(o,Kt,u=>l(19,n=u)),pe(o,il,u=>l(20,r=u)),pe(o,ke,u=>l(22,s=u)),pe(o,fl,u=>l(23,i=u)),pe(o,Yt,u=>l(24,f=u));let{$$slots:c={},$$scope:d}=e;Ge.extend(ll);const D=Je("i18n");pe(o,D,u=>l(21,a=u)),Jt();let{id:H=""}=e,{value:g=""}=e,{placeholder:I=a.t("Select a model")}=e,{searchEnabled:k=!0}=e,{searchPlaceholder:p=a.t("Search a model")}=e,{items:j=[]}=e,{className:C="w-[32rem]"}=e,{triggerClassName:z="text-lg"}=e,{pinModelHandler:$=()=>{}}=e,N,E=!1,y=[],X="",Q="",h="",M="",J=null,b=0;const K=new tl(j.map(u=>{var A,Y,le,ee,he;return{...u,modelName:(A=u.model)==null?void 0:A.name,tags:(((Y=u.model)==null?void 0:Y.tags)??[]).map(ge=>ge.name).join(" "),desc:(he=(ee=(le=u.model)==null?void 0:le.info)==null?void 0:ee.meta)==null?void 0:he.description}}),{keys:["value","tags","modelName"],threshold:.4}),be=()=>{K&&K.setCollection(j.map(u=>{var A,Y,le,ee,he;return{...u,modelName:(A=u.model)==null?void 0:A.name,tags:(((Y=u.model)==null?void 0:Y.tags)??[]).map(ge=>ge.name).join(" "),desc:(he=(ee=(le=u.model)==null?void 0:le.info)==null?void 0:ee.meta)==null?void 0:he.description}}))},de=async()=>{await tt();const u=t.findIndex(A=>A.value===g);u>=0?l(17,b=u):l(17,b=0),await tt();const B=document.querySelector('[data-arrow-selected="true"]');B==null||B.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},Me=async()=>{var Y;const u=Q.trim().replace(/^ollama\s+(run|pull)\s+/,"");if(s[u]){me.error(a.t("Model '{{modelTag}}' is already in queue for downloading.",{modelTag:u}));return}if(Object.keys(s).length===3){me.error(a.t("Maximum of 3 models can be downloaded simultaneously. Please try again later."));return}const[B,A]=await rl(localStorage.token,u,"0").catch(le=>(me.error(`${le}`),null));if(B){const le=B.body.pipeThrough(new TextDecoderStream).pipeThrough(el(`
`)).getReader();for(ke.set({...s,[u]:{...s[u],abortController:A,reader:le,done:!1}});;)try{const{value:ee,done:he}=await le.read();if(he)break;let ge=ee.split(`
`);for(const Ee of ge)if(Ee!==""){let fe=JSON.parse(Ee);if(fe.error)throw fe.error;if(fe.detail)throw fe.detail;if(fe.status)if(fe.digest){let we=0;fe.completed?we=Math.round(fe.completed/fe.total*1e3)/10:we=100,ke.set({...s,[u]:{...s[u],pullProgress:we,digest:fe.digest}})}else me.success(fe.status),ke.set({...s,[u]:{...s[u],done:fe.status==="success"}})}}catch(ee){typeof ee!="string"&&(ee=ee.message),me.error(`${ee}`);break}s[u].done?(me.success(a.t("Model '{{modelName}}' has been successfully downloaded.",{modelName:u})),Re.set(await Ze(localStorage.token,((Y=r==null?void 0:r.features)==null?void 0:Y.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null)))):me.error(a.t("Download canceled")),delete s[u],ke.set({...s})}},te=async()=>{l(16,J=await sl(localStorage.token).catch(u=>!1))};Xt(async()=>{j&&(l(14,y=j.filter(u=>{var B,A,Y;return!(((Y=(A=(B=u.model)==null?void 0:B.info)==null?void 0:A.meta)==null?void 0:Y.hidden)??!1)}).flatMap(u=>{var B;return((B=u.model)==null?void 0:B.tags)??[]}).map(u=>u.name)),l(14,y=Array.from(new Set(y)).sort((u,B)=>u.localeCompare(B))))});const x=async u=>{const{reader:B,abortController:A}=s[u];A&&A.abort(),B&&(await B.cancel(),delete s[u],ke.set({...s}),await ol(localStorage.token,u),me.success(a.t("{{model}} download has been canceled",{model:u})))},qe=async u=>{var A;await al(localStorage.token,u).catch(Y=>{me.error(a.t("Error unloading model: {{error}}",{error:Y}))})&&(me.success(a.t("Model unloaded successfully")),Re.set(await Ze(localStorage.token,((A=r==null?void 0:r.features)==null?void 0:A.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null))))},Ve=async()=>{var u;Re.set(await Ze(localStorage.token,((u=r==null?void 0:r.features)==null?void 0:u.enable_direct_connections)&&((n==null?void 0:n.directConnections)??null)))};function ne(){Q=this.value,l(10,Q)}const He=u=>{if(u.code==="Enter"&&t.length>0){l(0,g=t[b].value),l(9,E=!1);return}else u.code==="ArrowDown"?(u.stopPropagation(),l(17,b=Math.min(b+1,t.length-1))):u.code==="ArrowUp"?(u.stopPropagation(),l(17,b=Math.max(b-1,0))):l(17,b=0);const B=document.querySelector('[data-arrow-selected="true"]');B==null||B.scrollIntoView({block:"center",inline:"nearest",behavior:"instant"})},Te=()=>{l(12,M=""),l(11,h="")},Oe=()=>{l(11,h=""),l(12,M="local")},ze=()=>{l(11,h=""),l(12,M="external")},Le=()=>{l(11,h=""),l(12,M="direct")},Se=u=>{l(12,M=""),l(11,h=u)};function Be(u){Fe[u?"unshift":"push"](()=>{N=u,l(13,N)})}const Pe=(u,B)=>{l(0,g=u.value),l(17,b=B),l(9,E=!1)},je=()=>{Me()},Ue=u=>{x(u)},V=async()=>{l(10,Q=""),window.setTimeout(()=>{var u;return(u=document.getElementById("model-search-input"))==null?void 0:u.focus()},0),de()};function U(u){E=u,l(9,E)}return o.$$set=u=>{"id"in u&&l(1,H=u.id),"value"in u&&l(0,g=u.value),"placeholder"in u&&l(2,I=u.placeholder),"searchEnabled"in u&&l(3,k=u.searchEnabled),"searchPlaceholder"in u&&l(4,p=u.searchPlaceholder),"items"in u&&l(5,j=u.items),"className"in u&&l(6,C=u.className),"triggerClassName"in u&&l(7,z=u.triggerClassName),"pinModelHandler"in u&&l(8,$=u.pinModelHandler),"$$scope"in u&&l(45,d=u.$$scope)},o.$$.update=()=>{o.$$.dirty[0]&33&&l(15,X=j.find(u=>u.value===g)??""),o.$$.dirty[0]&32&&j&&be(),o.$$.dirty[0]&7200&&l(18,t=(Q?K.search(Q).map(u=>u.item).filter(u=>{var B;return h===""?!0:(((B=u.model)==null?void 0:B.tags)??[]).map(A=>A.name).includes(h)}).filter(u=>{var B,A,Y;if(M==="")return!0;if(M==="local")return((B=u.model)==null?void 0:B.connection_type)==="local";if(M==="external")return((A=u.model)==null?void 0:A.connection_type)==="external";if(M==="direct")return(Y=u.model)==null?void 0:Y.direct}):j.filter(u=>{var B;return h===""?!0:(((B=u.model)==null?void 0:B.tags)??[]).map(A=>A.name).includes(h)}).filter(u=>{var B,A,Y;if(M==="")return!0;if(M==="local")return((B=u.model)==null?void 0:B.connection_type)==="local";if(M==="external")return((A=u.model)==null?void 0:A.connection_type)==="external";if(M==="direct")return(Y=u.model)==null?void 0:Y.direct})).filter(u=>{var B,A,Y;return!(((Y=(A=(B=u.model)==null?void 0:B.info)==null?void 0:A.meta)==null?void 0:Y.hidden)??!1)})),o.$$.dirty[0]&6144&&de(),o.$$.dirty[0]&512&&E&&te()},[g,H,I,k,p,j,C,z,$,E,Q,h,M,N,y,X,J,b,t,n,r,a,s,i,f,D,de,Me,x,qe,c,Ve,ne,He,Te,Oe,ze,Le,Se,Be,Pe,je,Ue,V,U,d]}class Sn extends Ce{constructor(e){super(),Ie(this,e,cn,fn,$e,{id:1,value:0,placeholder:2,searchEnabled:3,searchPlaceholder:4,items:5,className:6,triggerClassName:7,pinModelHandler:8},null,[-1,-1])}}export{Sn as S};
//# sourceMappingURL=DjJN91o_.js.map
