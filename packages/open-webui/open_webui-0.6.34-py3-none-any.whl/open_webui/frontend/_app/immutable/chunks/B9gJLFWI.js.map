{"version":3,"mappings":";wZAiFAA,EAEKC,EAAAC,EAAAC,CAAA,EADJC,EAA+CF,EAAAG,CAAA,uEA/E3CC,EACAC,GAEO,gBAAAC,EAAe,CAAI,OAAM,IAAO,GAAAC,GAChC,OAAAC,EAAM,IAAAD,EAEN,SAAAE,EAAW,GAAC,MAEnBC,EAAmB,KAEvBC,EAAO,iBACG,QAASC,CAAC,CAAY,gBAAQ,IAAG,cAClC,eAAS,OAAAC,KAAA,2CAAAC,EAAA,uBACiB,yCAGlCV,EAAMQ,EAAE,IAAIP,CAAU,EAAE,QAAQC,GAAiC,CAAI,OAAS,IAAI,EAAG,EAAE,EAEnFA,OACHE,EAAM,EAEJ,OAAQF,EACR,gBAAiBA,EAAgB,CAAC,CAAW,UAAAA,EAAgB,CAAC,OAKjEM,EAAE,UAAU,qDAAoD,CAC/D,YACC,yFACC,SAAMR,CAAG,EAEN,MAAAW,EAAcP,GAAM,IACrBJ,EAAG,CACFM,GACHN,EAAI,YAAYM,CAAgB,MAG7BM,EAAO,GACF,QAAAC,KAAST,EAAM,CACjB,MAAAU,EAASN,EAAE,OAAOK,EAAM,MAAM,EAAE,UAAUA,EAAM,OAAO,EAE7DD,EAAQ,KAAKE,CAAM,EAGpBR,EAAmBE,EAAE,aAAaI,CAAO,EAAE,MAAMZ,CAAG,MAGnDA,EAAI,UAAUM,EAAiB,UAAS,EACvC,SAAS,KAAK,IAAIN,EAAI,UAAW,EAAE,SAEvB,KAIhBW,EAAWP,CAAM,EAEjBJ,EAAI,GAAG,QAAUe,GAAC,CACLA,EAAE,OACdV,EAAO,GAAIU,EAAE,OAAO,GAAG,KAAKA,EAAE,OAAO,GAAG,IAExCJ,EAAU,EAER,OAAM,CAAGI,EAAE,OAAO,IAAKA,EAAE,OAAO,GAAG,EACnC,QAAO,QAAUA,EAAE,OAAO,GAAG,UAAUA,EAAE,OAAO,GAAG,UAMvDC,EAAS,UACJhB,GAEHA,EAAI,OAAM,6CAMIC,EAAUgB","names":["insert_hydration","target","div1","anchor","append_hydration","div0","map","mapElement","setViewLocation","$$props","points","onClick","markerGroupLayer","onMount","L","n","__vitePreload","setMarkers","markers","point","marker","e","onDestroy","$$value"],"ignoreList":[],"sources":["../../../../../../src/lib/components/common/Valves/MapSelector.svelte"],"sourcesContent":["<script>\n\timport { onMount, onDestroy } from 'svelte';\n\n\tlet map;\n\tlet mapElement;\n\n\texport let setViewLocation = [51.505, -0.09];\n\texport let points = [];\n\n\texport let onClick = (e) => {};\n\n\tlet markerGroupLayer = null;\n\n\tonMount(async () => {\n\t\tconst [{ default: L }] = await Promise.all([\n\t\t\timport('leaflet'),\n\t\t\timport('leaflet/dist/leaflet.css')\n\t\t]);\n\n\t\tmap = L.map(mapElement).setView(setViewLocation ? setViewLocation : [51.505, -0.09], 10);\n\n\t\tif (setViewLocation) {\n\t\t\tpoints = [\n\t\t\t\t{\n\t\t\t\t\tcoords: setViewLocation,\n\t\t\t\t\tcontent: `Lat: ${setViewLocation[0]}, Lng: ${setViewLocation[1]}`\n\t\t\t\t}\n\t\t\t];\n\t\t}\n\n\t\tL.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n\t\t\tattribution:\n\t\t\t\t'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n\t\t}).addTo(map);\n\n\t\tconst setMarkers = (points) => {\n\t\t\tif (map) {\n\t\t\t\tif (markerGroupLayer) {\n\t\t\t\t\tmap.removeLayer(markerGroupLayer);\n\t\t\t\t}\n\n\t\t\t\tlet markers = [];\n\t\t\t\tfor (let point of points) {\n\t\t\t\t\tconst marker = L.marker(point.coords).bindPopup(point.content);\n\n\t\t\t\t\tmarkers.push(marker);\n\t\t\t\t}\n\n\t\t\t\tmarkerGroupLayer = L.featureGroup(markers).addTo(map);\n\n\t\t\t\ttry {\n\t\t\t\t\tmap.fitBounds(markerGroupLayer.getBounds(), {\n\t\t\t\t\t\tmaxZoom: Math.max(map.getZoom(), 13)\n\t\t\t\t\t});\n\t\t\t\t} catch (error) {}\n\t\t\t}\n\t\t};\n\n\t\tsetMarkers(points);\n\n\t\tmap.on('click', (e) => {\n\t\t\tconsole.log(e.latlng);\n\t\t\tonClick(`${e.latlng.lat}, ${e.latlng.lng}`);\n\n\t\t\tsetMarkers([\n\t\t\t\t{\n\t\t\t\t\tcoords: [e.latlng.lat, e.latlng.lng],\n\t\t\t\t\tcontent: `Lat: ${e.latlng.lat}, Lng: ${e.latlng.lng}`\n\t\t\t\t}\n\t\t\t]);\n\t\t});\n\t});\n\n\tonDestroy(async () => {\n\t\tif (map) {\n\t\t\tconsole.log('Unloading Leaflet map.');\n\t\t\tmap.remove();\n\t\t}\n\t});\n</script>\n\n<div class=\" z-10 w-full\">\n\t<div bind:this={mapElement} class=\"h-96 z-10\" />\n</div>\n"],"file":"_app/immutable/chunks/B9gJLFWI.js"}