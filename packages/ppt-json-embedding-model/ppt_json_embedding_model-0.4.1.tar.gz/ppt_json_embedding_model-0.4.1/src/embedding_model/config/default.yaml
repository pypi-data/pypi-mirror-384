seed: 42

# Data
max_chars: 2048
text_separator: " \n "
field_kv_sep: ": "
field_pair_sep: " | "

augment:
  drop_field_prob: 0.1
  shuffle_fields: true
  mask_digits_prob: 0.05

# Model
vocab:
  # charset to initialize; extended dynamically for seen chars
  initial: "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_./,:;!?@#%&*()[]{}<>\"'`~+=|\\ \t"
  unk_token: "?"
char_embed_dim: 32
conv_channels: 256
kernel_sizes: [3,5,7]
projection_dim: 256
layer_norm: true

# Conversation
role_tokens:
  system: "<|system|>"
  user: "<|user|>"
  assistant: "<|assistant|>"

# Train
batch_size: 128
epochs: 10
lr: 3e-4
weight_decay: 1e-4
temperature: 0.07
warmup_steps: 500
max_steps: null  # set to int to cap steps per epoch
num_workers: 0

device: "cuda"  # or "cpu"
log_every: 50
save_every: 1000
