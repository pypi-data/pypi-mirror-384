interactions:
  - request:
      body: ""
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: GET
      uri: http://testserver/info
    response:
      body:
        string: '{"agent_type":"SimpleAgent"}'
      headers:
        content-length:
          - "28"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '[{"type":"function","info":{"name":"print_story","description":"Print a
        story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","info":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}]'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "787"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/init_state
    response:
      body:
        string:
          '{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
          a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[],"hide_old_env_states":false,"hide_old_action_content":false}'
      headers:
        content-length:
          - "887"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages":[{"role":"user","content":"Cast ''5.5'' to a float, then to
        an integer, and finally use it to write a story of that many words."}],"model":"gpt-4o-2024-11-20","n":1,"temperature":0.1,"tool_choice":"required","tools":[{"type":"function","function":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1030"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.97.0
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.97.0
        x-stainless-raw-response:
          - "true"
        x-stainless-read-timeout:
          - "120.0"
        x-stainless-retry-count:
          - "0"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.8
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAAwAAAP//jFPBbtswDL37KwSe48JJ7WTxce2ADetlGFAkWApDlWhHqywZEh00C/Lv
          g+3EdtIMmA+GwMdHPj5Rh4AxUBJSBmLLSZSVDh/mT8+r5e7r+ovXcfxZPv/Iib+tlvu1FwYmDcO+
          /kZBZ9adsGWlkZQ9wcIhJ2yqThdJMp99mi+WLVBaibqhFRWFsQ1n0SwOp9NwFp2IW6sEekjZr4Ax
          xg7tv5FoJL5DyqLJOVKi97xASPskxsBZ3USAe688cUMwGUBhDaFpVJta6xFA1upMcK2Hxt13GJ0H
          n7jWmVp9U49/3O7p+ypez6OHHcefe/6Io35d6X3VCsprI3p/RngfT6+aMQaGl9g19JTl2nK6YjMG
          3BV1iYYa5XDYwPsG0g0kd8kGjnCRfAxunV9GNjjMa8/1R3+4MZZ4I7M16OWEHPu70LaonH31V1TI
          lVF+mznkvh1x7HRwFtJKgPriMqFytqwoI/uGbdNpvOyqwrBrI3R+AskS1+N4MrlRL5NIXLW33S+Y
          4GKLcqAOi8ZrqewICEazf1Rzq3Y3vzLF/5QfACGwIpRZ5VAqcTnxkOaweYr/SutdbgWDR7dTAjNS
          6Jr7kJjzWnd7BX7vCcssV6ZAVznVPhXIqyyP8D5aJPcLCcEx+AsAAP//AwB8+uw1MwQAAA==
      headers:
        CF-RAY:
          - 971bc3eec83bcf16-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Tue, 19 Aug 2025 18:37:59 GMT
        Server:
          - cloudflare
        Set-Cookie:
          - __cf_bm=0R3FygBDUN9Pt9_zW1ij6fEuT0tAVKXe7h8Pzj.E25c-1755628679-1.0.1.1-sctkRJcta3hhCI3L1Y0iEgT7She7p9LGJm93HG4Dujo5dt_GMTdUac44.lo894wOxA5ZzYdalVv5T4G0M0mCBvbIKZu0XL0wVvcExEkxI2c;
            path=/; expires=Tue, 19-Aug-25 19:07:59 GMT; domain=.api.openai.com; HttpOnly;
            Secure; SameSite=None
          - _cfuvid=qFmz4XlgHGnr05aY7U9AzTBmfeHeOX1d_HzL5rl2BiI-1755628679957-0.0.1.1-604800000;
            path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None
        Strict-Transport-Security:
          - max-age=31536000; includeSubDomains; preload
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        cf-cache-status:
          - DYNAMIC
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "378"
        openai-project:
          - proj_RpeV6PrPclPHBb5GlExPXSBj
        openai-version:
          - "2020-10-01"
        x-envoy-upstream-service-time:
          - "406"
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999973"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_203ff3af52b349cb9111a3fdc3c8b506
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state":{"tools":[{"type":"function","info":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","info":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[],"hide_old_env_states":false,"hide_old_action_content":false},"obs":[{"role":"user","content":"Cast
        ''5.5'' to a float, then to an integer, and finally use it to write a story
        of that many words."}],"training":false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1039"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"73ebad95-5011-4923-b7a7-0b38ad25bd9c","fwd_id":"9f16d54d-2c6e-4419-85ed-125978a1bcce"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_iXIiDzrvLKX4Y60CvaeSyaDe","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]},"logprob":null},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
          a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_iXIiDzrvLKX4Y60CvaeSyaDe","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}],"hide_old_env_states":false,"hide_old_action_content":false},0.0]'
      headers:
        content-length:
          - "1612"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages":[{"role":"user","content":"Cast ''5.5'' to a float, then to
        an integer, and finally use it to write a story of that many words."}],"model":"gpt-4o-2024-11-20","n":1,"temperature":0.1,"tool_choice":"required","tools":[{"type":"function","function":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1030"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.97.0
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.97.0
        x-stainless-raw-response:
          - "true"
        x-stainless-read-timeout:
          - "120.0"
        x-stainless-retry-count:
          - "0"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.8
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAAwAAAP//jFPLbtswELzrK4g924H8kJ3oVqQvJLn00gfqQKDJlcyaIlVylcQ1/O+F
          KEeSHReoDgKxszM7u1zuI8ZASUgZiA0nUVZ6fLt4+PrDbOXi5dvyu1h/Evf3Hx+ed7sbG1MJo4Zh
          179Q0CvrStiy0kjKmhYWDjlhozpZJslier24jgNQWom6oRUVjed2PI2n8/FkMp7GR+LGKoEeUvYz
          Yoyxffg3Fo3EF0hZkAmREr3nBULaJTEGzuomAtx75YkbglEPCmsITePa1FoPALJWZ4Jr3Rduv/3g
          3M+Ja529v7vdFcX89xf57nkW8+2ynP65+/D5aVCvld5VwVBeG9HNZ4B38fSsGGNgeIltQU9Zri2n
          MzZjwF1Rl2iocQ77FbysIF1BcpWs4AAnyYfo0vlxMAaHee25fjsfbowl3tgMA3o8IofuLrQtKmfX
          /owKuTLKbzKH3IcWh5OOXo0EC1CfXCZUzpYVZWS3GIpO5jetKvS7NkAXR5AscT2MJ6MLeplE4irc
          drdggosNyp7aLxqvpbIDIBr0/tbNJe22f2WK/5HvASGwIpRZ5VAqcdpxn+aweYr/SuumHAyDR/ek
          BGak0DX3ITHntW73CvzOE5ZZrkyBrnIqPBXIqyyPcRYvk9lSQnSI/gIAAP//AwADQmnYMwQAAA==
      headers:
        CF-RAY:
          - 971bc3f1e8dfcf16-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Tue, 19 Aug 2025 18:38:00 GMT
        Server:
          - cloudflare
        Strict-Transport-Security:
          - max-age=31536000; includeSubDomains; preload
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        cf-cache-status:
          - DYNAMIC
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "365"
        openai-project:
          - proj_RpeV6PrPclPHBb5GlExPXSBj
        openai-version:
          - "2020-10-01"
        x-envoy-upstream-service-time:
          - "385"
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999973"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_1c03341d400a43c0b6a9c04942a65d92
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state":{"tools":[{"type":"function","info":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","info":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[],"hide_old_env_states":false,"hide_old_action_content":false},"obs":[{"role":"user","content":"Cast
        ''5.5'' to a float, then to an integer, and finally use it to write a story
        of that many words."}],"training":false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1039"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"209efb31-2c7b-4162-8d41-70ea96ee3552","fwd_id":"78784269-8bce-4f16-97ab-698b7e9aeacd"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_DJCygg4qQdAw30ak7m2zJEHv","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]},"logprob":null},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
          a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_DJCygg4qQdAw30ak7m2zJEHv","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}],"hide_old_env_states":false,"hide_old_action_content":false},0.0]'
      headers:
        content-length:
          - "1612"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages":[{"role":"user","content":"Cast ''5.5'' to a float, then to
        an integer, and finally use it to write a story of that many words."}],"model":"gpt-4o-2024-11-20","n":1,"temperature":0.1,"tool_choice":"required","tools":[{"type":"function","function":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1030"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.97.0
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.97.0
        x-stainless-raw-response:
          - "true"
        x-stainless-read-timeout:
          - "120.0"
        x-stainless-retry-count:
          - "0"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.8
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAA4xTTW+jMBC98yusOScVpCFpufZL+6FtT62qpkKuPYA3xrZsU6Ub5b+vMCmQNCst
          B2TNm/fmzXi8jQgBwSEjwCrqWW3k9Grx8/H5h/R/Kuue4uT220N85a6L+fNl8vgdJi1Dv/1G5j9Z
          Z0zXRqIXWnUws0g9tqrJMk0Xs4vFRRyAWnOULa00fjrX01k8m0+TZDqL98RKC4YOMvISEULINvxb
          i4rjBjISZEKkRudoiZD1SYSA1bKNAHVOOE+Vh8kAMq08qta1aqQcAV5rmTMq5VC4+7aj8zAnKmUu
          7f0DX6u79PrX09Ild5vk5n79XiWjep30hwmGikaxfj4jvI9nR8UIAUVr7Ao6nxdSU3/EJgSoLZsa
          lW+dw3YFmxVkK0jP0hXs4CB5F506v47GYLFoHJVf50OV0p62NsOAXvfIrr8LqUtj9Zs7okIhlHBV
          bpG60OJ40tGnkWABmoPLBGN1bXzu9RpD0WR+2anCsGsjdLEHvfZUjuPp5IReztFTEW67XzBGWYV8
          oA6LRhsu9AiIRr1/dXNKu+tfqPJ/5AeAMTQeeW4scsEOOx7SLLZP8V9p/ZSDYXBo3wXD3Au07X1w
          LGgju70C9+E81nkhVInWWBGeChQmL2I8j5fp+ZJDtIv+AgAA//8DANeuZqozBAAA
      headers:
        CF-RAY:
          - 971bc3f4e9fecf16-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Tue, 19 Aug 2025 18:38:01 GMT
        Server:
          - cloudflare
        Strict-Transport-Security:
          - max-age=31536000; includeSubDomains; preload
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        cf-cache-status:
          - DYNAMIC
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "509"
        openai-project:
          - proj_RpeV6PrPclPHBb5GlExPXSBj
        openai-version:
          - "2020-10-01"
        x-envoy-upstream-service-time:
          - "554"
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999973"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_18309937c2ac4498bc20d150bccffae3
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state":{"tools":[{"type":"function","info":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","info":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[],"hide_old_env_states":false,"hide_old_action_content":false},"obs":[{"role":"user","content":"Cast
        ''5.5'' to a float, then to an integer, and finally use it to write a story
        of that many words."}],"training":false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1039"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"916241b8-f40e-4b65-81e6-f942942bcf89","fwd_id":"6e0338fb-9913-49f3-b8ca-3165eef41a3b"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_lrOPdknG5DNW7s1Gx1EOkvh1","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]},"logprob":null},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
          a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_lrOPdknG5DNW7s1Gx1EOkvh1","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]}],"hide_old_env_states":false,"hide_old_action_content":false},0.0]'
      headers:
        content-length:
          - "1612"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"messages":[{"role":"user","content":"Cast ''5.5'' to a float, then to
        an integer, and finally use it to write a story of that many words."},{"role":"assistant","tool_calls":[{"id":"call_lrOPdknG5DNW7s1Gx1EOkvh1","type":"function","function":{"arguments":"{\"x\":
        \"5.5\"}","name":"cast_float"}}]},{"role":"tool","content":"5.5","name":"cast_float","tool_call_id":"call_lrOPdknG5DNW7s1Gx1EOkvh1"}],"model":"gpt-4o-2024-11-20","n":1,"temperature":0.1,"tool_choice":"required","tools":[{"type":"function","function":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}]}'
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1286"
        content-type:
          - application/json
        host:
          - api.openai.com
        user-agent:
          - AsyncOpenAI/Python 1.97.0
        x-stainless-arch:
          - arm64
        x-stainless-async:
          - async:asyncio
        x-stainless-lang:
          - python
        x-stainless-os:
          - MacOS
        x-stainless-package-version:
          - 1.97.0
        x-stainless-raw-response:
          - "true"
        x-stainless-read-timeout:
          - "120.0"
        x-stainless-retry-count:
          - "0"
        x-stainless-runtime:
          - CPython
        x-stainless-runtime-version:
          - 3.12.8
      method: POST
      uri: https://api.openai.com/v1/chat/completions
    response:
      body:
        string: !!binary |
          H4sIAAAAAAAAA4xTTW+cMBC98yusOS8RkLBsubU5tKp6SJpVWrWJkGMGMDG2Y5to09X+9wrYBTbZ
          SPHBsubNx5s3461HCPAcUgKsoo41WviXyx+3fzbX8fVV8Fz/fhI36ulLXV9eVezXt3+w6CLUQ43M
          HaLOmGq0QMeVHGBmkDrssoZJHC+j1XIV9kCjchRdWKmdf6H8KIgu/DD0o2AfWCnO0EJK/nqEELLt
          746izHEDKQkWB0uD1tISIR2dCAGjRGcBai23jkoHiwlkSjqUHWvZCjEDnFIiY1SIqfBwtrP3pBMV
          Ilsn+mZtvpdBINdK3SZfP69+1o9JPas3pH7RPaGilWzUZ4aP9vRVMUJA0gaHgtZl/KiXvQc1Zdug
          dB1v2N7B5g7S+CzewZHjzjv1vp8JYLBoLRVvlaFSKkc7gr0093tkN05BqFIb9WBfhULBJbdVZpDa
          vrm5xt6BSE8B2qMxgjaq0S5z6hH7omGyHLLCtGUz9AA65aiY2T9FixP5shwd5f2cx9VilFWYT6HT
          itE252oGeLPe37I5lXvon8vyI+kngDHUDvNMG8w5O+54cjPYfcL33EaVe8Jg0TxzhpnjaLp55FjQ
          Vgw7BfbFOmyygssSjTa8/yRQ6KwI8DxI4vMkB2/n/QcAAP//AwBwKkfZLQQAAA==
      headers:
        CF-RAY:
          - 971bc3f8eef6cf16-SJC
        Connection:
          - keep-alive
        Content-Encoding:
          - gzip
        Content-Type:
          - application/json
        Date:
          - Tue, 19 Aug 2025 18:38:01 GMT
        Server:
          - cloudflare
        Strict-Transport-Security:
          - max-age=31536000; includeSubDomains; preload
        Transfer-Encoding:
          - chunked
        X-Content-Type-Options:
          - nosniff
        access-control-expose-headers:
          - X-Request-ID
        alt-svc:
          - h3=":443"; ma=86400
        cf-cache-status:
          - DYNAMIC
        openai-organization:
          - future-house-xr4tdh
        openai-processing-ms:
          - "419"
        openai-project:
          - proj_RpeV6PrPclPHBb5GlExPXSBj
        openai-version:
          - "2020-10-01"
        x-envoy-upstream-service-time:
          - "451"
        x-ratelimit-limit-requests:
          - "10000"
        x-ratelimit-limit-tokens:
          - "30000000"
        x-ratelimit-remaining-requests:
          - "9999"
        x-ratelimit-remaining-tokens:
          - "29999970"
        x-ratelimit-reset-requests:
          - 6ms
        x-ratelimit-reset-tokens:
          - 0s
        x-request-id:
          - req_7f8a44a285754087827c3740a4a443cd
      status:
        code: 200
        message: OK
  - request:
      body:
        '{"agent_state":{"tools":[{"type":"function","info":{"name":"print_story","description":"Print
        a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
        to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","info":{"name":"cast_float","description":"Cast
        the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","info":{"name":"cast_int","description":"Cast
        the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","info":{"name":"get_random_int","description":"Get
        a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[{"role":"user","content":"Cast
        ''5.5'' to a float, then to an integer, and finally use it to write a story
        of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_lrOPdknG5DNW7s1Gx1EOkvh1","type":"function","function":{"arguments":"{\"x\":
        \"5.5\"}","name":"cast_float"}}]}],"hide_old_env_states":false,"hide_old_action_content":false},"obs":[{"role":"tool","content":"5.5","name":"cast_float","tool_call_id":"call_lrOPdknG5DNW7s1Gx1EOkvh1"}],"training":false}'
      headers:
        accept:
          - "*/*"
        accept-encoding:
          - gzip, deflate
        connection:
          - keep-alive
        content-length:
          - "1330"
        content-type:
          - application/json
        host:
          - testserver
        user-agent:
          - python-httpx/0.28.1
      method: POST
      uri: http://testserver/get_asv
    response:
      body:
        string:
          '[{"call_id":{"run_id":"98ae66d3-65df-4670-ba5f-f7a2ab96568e","fwd_id":"ee50299f-ebba-433b-b918-0570f0113e0a"},"op_name":"_llm_call_op","op_class_name":"ldp.graph.common_ops.LLMCallOp","value":{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_T7pSTrJg00nTooV7GA8Rjk7j","type":"function","function":{"arguments":"{\"x\":
          5.5}","name":"cast_int"}}]},"logprob":null},{"tools":[{"type":"function","function":{"name":"print_story","description":"Print
          a story.","parameters":{"type":"object","properties":{"story":{"description":"Story
          to print.","title":"Story","type":"string"}},"required":["story"]}}},{"type":"function","function":{"name":"cast_float","description":"Cast
          the input argument x to a float.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"string"}},"required":["x"]}}},{"type":"function","function":{"name":"cast_int","description":"Cast
          the input argument x to an integer.","parameters":{"type":"object","properties":{"x":{"title":"X","type":"number"}},"required":["x"]}}},{"type":"function","function":{"name":"get_random_int","description":"Get
          a random integer in 1 to 10.","parameters":{"type":"object","properties":{},"required":[]}}}],"messages":[{"role":"user","content":"Cast
          ''5.5'' to a float, then to an integer, and finally use it to write a story
          of that many words."},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_lrOPdknG5DNW7s1Gx1EOkvh1","type":"function","function":{"arguments":"{\"x\":
          \"5.5\"}","name":"cast_float"}}]},{"role":"tool","content":"5.5","name":"cast_float","tool_call_id":"call_lrOPdknG5DNW7s1Gx1EOkvh1"},{"role":"assistant","content":null,"function_call":null,"tool_calls":[{"id":"call_T7pSTrJg00nTooV7GA8Rjk7j","type":"function","function":{"arguments":"{\"x\":
          5.5}","name":"cast_int"}}]}],"hide_old_env_states":false,"hide_old_action_content":false},0.0]'
      headers:
        content-length:
          - "1892"
        content-type:
          - application/json
      status:
        code: 200
        message: OK
version: 1
