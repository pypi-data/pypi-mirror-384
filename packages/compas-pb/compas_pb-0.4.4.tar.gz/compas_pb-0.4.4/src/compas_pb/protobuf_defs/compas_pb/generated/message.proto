syntax = "proto3";

package compas_pb.data;  // perhaps this should be compas_pb.data

import "google/protobuf/any.proto";
import "google/protobuf/struct.proto";

/** arbitrate container to hold message data and default data */
message AnyData {
  oneof data {
    google.protobuf.Any message = 1;
    google.protobuf.Value value = 2;
    FallbackData fallback = 3;
  }
}

message FallbackData {
    DictData data = 1;
}

/** repeated serves as a list in protobuf */
message ListData {
  repeated AnyData items = 1;
}

/** repeated serves as a dict in protobuf */
message DictData {
  map<string, AnyData> items = 1;
}

/** root serialization element */
message MessageData {
  AnyData data = 1;
  optional string version = 2;
}
