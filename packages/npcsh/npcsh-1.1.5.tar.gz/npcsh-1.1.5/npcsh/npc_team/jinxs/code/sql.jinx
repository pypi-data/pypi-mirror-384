jinx_name: sql_executor
description: Execute queries on the ~/npcsh_history.db to pull data. The database
  contains only information about conversations and other user-provided data. It does
  not store any information about individual files. Avoid using percent signs unless absolutely necessary. Returns a LLM summary so no post-summary is required
inputs:
- sql_query
- user_query
- interpret: true
steps:
  - engine: python
    code: |
      import pandas as pd
      query = "{{ sql_query }}"
      try:
        df = pd.read_sql_query(query, npc.db_conn)
      except Exception as e:
        df = pd.DataFrame({'Error': [str(e)]})
      output = df.to_string()