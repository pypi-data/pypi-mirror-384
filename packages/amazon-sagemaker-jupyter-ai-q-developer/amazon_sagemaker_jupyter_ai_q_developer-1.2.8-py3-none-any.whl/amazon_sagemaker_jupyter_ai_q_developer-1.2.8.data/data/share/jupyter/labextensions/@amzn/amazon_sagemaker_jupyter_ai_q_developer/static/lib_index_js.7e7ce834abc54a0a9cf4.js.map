{"version":3,"file":"lib_index_js.7e7ce834abc54a0a9cf4.js","mappings":"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","sources":["webpack://@amzn/amazon_sagemaker_jupyter_ai_q_developer/./src/components/CustomJAIHeader.tsx","webpack://@amzn/amazon_sagemaker_jupyter_ai_q_developer/./src/components/Icons/icons.ts","webpack://@amzn/amazon_sagemaker_jupyter_ai_q_developer/./src/components/MessageFooter/messageFooter.tsx","webpack://@amzn/amazon_sagemaker_jupyter_ai_q_developer/./src/components/ResponseFeedbackButtons/ResponseFeedbackButtons.tsx","webpack://@amzn/amazon_sagemaker_jupyter_ai_q_developer/./src/constants.ts","webpack://@amzn/amazon_sagemaker_jupyter_ai_q_developer/./src/handler.ts","webpack://@amzn/amazon_sagemaker_jupyter_ai_q_developer/./src/index.ts","webpack://@amzn/amazon_sagemaker_jupyter_ai_q_developer/./src/utils/environmentUtils.ts"],"sourcesContent":["import { ReactWidget } from '@jupyterlab/ui-components';\nimport React from 'react';\nimport { AppEnvironment, fetchCurrentEnvironment } from '../utils/environmentUtils';\nimport {Q_CHIP_BACKGROUND_COLOR_FREE_TIER, Q_CHIP_BACKGROUND_COLOR_PAID_TIER_GRADIENT} from '../constants'\n\nenum QTier {\n  FREE = 'Free Tier',\n  Q_DEV = 'Pro Tier'\n}\n\nfunction CustomJAIHeaderComponent() {\n  return (\n    <div style={{ display: 'flex' }}>\n      <QHeader />\n      <QTierChip />\n    </div>\n  );\n}\n\nfunction QHeader() {\n  return <div className=\"jp-RenderedHTMLCommon\" style={{ fontSize: '1.1rem', fontWeight: 700 }}>Amazon Q</div>;\n}\n\nfunction QTierChip() {\n  // Use state to handle async data\n  const [qTier, setQTier] = React.useState<QTier | null>(null);\n\n  // Use useEffect to fetch data\n  React.useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const environment = await fetchCurrentEnvironment();\n        if (!environment) {\n          return;\n        }\n        const tier = getQTier(environment.env, environment.isQDeveloperEnabled);\n        setQTier(tier);\n      } catch (error) {\n        console.error('Error fetching data to set Q tier:', error);\n      }\n    };\n    fetchData();\n  }, []); // Empty dependency array means this runs once on mount\n\n  if (!qTier) {\n    return null;\n  }\n\n  return (\n    <div style={getChipStyles(qTier)}>\n      {qTier}\n    </div>\n  );\n}\n\n\nconst getChipStyles = (qTier: string) => {\n  const baseStyles = {\n    zIndex: 5,\n    borderRadius: '4px',\n    padding: '2px 8px 2px 8px',\n    textAlign: 'center' as const,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n  };\n  if (QTier.FREE === qTier) {\n    return {\n      ...baseStyles,\n      color: 'white',\n      backgroundColor: Q_CHIP_BACKGROUND_COLOR_FREE_TIER,\n    };\n  }\n  else {\n    return {\n      ...baseStyles,\n      color: 'white',\n      background: Q_CHIP_BACKGROUND_COLOR_PAID_TIER_GRADIENT,\n      fontWeight: '500',\n    };\n  }\n};\n\n// Note that IDC below refers to the authentication mode we use with Q and not the mode to login to \n// MD portal.\n// MD_IDC = MaxDome environment using IDC access token for authentication with Q (Paid tier)\n// MD_IAM = MaxDome environment using IAM for authentication with Q (Free tier)\n// Logic for how the environment is set can be found here\n// https://tiny.amazon.com/kg0njiyt/codeamazpackblob2789utilenvi\nfunction getQTier(env: AppEnvironment, qDeveloperStatus: boolean | undefined): QTier {\n  // Return Q_DEV for MD_IDC or if it's SMStudioSSO with qDeveloperStatus\n  if (env === AppEnvironment.MD_IDC || (env === AppEnvironment.SMStudioSSO && qDeveloperStatus)) {\n      return QTier.Q_DEV;\n  }\n  // All other cases return FREE\n  return QTier.FREE;\n}\n\nexport default class CustomJAIHeader extends ReactWidget {\n  render() {\n    return (\n        <CustomJAIHeaderComponent />\n    );\n  }\n}\n","import { LabIcon } from '@jupyterlab/ui-components';\nimport { EXTENSION_ID } from '../../constants';\n\nconst upvoteIconSvgstr = `<svg class=\"jp-icon3\" width=\"32\" height=\"32\" viewBox=\"0 0 36 36\" fill=\"#616161\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path\n        clipRule=\"evenodd\"\n        d=\"M18.522 12.173l-2.486 4.14v5.723h5.44a1 1 0 00.969-.76l1.01-4.049a1 1 0 00-.97-1.24h-2.44a1 1 0 01-1-1v-2.67a.276.276 0 00-.28-.28.293.293 0 00-.243.136zm-4.486 9.863v-5h-1v5h1zm.434-7l2.338-3.895.002-.003a2.293 2.293 0 011.956-1.102 2.276 2.276 0 012.28 2.28v1.67h1.44a3 3 0 012.91 3.719v.003l-1.01 4.048v.001a3 3 0 01-2.91 2.28h-9.44a1 1 0 01-1-1v-7a1 1 0 011-1h2.434z\"\n        fillRule=\"evenodd\"\n      />\n</svg>`;\n\nconst downvoteIconSvgstr = `<svg class=\"jp-icon3\" transform=\"scale(-1,-1)\" width=\"32\" height=\"32\" viewBox=\"0 0 36 36\" fill=\"#616161\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path\n        clipRule=\"evenodd\"\n        d=\"M18.522 12.173l-2.486 4.14v5.723h5.44a1 1 0 00.969-.76l1.01-4.049a1 1 0 00-.97-1.24h-2.44a1 1 0 01-1-1v-2.67a.276.276 0 00-.28-.28.293.293 0 00-.243.136zm-4.486 9.863v-5h-1v5h1zm.434-7l2.338-3.895.002-.003a2.293 2.293 0 011.956-1.102 2.276 2.276 0 012.28 2.28v1.67h1.44a3 3 0 012.91 3.719v.003l-1.01 4.048v.001a3 3 0 01-2.91 2.28h-9.44a1 1 0 01-1-1v-7a1 1 0 011-1h2.434z\"\n        fillRule=\"evenodd\"\n      />\n</svg>`;\n\nexport const upvoteIcon = new LabIcon({\n  name: `${EXTENSION_ID}:upvote-icon`,\n  svgstr: upvoteIconSvgstr\n});\n\nexport const downvoteIcon = new LabIcon({\n  name: `${EXTENSION_ID}:downvote-icon`,\n  svgstr: downvoteIconSvgstr\n});\n","import React from 'react';\nimport { IJaiMessageFooterProps } from '@jupyter-ai/core';\nimport { ResponseFeedbackButton } from '../ResponseFeedbackButtons/ResponseFeedbackButtons';\n\nexport const MessageFooter = (props: IJaiMessageFooterProps) => {\n  /* Do not render the feedback controls if:\n  1. Not an AI message\n  2. The message streaming is still in-progress\n  3. q_conversation_id is not defined\n  4. q_message_id is not defined\n  */\n  if (\n    (props.message.type !== 'agent' && props.message.type !== 'agent-stream') ||\n    (props.message.type === 'agent-stream' && !props.message.complete) ||\n    props.message.metadata.q_conversation_id === undefined ||\n    props.message.metadata.q_message_id === undefined\n  ) {\n    return null;\n  }\n\n  return <ResponseFeedbackButton message={props.message} />;\n};\n","import produce from 'immer';\nimport React from 'react';\n\nimport { Box } from '@mui/material';\nimport IconButton from '@mui/material/IconButton';\nimport { AiService } from '@jupyter-ai/core/lib/handler';\nimport { useTelemetry } from '@jupyter-ai/core';\nimport { downvoteIcon, upvoteIcon } from '../Icons/icons';\n\ninterface IResponseFeedbackButtonProps {\n  message: AiService.AgentChatMessage | AiService.AgentStreamMessage;\n}\n\nenum FeedbackType {\n  Upvote = 'upvote',\n  Downvote = 'downvote'\n}\n\nconst buildTelemetryEvent = (\n  type: string,\n  message: AiService.AgentChatMessage | AiService.AgentStreamMessage\n) => {\n  return {\n    type,\n    message: {\n      id: message.id,\n      type: message.type,\n      time: message.time,\n      metadata: 'metadata' in message ? message.metadata : {}\n    }\n  };\n};\n\nexport const ResponseFeedbackButton = ({ message }: IResponseFeedbackButtonProps) => {\n  const telemetry = useTelemetry();\n  const [feedbackState, setFeedbackState] = React.useState({\n    submitted: false,\n    likeDisabled: false,\n    dislikeDisabled: false\n  });\n\n  const handleFeedbackSubmit = (feedbackType: FeedbackType) => {\n    if (feedbackState.submitted) {\n      return;\n    }\n\n    telemetry.onEvent(buildTelemetryEvent(feedbackType, message));\n\n    setFeedbackState(\n      produce((draft: { submitted: boolean; dislikeDisabled: boolean; likeDisabled: boolean }) => {\n        draft.submitted = true;\n\n        if (feedbackType === FeedbackType.Upvote) {\n          draft.dislikeDisabled = true;\n        } else {\n          draft.likeDisabled = true;\n        }\n      })\n    );\n  };\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        justifyContent: 'flex-end',\n        alignItems: 'center',\n        padding: '6px 2px',\n        marginBottom: '1em'\n      }}\n    >\n      <IconButton\n        sx={{\n          padding: '4px',\n          ...(feedbackState.likeDisabled && { opacity: 0.5 })\n        }}\n        onClick={() => handleFeedbackSubmit(FeedbackType.Upvote)}\n        data-testid={'upvote-button'}\n        disabled={feedbackState.likeDisabled}\n        title={\n          feedbackState.dislikeDisabled\n            ? 'Thank you for your feedback'\n            : feedbackState.likeDisabled\n              ? undefined\n              : 'Good response'\n        }\n      >\n        <upvoteIcon.react elementPosition=\"center\" tag=\"span\" />\n      </IconButton>\n      <IconButton\n        sx={{\n          padding: '4px',\n          ...(feedbackState.dislikeDisabled && { opacity: 0.5 })\n        }}\n        onClick={() => handleFeedbackSubmit(FeedbackType.Downvote)}\n        data-testid={'downvote-button'}\n        disabled={feedbackState.dislikeDisabled}\n        title={\n          feedbackState.likeDisabled\n            ? 'Thank you for your feedback'\n            : feedbackState.dislikeDisabled\n              ? undefined\n              : 'Bad response'\n        }\n      >\n        <downvoteIcon.react elementPosition=\"center\" tag=\"span\" />\n      </IconButton>\n    </Box>\n  );\n};\n","export const EXTENSION_ID = '@amzn/amazon_sagemaker_jupyter_ai_q_developer';\nexport const Q_DEV_TELEMETRY_ENDPOINT = '/amazon_sagemaker_jupyter_ai_q_developer/telemetry';\nexport const Q_CHIP_BACKGROUND_COLOR_FREE_TIER = '#414D5C';\nexport const Q_CHIP_BACKGROUND_COLOR_PAID_TIER_GRADIENT = 'linear-gradient(90deg, #3C1987CC 0%, #5073FECC 100%)';\nexport const SAGEMAKER_AUTH_DETAILS_ENDPOINT = '/aws/sagemaker/api/auth-details';\n","import { URLExt } from '@jupyterlab/coreutils';\nimport { ServerConnection } from '@jupyterlab/services';\n\nconst SUCCESS_RESPONSE_STATUS = [200, 201];\n\nexport enum OPTIONS_TYPE {\n  POST = 'POST',\n  GET = 'GET',\n  PUT = 'PUT',\n}\n\ntype OptionsType = OPTIONS_TYPE;\n\nclass ApiError extends Error {\n  readonly errorStatus: number;\n  readonly errorCode?: string;\n  readonly cause?: any;\n  constructor(message: string, errorStatus: number, errorCode?: string, cause?: any) {\n    super(message);\n    this.errorStatus = errorStatus;\n    this.errorCode = errorCode;\n    this.cause = cause;\n    Object.setPrototypeOf(this, ApiError.prototype);\n  }\n}\n\nexport const requestAPI = async (\n  endpoint: string,\n  type: OptionsType,\n  body?: string,\n  headers?: Record<string, string>,\n) => {\n  // @TODO: add in logger\n  const serverSettings = ServerConnection.makeSettings({});\n  const requestUrl = URLExt.join(serverSettings.baseUrl, endpoint);\n  const init: RequestInit = { method: type };\n  if (body) {\n    init['body'] = body;\n  }\n  if (headers) {\n    init['headers'] = headers;\n  }\n\n  const response = await ServerConnection.makeRequest(requestUrl, init, serverSettings);\n\n  if (!SUCCESS_RESPONSE_STATUS.includes(response.status)) {\n    const body = await response.json();\n    const errorCode = body.errorCode ?? undefined;\n    const errorMessage = body.errorMessage ?? 'unable to fetch data';\n    throw new ApiError(errorMessage, response.status, errorCode);\n  }\n  return response;\n};","import { JupyterFrontEnd, JupyterFrontEndPlugin } from '@jupyterlab/application';\nimport { IJaiMessageFooter, IJaiTelemetryHandler, IJaiCore } from '@jupyter-ai/core';\nimport { requestAPI, OPTIONS_TYPE } from './handler';\nimport { AppEnvironment, fetchCurrentEnvironment} from './utils/environmentUtils';\nimport { MessageFooter } from './components/MessageFooter/messageFooter';\nimport { EXTENSION_ID, Q_DEV_TELEMETRY_ENDPOINT } from './constants';\nimport { Widget } from '@lumino/widgets';\nimport CustomJAIHeader from './components/CustomJAIHeader';\n\nexport const telemetryPlugin: JupyterFrontEndPlugin<IJaiTelemetryHandler> = {\n  id: `${EXTENSION_ID}:custom-telemetry`,\n  autoStart: true,\n  provides: IJaiTelemetryHandler,\n  activate: (): IJaiTelemetryHandler => {\n    console.log('JupyterLab extension telemetry plugin is activated');\n    return {\n      onEvent: (e: any) => {\n        requestAPI(Q_DEV_TELEMETRY_ENDPOINT, OPTIONS_TYPE.POST, JSON.stringify(e));\n      }\n    };\n  }\n};\n\nexport const customPlaceholderPlugin: JupyterFrontEndPlugin<void> = {\n  id: `${EXTENSION_ID}:custom-placeholder-plugin`,\n  autoStart: true,\n  requires: [IJaiCore],\n  activate: (app: JupyterFrontEnd, { chatWidget }: IJaiCore): void => {\n    console.log('JupyterLab custom placeholder plugin is activated');\n    app.restored.then(() => {\n\n      chatWidget?.renderPromise?.then(() => {\n        const placeholderText = chatWidget.node.querySelector('*[placeholder=\"Ask Amazon Q\"]') as HTMLInputElement\n\n        if(placeholderText){\n          placeholderText.placeholder = 'Ask any question or type \"/\" for actions'\n        }\n      });\n    });\n  }\n}\n\nexport const customQHeaderPlugin: JupyterFrontEndPlugin<void> = {\n  id: '@amzn/amazon_sagemaker_jupyter_ai_q_developer:custom-q-header-plugin',\n  autoStart: true,\n  requires: [IJaiCore],\n  activate: (app: JupyterFrontEnd, { chatWidget }: IJaiCore) => {\n    app.restored.then(() => {\n      const customHeader = new CustomJAIHeader();\n      chatWidget?.renderPromise?.then(() => {\n        /**\n         * Customize JupyterLab AI UI. eg. Adding Q tier information\n         */\n        const headerHost = Array.from(chatWidget.node.querySelectorAll('p')).find(\n          p => p.innerText === 'Amazon Q'\n        )?.parentElement;\n\n        if (headerHost) {\n          headerHost.replaceChildren();\n          Widget.attach(customHeader, headerHost);\n        }\n      });\n    });\n\n    console.log('amazon_sagemaker_jupyter_ai_q_developer:custom-q-header-plugin is activated!');\n  }\n};\n\nexport const footerPlugin: JupyterFrontEndPlugin<IJaiMessageFooter> = {\n  id: `${EXTENSION_ID}:custom-footer`,\n  autoStart: true,\n  provides: IJaiMessageFooter,\n  activate: (app: JupyterFrontEnd): IJaiMessageFooter => {\n    console.log('JupyterLab extension footer plugin is activated');\n    return {\n      component: MessageFooter\n    };\n  }\n};\n\n/**\n * This plugin removes the settings icon in the Jupyter AI chat widget when \n * rendered in SageMaker Unified Studio. This functionality is not \n * currently supported in SageMaker Unified Studio.\n */\nexport const unifiedStudioConcealedLLMConfigPlugin: JupyterFrontEndPlugin<void> = {\n  id: `${EXTENSION_ID}:unified-studio-concealed-llm-config-plugin`,\n  autoStart: true,\n  requires: [IJaiCore],\n  activate: (app: JupyterFrontEnd, { chatWidget }: IJaiCore): void => {\n    app.restored.then(async () => {\n\n      const environment = await fetchCurrentEnvironment();\n\n      chatWidget?.renderPromise?.then(() => {\n        // if not SageMaker Unified Studio - do not update the UI.\n        if(!environment || ![AppEnvironment.MD_IAM, AppEnvironment.MD_IDC, AppEnvironment.MD_SAML].includes(environment.env)) return;\n\n        const actionsBar = chatWidget.node.firstChild?.firstChild;\n        const settingsButton = actionsBar?.lastChild?.lastChild;\n\n        if(settingsButton){\n          settingsButton.remove();\n        }\n      });\n    });\n  }\n}\n\nexport default [telemetryPlugin, footerPlugin, customPlaceholderPlugin, unifiedStudioConcealedLLMConfigPlugin, customQHeaderPlugin];\n","import { OPTIONS_TYPE, requestAPI } from '../handler';\nimport {SAGEMAKER_AUTH_DETAILS_ENDPOINT} from '../constants'\n\nexport interface AuthDetailsOutput {\n  isQDeveloperEnabled: boolean;\n  environment: AppEnvironment;\n}\n\nenum AppEnvironment {\n  SMStudio = 'SageMaker Studio',\n  SMStudioSSO = 'SageMaker Studio SSO',\n  MD_IAM = 'MD_IAM',\n  MD_IDC = 'MD_IDC',\n  MD_SAML = 'MD_SAML',\n  UNKNOWN = 'UNKNOWN'\n}\n\nconst fetchCurrentEnvironment = async () => {\n  try {\n    const response = await requestAPI(SAGEMAKER_AUTH_DETAILS_ENDPOINT, OPTIONS_TYPE.POST);\n    const data = await response.json() as AuthDetailsOutput;\n    return {\n      env: data.environment,\n      isQDeveloperEnabled: data.isQDeveloperEnabled\n    };\n  }catch(err){\n    console.error(\"Failed to fetch environment: \", err)\n  }\n}\n\nexport { AppEnvironment, fetchCurrentEnvironment };\n"],"names":[],"sourceRoot":""}