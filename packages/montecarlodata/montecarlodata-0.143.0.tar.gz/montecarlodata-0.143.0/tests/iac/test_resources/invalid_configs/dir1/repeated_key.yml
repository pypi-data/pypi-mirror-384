# should fail as dimension_tracking is repeated
base: &base
  labels:
    - Common (product)

montecarlo:
  dimension_tracking:
    - name: dt-1-mac
      resource: snowflake
      table: ingest:normalized_events.query_logs
      timestamp_field: date_part
      lookback_days: 2
      aggregation_time_interval: day
      schedule:
        type: fixed
        interval_minutes: 720
        timezone: UTC
      description: Dimension Tracking for account_id in [snowflake] ingest:normalized_events.query_logs!
      notify_rule_run_failure: true
      field: account_id
      use_partition_clause: false
      <<: *base
  dimension_tracking:
    - name: dt-1-mac
      resource: snowflake
      table: ingest:normalized_events.query_logs
      timestamp_field: date_part
      lookback_days: 2
      aggregation_time_interval: day
      schedule:
        type: fixed
        interval_minutes: 720
        timezone: UTC
      description: Dimension Tracking for account_id in [snowflake] ingest:normalized_events.query_logs!
      notify_rule_run_failure: true
      field: account_id
      <<: *base