# .readthedocs.yaml
# Read the Docs configuration file
# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details

version: 2

build:
  os: ubuntu-22.04
  apt_packages:
    - graphviz
  tools:
    python: "3.11"
  jobs:
    pre_install:
      # Install solidipes and plugins for automated API documentation
      - git submodule update --init --recursive
      - pip install --no-deps .
      - for dir in plugins/*; do pip install "$dir[dev]"; done
      # Install doc dependencies
      - pip install .[doc]

sphinx:
  configuration: docs/conf.py

# Build offline formats
formats:
  - pdf
  - epub
  - htmlzip
