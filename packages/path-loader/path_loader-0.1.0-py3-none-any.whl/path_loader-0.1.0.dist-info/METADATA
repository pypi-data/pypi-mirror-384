Metadata-Version: 2.4
Name: path-loader
Version: 0.1.0
Summary: è‡ªå‹•å¾é…ç½®æª”è¼‰å…¥ Python è·¯å¾‘åˆ° sys.path
Author: Pyan-X
License: MIT
Project-URL: Homepage, https://github.com/Pyan-X/path-loader
Project-URL: Repository, https://github.com/Pyan-X/path-loader
Keywords: path,sys.path,pythonpath,auto-load
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.7
Description-Content-Type: text/markdown
License-File: LICENSE
Dynamic: license-file

# Path Loader

[![Python versions](https://img.shields.io/pypi/pyversions/path-loader.svg)](https://pypi.org/project/path-loader/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

è‡ªå‹•å¾é…ç½®æª”è¼‰å…¥ Python è·¯å¾‘åˆ° `sys.path` çš„è¼•é‡ç´šå·¥å…·ã€‚

## ç‰¹è‰²

- ğŸš€ **é›¶é…ç½®ä½¿ç”¨** - å®‰è£å¾Œè‡ªå‹•ç”Ÿæ•ˆ
- ğŸ“ **æ™ºæ…§æœå°‹** - è‡ªå‹•å‘ä¸Šæœå°‹å°ˆæ¡ˆæ ¹ç›®éŒ„çš„ `.pypath` æª”æ¡ˆ
- ğŸ¯ **ç°¡å–®ç›´è¦º** - ä¸€å€‹é…ç½®æª”,ä¸€è¡Œä¸€å€‹è·¯å¾‘
- ğŸ”§ **éˆæ´»æ§åˆ¶** - å¯é¸ `append` æˆ– `insert` æ¨¡å¼

## å®‰è£

```bash
pip install path-loader
```

## å¿«é€Ÿé–‹å§‹

### 1. å»ºç«‹é…ç½®æª”

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å»ºç«‹ `.pypath` æª”æ¡ˆ:

```plaintext
./src
./lib
```

### 2. é–‹å§‹ä½¿ç”¨

å°±é€™æ¨£!ç•¶ä½ åŸ·è¡Œ Python æ™‚,é€™äº›è·¯å¾‘æœƒè‡ªå‹•è¼‰å…¥:

```bash
python your_script.py
```

ç¾åœ¨ä½ å¯ä»¥ç›´æ¥å°å…¥é€™äº›è·¯å¾‘ä¸‹çš„æ¨¡çµ„:

```python
from mymodule import something  # å¾ ./src æˆ– ./lib å°å…¥
```

## é…ç½®æª”æ ¼å¼

`.pypath` æª”æ¡ˆæ”¯æ´:

- æ¯è¡Œä¸€å€‹è·¯å¾‘
- ç›¸å°è·¯å¾‘(ç›¸å°æ–¼ `.pypath` æª”æ¡ˆæ‰€åœ¨ç›®éŒ„)
- çµ•å°è·¯å¾‘
- `#` é–‹é ­çš„è¨»è§£
- ç©ºç™½è¡Œæœƒè¢«å¿½ç•¥

**ç¯„ä¾‹:**

```plaintext
# å°ˆæ¡ˆåŸå§‹ç¢¼
./src
./lib

# å…±ç”¨æ¨¡çµ„
../shared_libs

# çµ•å°è·¯å¾‘
/opt/myproject/modules
```

## é€²éšä½¿ç”¨

### æ‰‹å‹•æ§åˆ¶è¼‰å…¥

```python
from path_loader import load_paths

# ä½¿ç”¨ append(é è¨­,æ¨è–¦)
count = load_paths()
print(f"è¼‰å…¥äº† {count} å€‹è·¯å¾‘")

# ä½¿ç”¨ insert(0) ç²å¾—é«˜å„ªå…ˆç´š
load_paths(prepend=True)
```

## API èªªæ˜

### `load_paths(start_dir=None, prepend=False)`

è¼‰å…¥é…ç½®æª”ä¸­çš„è·¯å¾‘åˆ° `sys.path`ã€‚

**åƒæ•¸:**

- `start_dir` (str, optional): æœå°‹èµ·å§‹ç›®éŒ„,é è¨­ç‚ºç•¶å‰å·¥ä½œç›®éŒ„
- `prepend` (bool, optional):
  - `False` (é è¨­): ä½¿ç”¨ `sys.path.append()` - è¼ƒå®‰å…¨,ä¸æœƒè¦†è“‹æ¨™æº–åº«
  - `True`: ä½¿ç”¨ `sys.path.insert(0)` - é«˜å„ªå…ˆç´š,å¯èƒ½è¦†è“‹æ¨™æº–åº«

**å›å‚³:**

- `int`: æˆåŠŸè¼‰å…¥çš„è·¯å¾‘æ•¸é‡

**ç¯„ä¾‹:**

```python
# æ¨™æº–æ¨¡å¼(æ¨è–¦)
load_paths()

# é«˜å„ªå…ˆç´šæ¨¡å¼
load_paths(prepend=True)
```

### `find_pypath_file(start_dir=None)`

æœå°‹é…ç½®æª”ã€‚

**å›å‚³:**

- `Path` æˆ– `None`: æ‰¾åˆ°çš„é…ç½®æª”è·¯å¾‘

### `parse_pypath_file(config_path)`

è§£æé…ç½®æª”å…§å®¹ã€‚

**å›å‚³:**

- `List[str]`: è§£æå‡ºçš„æœ‰æ•ˆè·¯å¾‘åˆ—è¡¨

## å°ˆæ¡ˆçµæ§‹ç¯„ä¾‹

```
myproject/
â”œâ”€â”€ .pypath              # é…ç½®æª”
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py
â”‚   â””â”€â”€ utils.py
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ helpers.py
â””â”€â”€ tests/
    â””â”€â”€ test_main.py
```

`.pypath` å…§å®¹:

```plaintext
./src
./lib
```

ç¾åœ¨åœ¨ `tests/test_main.py` ä¸­å¯ä»¥ç›´æ¥:

```python
from utils import something      # å¾ src/ å°å…¥
from helpers import helper_func  # å¾ lib/ å°å…¥
```

## å¸¸è¦‹å•é¡Œ

### Q: æ”¯æ´è™›æ“¬ç’°å¢ƒå—?

**A:** å®Œå…¨æ”¯æ´!æ¯å€‹è™›æ“¬ç’°å¢ƒå®‰è£å¾Œéƒ½æœƒç¨ç«‹ç”Ÿæ•ˆã€‚

### Q: å¯ä»¥ç¦ç”¨è‡ªå‹•è¼‰å…¥å—?

**A:** å¯ä»¥,åˆªé™¤ site-packages ä¸­çš„ `path_loader_auto.pth` æª”æ¡ˆ:

```bash
# æ‰¾åˆ° site-packages ç›®éŒ„
python -c "import site; print(site.getsitepackages()[0])"

# åˆªé™¤ .pth æª”æ¡ˆ
rm /path/to/site-packages/path_loader_auto.pth
```

## append vs insert èªªæ˜

### append æ¨¡å¼(é è¨­,æ¨è–¦)

```python
load_paths()  # æˆ– load_paths(prepend=False)
```

**sys.path é †åº:**

```
[
    '',                              # ç•¶å‰ç›®éŒ„
    '/usr/lib/python3.x',           # æ¨™æº–åº«
    '/usr/lib/python3.x/site-packages',  # å·²å®‰è£å¥—ä»¶
    '/your/custom/path'             # â† ä½ çš„è·¯å¾‘(append)
]
```

**å„ªé»:**

- âœ… ä¸æœƒè¦†è“‹ Python æ¨™æº–åº«
- âœ… ä¸æœƒèˆ‡å·²å®‰è£å¥—ä»¶è¡çª
- âœ… å®‰å…¨ã€å¯é æ¸¬

### insert æ¨¡å¼(é«˜å„ªå…ˆç´š)

```python
load_paths(prepend=True)
```

**sys.path é †åº:**

```
[
    '/your/custom/path',            # â† ä½ çš„è·¯å¾‘(insert)
    '',                              # ç•¶å‰ç›®éŒ„
    '/usr/lib/python3.x',           # æ¨™æº–åº«
    '/usr/lib/python3.x/site-packages'  # å·²å®‰è£å¥—ä»¶
]
```

**ä½¿ç”¨å ´æ™¯:**

- éœ€è¦è¦†è“‹å·²å®‰è£å¥—ä»¶çš„ä¿®æ”¹ç‰ˆæœ¬
- é–‹ç™¼ä¸­çš„å¥—ä»¶å„ªå…ˆæ–¼å·²å®‰è£ç‰ˆæœ¬
- æ¸¬è©¦è£œä¸æˆ–ä¿®æ”¹

**æ³¨æ„:** ä½¿ç”¨ `prepend=True` å¯èƒ½æœƒè¦†è“‹æ¨™æº–åº«,è«‹è¬¹æ…ä½¿ç”¨!

## æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ [MIT æˆæ¬Š](LICENSE)ã€‚
