import{d as q}from"./domains-DEEhRTFJ.js";import{b as B,n as ne,h as i,i as P,d as ie,c as h,o as b,w as l,a,p as we,e as C,t as f,f as s,m as Q,k as w,q as ce,l as M,F as fe,_ as ve,s as he,v as X,r as Ce,x as Ae}from"./index-D9OmnhdE.js";import{u as _e}from"./permissions-B-P8ks2E.js";import{V as ye,r as te}from"./VForm-RVvaatfV.js";import{c as $e,V as Se,b as Ne,a as ge}from"./VCard-BrQzTMsm.js";import{V as se}from"./VTextField-BBIziqiv.js";import{V as Ue}from"./VSelect-CzmrBwOO.js";import{V as Z}from"./VSwitch-C8Eq78Y3.js";import{V as Fe}from"./VSpacer-Pa16wvUF.js";import{V as N,a as me}from"./VAvatar-Wz1UmZ2b.js";import{p as qe}from"./parameters-DlTg3gyZ.js";import{_ as Le}from"./CreationForm-BDQpHM1l.js";import{_ as Te,a as Ee,b as Re,c as Oe}from"./DomainTransportForm-HOsP56gy.js";import{_ as Pe}from"./AccountPasswordSubForm-KRg2Sc3j.js";import{a as z,V as ue}from"./VRow-DGPh2Qmm.js";import{_ as Ie,a as ze}from"./DomainAdminList-CzY3elnc.js";import{_ as Me}from"./ConfirmDialog-CnWM982L.js";import{V as le}from"./VChip-B1E7xQW1.js";import{_ as Be}from"./MenuItems-Dg2GGDq6.js";import{V as oe}from"./VMenu-BPG7b7dT.js";import{V as je}from"./VBadge-C08Ii4Nb.js";import{V as Ve,a as Je}from"./VToolbar-CILwTR5O.js";import{V as be,a as de,b as pe}from"./forwardRefs-GE5Osi9V.js";import{V as Ge}from"./VDataTableServer-BSZUbic1.js";import{V as We}from"./VCheckbox-IdHLHDAe.js";import{V as K}from"./VDialog-BF9xR7BQ.js";import{_ as Ke,i as Qe}from"./importExport-C1_milrO.js";import"./tag-jImTUiWx.js";import"./VInput-ssnfbpwr.js";import"./VProgressCircular-Bdwj7JuI.js";import"./VCheckboxBtn-BMf4a9DP.js";import"./VSelectionControl-BIXXUgD4.js";/* empty css              */import"./logos-BOVDV-my.js";import"./VWindowItem-l3wU5Kto.js";import"./ssrBoot-DaeAGyhc.js";import"./VContainer-f9kXL-37.js";import"./VSheet-C07oo1bg.js";import"./ChoiceField-APLYjZCH.js";import"./transports-BnIcB3M9.js";import"./VAutocomplete-vTx-9foZ.js";import"./filter-CfvL3jIf.js";import"./accounts-DkNidbb0.js";import"./VAlert-BWUQvs3i.js";import"./VDataTableVirtual-Ceu9uaGm.js";import"./VDataTable-CVJjOdhF.js";import"./VTable-C08Q6ok2.js";import"./VFileInput-CXyx9q4a.js";const He={class:"headline"},Ye={class:"m-label"},Xe={class:"m-label"},ke={__name:"DomainAliasForm",props:{domainAlias:{type:Object,default:()=>null}},emits:["close","aliasDeleted"],setup(F,{emit:k}){const{$gettext:e}=B(),p=k,{displayNotification:D}=ne(),v=F,A=i([]),t=i({enabled:!0}),m=i(!1),$=i(),S=P(()=>v.domainAlias?e("Update"):e("Add")),_=P(()=>v.domainAlias?e("Edit domain alias"):e("Add a new domain alias"));async function y(){m.value=!0;try{await q.deleteDomainAlias(v.domainAlias.pk),D({msg:e("Domain alias deleted")}),p("aliasDeleted"),p("close")}finally{m.value=!1}}async function U(){const{valid:x}=await $.value.validate();if(x){m.value=!0;try{if(!t.value.pk)await q.createDomainAlias(t.value),D({msg:e("Domain alias created")});else{const n=JSON.parse(JSON.stringify(t.value));await q.updateDomainAlias(v.domainAlias.pk,n),D({msg:e("Domain alias updated")})}p("close")}finally{m.value=!1}}}return ie(()=>{q.getDomains().then(x=>{A.value=x.data}),v.domainAlias&&(t.value=JSON.parse(JSON.stringify(v.domainAlias)))}),(x,n)=>(b(),h(ge,null,{default:l(()=>[a(ye,{ref_key:"vFormRef",ref:$,onSubmit:we(U,["prevent"])},{default:l(()=>[a($e,null,{default:l(()=>[C("span",He,f(_.value),1)]),_:1}),a(Se,null,{default:l(()=>[C("label",Ye,f(s(e)("Name")),1),a(se,{modelValue:t.value.name,"onUpdate:modelValue":n[0]||(n[0]=u=>t.value.name=u),variant:"outlined",density:"compact",rules:[s(te).required]},null,8,["modelValue","rules"]),C("label",Xe,f(s(e)("Choose a domain")),1),a(Ue,{modelValue:t.value.target,"onUpdate:modelValue":n[1]||(n[1]=u=>t.value.target=u),items:A.value,"item-title":"name","item-value":"pk",rules:[s(te).required],"single-line":"",variant:"outlined",density:"compact"},null,8,["modelValue","items","rules"]),a(Z,{modelValue:t.value.enabled,"onUpdate:modelValue":n[2]||(n[2]=u=>t.value.enabled=u),label:"Enabled",color:"primary"},null,8,["modelValue"])]),_:1}),a(Ne,null,{default:l(()=>[a(Fe),a(N,{loading:m.value,onClick:n[3]||(n[3]=u=>p("close"))},{default:l(()=>[w(f(s(e)("Close")),1)]),_:1},8,["loading"]),F.domainAlias&&F.domainAlias.pk?(b(),h(N,{key:0,color:"error",loading:m.value,onClick:y},{default:l(()=>[w(f(s(e)("Delete")),1)]),_:1},8,["loading"])):Q("",!0),a(N,{color:"primary",type:"submit",loading:m.value},{default:l(()=>[w(f(S.value),1)]),_:1},8,["loading"])]),_:1})]),_:1},512)]),_:1}))}},Ze={__name:"DomainOptionsForm",props:{modelValue:{type:Object,default:null}},emits:["createAdmin"],setup(F,{expose:k,emit:e}){const{$gettext:p}=B(),D=F,v=e,A=i(),t=i(!1),m=P(()=>D.modelValue);function $(S){v("createAdmin",S)}return k({vFormRef:A}),(S,_)=>(b(),h(ye,{ref_key:"vFormRef",ref:A},{default:l(()=>[a(Z,{modelValue:t.value,"onUpdate:modelValue":[_[0]||(_[0]=y=>t.value=y),$],label:s(p)("Create a domain administrator"),color:"primary"},null,8,["modelValue","label"]),a(se,{modelValue:m.value.domain_admin.username,"onUpdate:modelValue":_[1]||(_[1]=y=>m.value.domain_admin.username=y),label:s(p)("Name"),hint:s(p)("Name of the administrator"),"persistent-hint":"",variant:"outlined",disabled:!t.value,suffix:`@${m.value.name}`,rules:[!t.value||s(te).required]},null,8,["modelValue","label","hint","disabled","suffix","rules"]),a(Pe,{modelValue:m.value.domain_admin,"onUpdate:modelValue":_[2]||(_[2]=y=>m.value.domain_admin=y),disabled:!t.value},null,8,["modelValue","disabled"]),a(Z,{modelValue:m.value.domain_admin.with_mailbox,"onUpdate:modelValue":_[3]||(_[3]=y=>m.value.domain_admin.with_mailbox=y),label:s(p)("With a mailbox"),disabled:!t.value,hint:s(p)("Create a mailbox for the administrator."),"persistent-hint":"",color:"primary"},null,8,["modelValue","label","disabled","hint"]),a(Z,{modelValue:m.value.domain_admin.with_aliases,"onUpdate:modelValue":_[4]||(_[4]=y=>m.value.domain_admin.with_aliases=y),label:s(p)("Create aliases"),disabled:!t.value,hint:s(p)("Create standard aliases for the domain."),"persistent-hint":"",color:"primary"},null,8,["modelValue","label","disabled","hint"])]),_:1},512))}},ea={class:"text-grey"},aa={__name:"DomainCreationForm",emits:["close","created"],setup(F,{emit:k}){const{$gettext:e}=B(),p=ne(),D=ce(),v=k,t=i({name:"",type:"domain",enabled:!0,enable_dns_checks:!0,enable_dkim:!1,dkim_key_selector:"modoboa",quota:0,default_mailbox_quota:0,domain_admin:{username:"admin",random_password:!1,with_mailbox:!1,with_aliases:!1},transport:{settings:{}}});ie(()=>{qe.getGlobalApplication("admin").then(d=>{const c=d.data.params;t.value.quota=c.default_domain_quota,t.value.default_mailbox_quota=c.default_mailbox_quota,c.default_domain_message_limit!==null&&(t.value.message_limit=c.default_domain_message_limit)})});const m=i(!1),$=i(),S=i(),_=i(),y=i(),U=i(),x=i(),n={general:S,dns:_,limitations:y,options:U,transport:x},u=[{name:"general",title:e("General")},{name:"dns",title:e("DNS")},{name:"limitations",title:e("Limitations")},{name:"options",title:e("Options")}],R=[{name:"general",title:e("General")},{name:"dns",title:e("DNS")},{name:"limitations",title:e("Limitations")},{name:"transport",title:e("Transport")}],H=P(()=>t.value.type==="domain"?u:R),j=P(()=>{const d=[{title:e("General"),items:[{key:e("Name"),value:t.value.name},{key:e("Type"),value:t.value.type},{key:e("Enabled"),value:t.value.enabled,type:"yesno"}]},{title:e("DNS"),items:[{key:e("Enable DNS checks"),value:t.value.enable_dns_checks,type:"yesno"},{key:e("Enable DKIM signing"),value:t.value.enable_dkim,type:"yesno"}]},{title:e("Limitations"),items:[{key:e("Quota"),value:t.value.quota},{key:e("Default mailbox quota"),value:t.value.default_mailbox_quota},{key:e("Message sending limit"),value:t.value.message_limit}]}];if(t.value.enable_dkim&&(d[1].items.push({key:e("DKIM key selector"),value:t.value.dkim_key_selector}),d[1].items.push({key:e("DKIM key length"),value:t.value.dkim_key_length})),t.value.type==="relaydomain"&&t.value.transport.service){const c={title:e("Transport"),items:[{key:e("Service"),value:t.value.transport.service}]};for(const V of x.value.service.settings){const Y={key:V.label,value:t.value.transport.settings[`${t.value.transport.service}_${V.name}`]};V.type==="boolean"&&(Y.type="yesno"),c.items.push(Y)}d.push(c)}else if(t.value.type==="domain"){const c={title:e("Options"),items:[{key:e("Create a domain administrator"),value:m.value,type:"yesno"}]};m.value&&c.items.push({key:e("Administrator name"),value:t.value.domain_admin.username},{name:"random_password",key:e("Random password"),value:t.value.domain_admin.random_password,type:"yesno"},{key:e("With mailbox"),value:t.value.domain_admin.with_mailbox,type:"yesno"},{key:e("Create aliases"),value:t.value.domain_admin.with_aliases,type:"yesno"}),d.push(c)}return d});function J(){v("close")}function G(){navigator.clipboard.writeText(t.value.domain_admin.password).then(()=>{p.displayNotification({msg:e("Password copied to clipboard")})})}function W(d){return n.value[d.name]}function I(d){return n[d.name].value.vFormRef}async function L(){}function ee(d){m.value=d}async function ae(){const d=JSON.parse(JSON.stringify(t.value));m.value||delete d.domain_admin,d.message_limit===""&&delete d.message_limit,d.type==="relaydomain"?x.value.checkSettingTypes(d):delete d.transport;try{const c=await q.createDomain(d);D.push({name:"DomainDetail",params:{id:c.data.pk}}),p.displayNotification({msg:e("Domain created")}),J()}finally{$.value.working=!1}}return(d,c)=>(b(),h(Le,{ref_key:"form",ref:$,title:s(e)("New domain"),steps:H.value,"form-getter":W,"get-v-form-ref":I,"validate-object":L,"summary-sections":j.value,onClose:J,onCreate:ae},{"form.general":l(()=>[a(Oe,{ref_key:"general",ref:S,modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=V=>t.value=V),class:"ml-4"},null,8,["modelValue"])]),"form.dns":l(()=>[a(Re,{ref_key:"dns",ref:_,modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=V=>t.value=V),class:"ml-4"},null,8,["modelValue"])]),"form.limitations":l(()=>[a(Ee,{ref_key:"limitations",ref:y,modelValue:t.value,"onUpdate:modelValue":c[2]||(c[2]=V=>t.value=V),class:"ml-4"},null,8,["modelValue"])]),"form.options":l(()=>[a(Ze,{ref_key:"options",ref:U,modelValue:t.value,"onUpdate:modelValue":c[3]||(c[3]=V=>t.value=V),class:"ml-4",onCreateAdmin:ee},null,8,["modelValue"])]),"form.transport":l(()=>[a(Te,{ref_key:"transport",ref:x,modelValue:t.value.transport,"onUpdate:modelValue":c[4]||(c[4]=V=>t.value.transport=V),class:"ml-4"},null,8,["modelValue"])]),"item.random_password":l(({item:V})=>[V.value?(b(),h(z,{key:0,cols:"12",class:"highligth text-white"},{default:l(()=>[a(ue,null,{default:l(()=>[a(z,null,{default:l(()=>[C("span",null,f(V.key),1)]),_:2},1024),a(z,{class:"text-right"},{default:l(()=>[w(f(d.$yesno(V.value)),1)]),_:2},1024)]),_:2},1024),a(ue,null,{default:l(()=>[a(z,{class:"text-right py-1"},{default:l(()=>[w(f(t.value.domain_admin.password)+" ",1),a(N,{icon:"mdi-clipboard-multiple-outline",color:"white",variant:"text",title:s(e)("Copy to clipboard"),onClick:G},null,8,["title"])]),_:1})]),_:1})]),_:2},1024)):(b(),M(fe,{key:1},[a(z,null,{default:l(()=>[C("span",ea,f(V.key),1)]),_:2},1024),a(z,{class:"text-right"},{default:l(()=>[w(f(d.$yesno(V.value)),1)]),_:2},1024)],64))]),_:2},1032,["title","steps","summary-sections"]))}},ta={__name:"DNSStatusChip",props:{status:{type:String,default:"pending"}},setup(F){const k=F,{$gettext:e}=B(),p=P(()=>k.status==="disabled"?e("Disabled"):k.status==="pending"?e("Pending"):k.status==="critical"?e("Problem"):k.status==="ok"?e("Valid"):e("Unknown")),D=P(()=>k.status==="disabled"?"":k.status==="pending"?"info":k.status==="critical"?"error":k.status==="ok"?"success":"warning");return(v,A)=>(b(),h(le,{color:D.value,size:"small"},{default:l(()=>[w(f(p.value),1)]),_:1},8,["color"]))}},la={key:1},oa={key:1},na={class:"text-right"},ia={class:"grey lighten-4"},sa=["colspan"],ra={__name:"DomainList",setup(F,{expose:k}){const{$gettext:e}=B(),p=ce(),{canSetRole:D}=_e(),v=ne(),A=[{title:e("Name"),key:"name"},{title:e("Enabled"),key:"enabled",width:"5%"},{title:e("Aliases"),key:"data-table-expand",width:"10%"},{title:e("DNS status"),key:"dns_global_status",sortable:!1},{title:e("Sending limit"),key:"message_limit"},{title:e("Quota"),key:"allocated_quota_in_percent",sortable:!1}],t=[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"}];D.value&&A.push({title:e("Actions"),value:"actions",sortable:!1,align:"end"});const m=i({}),$=i(),S=i([]),_=i(!1),y=i(!1),U=i(null),x=i(null),n=i(!1),u=i(!1),R=i(""),H=i([]),j=i([]),J=i(0),G=i(1),W=i(10),I=i([]);async function L(){const g={page:G.value||1,page_size:W.value||10};I.value&&I.value.length&&(g.ordering=I.value.map(r=>r.order!=="asc"?`-${r.key}`:r.key).join(",")),R.value!==""&&(g.search=R.value),m.value={},y.value=!0,j.value=[];try{const r=await q.getDomains(g);S.value=r.data.results,J.value=r.data.count}finally{y.value=!1}}async function ee({page:g,itemsPerPage:r,sortBy:O}){G.value=g,W.value=r,I.value=O,await L()}function ae(){u.value=!1,U.value=null,x.value=null}async function d(g){if(await $.value.open(e("Warning"),e("Do you really want to delete the domain %{ domain }?",{domain:g.name}),{color:"error",cancelLabel:e("No"),agreeLabel:e("Yes")})){y.value=!0;try{const O={keep_folder:_.value};await q.deleteDomain(g.pk,O),L(),v.displayNotification({msg:e("Domain deleted")}),_.value=!1}finally{y.value=!1}}}function c(g){p.push({name:"DomainEdit",params:{id:g.pk}})}function V(g,r){U.value=g,x.value=r,u.value=!0}async function Y(g,r,O,o){if(!O(r)){const E=await q.getDomainAliases(g.name);m.value[g.name]=E.data}o(r)}function xe(g){U.value=g,n.value=!0}function De(g){const r=[{label:e("Administrators"),icon:"mdi-account-supervisor",onClick:xe},{label:e("Edit"),icon:"mdi-circle-edit-outline",onClick:c},{label:e("Delete"),icon:"mdi-delete-outline",onClick:d,color:"red"}];return g.opened_alarms_count&&r.push({label:e("Alarms"),icon:"mdi-bell",color:"red",onClick:()=>p.push({name:"Alarms",query:{search:g.name}})}),r}return ie(()=>{L()}),k({reloadDomains:L}),(g,r)=>{const O=Ce("router-link");return b(),h(ge,{class:"mt-6"},{default:l(()=>[a(Ge,{modelValue:H.value,"onUpdate:modelValue":r[1]||(r[1]=o=>H.value=o),expanded:j.value,"onUpdate:expanded":r[2]||(r[2]=o=>j.value=o),headers:A,items:S.value,"items-length":J.value,page:G.value,"items-per-page":W.value,"items-per-page-options":t,"item-value":"pk",search:R.value,"show-select":"","show-expand":"",loading:y.value,"onUpdate:options":ee},{top:l(()=>[a(Ve,{color:"white",flat:""},{default:l(()=>[a(se,{modelValue:R.value,"onUpdate:modelValue":r[0]||(r[0]=o=>R.value=o),"prepend-inner-icon":"mdi-magnify",placeholder:s(e)("Search"),variant:"outlined","single-line":"","hide-details":"",density:"compact",class:"flex-grow-0 w-33 mr-4"},null,8,["modelValue","placeholder"]),Ae(g.$slots,"extraActions",{},void 0,!0),a(oe,{location:"bottom"},{activator:l(({props:o})=>[a(N,X({variant:"flat","append-icon":"mdi-chevron-down"},o,{size:"small"}),{default:l(()=>[w(f(s(e)("Actions")),1)]),_:2},1040)]),default:l(()=>[a(be,{density:"compact"})]),_:1}),a(N,{variant:"text",icon:"mdi-reload",onClick:L})]),_:3})]),"item.name":l(({item:o})=>[a(O,{to:{name:"DomainDetail",params:{id:o.pk}}},{default:l(()=>[w(f(o.name),1)]),_:2},1032,["to"]),o.type==="relaydomain"?(b(),h(le,{key:0,size:"small",color:"primary",class:"ml-2"},{default:l(()=>[w(f(s(e)("Relay")),1)]),_:1})):Q("",!0)]),"item.enabled":l(({item:o})=>[a(Ie,{value:o.enabled},null,8,["value"])]),"item.data-table-expand":l(({item:o,internalItem:T,isExpanded:E,toggleExpand:re})=>[w(f(o.domainalias_count)+" aliases ",1),o.domainalias_count?(b(),h(N,{key:0,variant:"text",size:"small",icon:E(T)?"mdi-chevron-up":"mdi-chevron-down",onClick:da=>Y(o,T,E,re)},null,8,["icon","onClick"])):Q("",!0)]),"item.dns_global_status":l(({item:o})=>[a(ta,{status:o.dns_global_status},null,8,["status"])]),"item.message_limit":l(({item:o})=>[o.message_limit?(b(),h(me,{key:0,color:o.sent_messages_in_percent<80?"primary":"warning","model-value":o.sent_messages_in_percent},null,8,["color","model-value"])):(b(),M("span",la,f(s(e)("Unlimited")),1))]),"item.allocated_quota_in_percent":l(({item:o})=>[o.quota!=="0"?(b(),h(me,{key:0,color:o.allocated_quota_in_percent<80?"primary":"warning","model-value":o.allocated_quota_in_percent},null,8,["color","model-value"])):(b(),M("span",oa,f(s(e)("Unlimited")),1))]),"item.actions":l(({item:o})=>[C("div",na,[a(oe,{"offset-y":""},{activator:l(({props:T})=>[o.opened_alarms_count?(b(),h(je,{key:0,bordered:"",color:"error",icon:"mdi-bell",overlap:""},{default:l(()=>[a(N,X({icon:"mdi-dots-horizontal",variant:"text"},T),null,16)]),_:2},1024)):(b(),h(N,X({key:1,icon:"mdi-dots-horizontal",variant:"text"},T),null,16))]),default:l(()=>[a(Be,{items:De(o),obj:o},null,8,["items","obj"])]),_:2},1024)])]),"expanded-row":l(({item:o,columns:T})=>[C("tr",ia,[C("td",{colspan:T.length},[(b(!0),M(fe,null,he(m.value[o.name],E=>(b(),M("span",{key:E.name,class:"mr-4"},[a(le,{class:"mr-2",onClick:re=>V(o,E)},{default:l(()=>[w(f(E.name),1)]),_:2},1032,["onClick"])]))),128))],8,sa)])]),_:2},1032,["modelValue","expanded","items","items-length","page","items-per-page","search","loading"]),a(Me,{ref_key:"confirm",ref:$},{default:l(()=>[a(We,{modelValue:_.value,"onUpdate:modelValue":r[3]||(r[3]=o=>_.value=o),label:s(e)("Do not delete domain folder"),"hide-details":""},null,8,["modelValue","label"])]),_:1},512),a(K,{modelValue:u.value,"onUpdate:modelValue":r[4]||(r[4]=o=>u.value=o),persistent:"","max-width":"800px"},{default:l(()=>[a(ke,{"domain-alias":x.value,onClose:ae,onAliasDeleted:L},null,8,["domain-alias"])]),_:1},8,["modelValue"]),a(K,{modelValue:n.value,"onUpdate:modelValue":r[6]||(r[6]=o=>n.value=o),persistent:"","max-width":"800px"},{default:l(()=>[a(ze,{domain:U.value,"dialog-mode":"",onClose:r[5]||(r[5]=o=>n.value=!1)},null,8,["domain"])]),_:1},8,["modelValue"])]),_:3})}}},ma=ve(ra,[["__scopeId","data-v-f195dac6"]]),ua={__name:"DomainsView",setup(F){const k=i(),e=i(!1),p=i(!1),D=i(!1),{$gettext:v}=B(),{canAddDomain:A}=_e(),t=i(),{importContent:m,exportContent:$}=Qe();function S(){q.exportAll().then(x=>{$(x.data,"domains",v)})}function _(x){m(q,x,t,v)}const y=()=>{e.value=!1,k.value.reloadDomains()},U=()=>{D.value=!1,k.value.reloadDomains()};return(x,n)=>(b(),M("div",null,[a(Ve,{flat:""},{default:l(()=>[a(Je,null,{default:l(()=>[w(f(s(v)("Domains")),1)]),_:1})]),_:1}),a(s(ma),{ref_key:"domainList",ref:k},{extraActions:l(()=>[s(A)?(b(),h(oe,{key:0,"offset-y":""},{activator:l(({props:u})=>[a(N,X({color:"primary",variant:"outlined"},u,{"prepend-icon":"mdi-plus",class:"mr-4"}),{default:l(()=>[w(f(x.$pgettext("male","New")),1)]),_:2},1040)]),default:l(()=>[a(be,{density:"compact"},{default:l(()=>[a(de,{onClick:n[0]||(n[0]=u=>p.value=!0)},{default:l(()=>[a(pe,null,{default:l(()=>[w(f(s(v)("Domain")),1)]),_:1})]),_:1}),a(de,{onClick:n[1]||(n[1]=u=>e.value=!0)},{default:l(()=>[a(pe,null,{default:l(()=>[w(f(s(v)("Alias")),1)]),_:1})]),_:1})]),_:1})]),_:1})):Q("",!0),s(A)?(b(),h(N,{key:1,class:"mr-2",title:s(v)("Import domains and aliases from CSV file"),variant:"flat",icon:"mdi-file-import-outline",onClick:n[2]||(n[2]=u=>D.value=!0)},null,8,["title"])):Q("",!0),a(N,{class:"mr-2",title:s(v)("Export domains and aliases to CSV"),variant:"flat",icon:"mdi-file-export-outline",onClick:S},null,8,["title"])]),_:1},512),a(K,{modelValue:p.value,"onUpdate:modelValue":n[4]||(n[4]=u=>p.value=u),fullscreen:"",scrollable:"","z-index":"10"},{default:l(()=>[a(s(aa),{onClose:n[3]||(n[3]=u=>p.value=!1)})]),_:1},8,["modelValue"]),a(K,{modelValue:e.value,"onUpdate:modelValue":n[6]||(n[6]=u=>e.value=u),persistent:"","max-width":"800px"},{default:l(()=>[a(s(ke),{onClose:n[5]||(n[5]=u=>y())})]),_:1},8,["modelValue"]),a(K,{modelValue:D.value,"onUpdate:modelValue":n[7]||(n[7]=u=>D.value=u),persistent:"","max-width":"800px"},{default:l(()=>[a(s(Ke),{ref_key:"importForm",ref:t,title:s(v)("Import domains"),onSubmit:_,onClose:U},{help:l(()=>n[8]||(n[8]=[C("ul",null,[C("li",null,[C("em",null,"domain; name; quota; default mailbox quota; enabled")]),C("li",null,[C("em",null,"domainalias; name; targeted domain; enabled")]),C("li",null,[C("em",null,"relaydomain; name; target host; target port; service; enabled; verify recipients")])],-1)])),_:1},8,["title"])]),_:1},8,["modelValue"])]))}},it=ve(ua,[["__scopeId","data-v-de80aa3f"]]);export{it as default};
