import{d as q,x as D,i as C,l as L,e as m,m as v,Q as B,u as l,w as f,h as $,ah as N,o as c,f as k,g as O,t as h,c as S,F as P,k as T,v as b,E as W}from"./@vue-COImUMPt.js";import{V as K,s as Y,e as I,j as Q,l as R,n as H,q as X,o as G,ar as J,aq as Z,ae as _,a3 as tt}from"./vuetify-s4y7DQwO.js";class s{static pluginOptions;static app;constructor(e,n){if(!e)throw new Error("Error during initialization : app is required");if(s.app=e,!e._context.mixins.find(o=>o.computed?.$vuetify))throw new Error("Error during initialization : vuetify is required. Please declare it with Vue.use(Vuetify)");n&&(s.pluginOptions=n)}static getPluginOptions(){return s.pluginOptions}static getApp(){return s.app}}var A=q({__name:"Card",props:{title:{type:String,required:!0},text:{type:String,required:!0},buttons:{type:Array},icon:{type:String,default:""},level:{type:String,default:"info"},cardOptions:{type:Object,default:()=>({})}},emits:["buttonClicked"],setup(t,{emit:e}){const n=t,i=e,o=C(()=>n.buttons&&n.buttons.length>0?n.buttons:[{key:"cancel",title:"Annuler",value:"cancel",color:"grey",variant:"text"},{key:"ok",title:"OK",value:"ok",color:n.level,variant:"tonal"}]),a=C(()=>{if(n.icon)return n.icon;switch(n.level){case"info":return"mdi-information";case"warning":return"mdi-alert";case"error":return"mdi-alert-circle";case"success":return"mdi-check-circle";default:return"mdi-information"}}),r=C(()=>n.level==="info"?"primary":n.level);function u(y){i("buttonClicked",y)}return(y,d)=>(c(),m(l(H),v({class:"vuetify3-dialog-card"},t.cardOptions),{default:f(()=>[k(l(K),{class:"d-flex align-center"},{default:f(()=>[k(l(Y),{color:r.value,class:"mr-2"},{default:f(()=>[O(h(a.value),1)]),_:1},8,["color"]),O(h(t.title),1)]),_:1}),k(l(I),null,{default:f(()=>[O(h(t.text),1)]),_:1}),k(l(Q),null,{default:f(()=>[(c(!0),S(P,null,T(o.value,g=>(c(),m(l(R),v({key:g.key},g,{color:g.color||r.value,onClick:p=>u(g.key)}),{default:f(()=>[O(h(g.title),1)]),_:2},1040,["color","onClick"]))),128))]),_:1})]),_:1},16))}});A.__file="src/components/Card.vue";var U=q({__name:"BottomSheet",props:{bottomSheetOptions:{type:Object,default:()=>({})},dialogOptions:{type:Object,required:!1},items:{type:Array,required:!1},title:{type:String,required:!1},text:{type:String,required:!1}},emits:["closeBottomSheet"],setup(t,{emit:e}){const n=t,i=e;let o=D(!0);const a=C(()=>n.items&&n.items.length>0?n.items:[]);L(()=>o,u=>{u||i("closeBottomSheet")});function r(u){o.value=!1,i("closeBottomSheet",u)}return(u,y)=>(c(),m(l(J),v({class:"vuetify3-dialog-bottom-sheet"},t.bottomSheetOptions,{modelValue:l(o),"onUpdate:modelValue":y[0]||(y[0]=d=>B(o)?o.value=d:o=d)}),{default:f(()=>[t.dialogOptions?(c(),m(A,v({key:1},t.dialogOptions,{title:t.dialogOptions.title,text:t.dialogOptions.text,onButtonClicked:r}),null,16,["title","text"])):(c(),m(l(H),{key:0},{default:f(()=>[t.title?(c(),m(l(K),{key:0},{default:f(()=>[O(h(t.title),1)]),_:1})):b("v-if",!0),t.text?(c(),m(l(I),{key:1},{default:f(()=>[O(h(t.text),1)]),_:1})):b("v-if",!0),t.items?(c(),m(l(X),{key:2},{default:f(()=>[(c(!0),S(P,null,T(a.value,d=>(c(),m(l(G),{title:d.title,key:d.value,onClick:g=>r(d.value)},null,8,["title","onClick"]))),128))]),_:1})):b("v-if",!0)]),_:1}))]),_:1},16,["modelValue"]))}});U.__file="src/components/BottomSheet.vue";class et{static initContext(){s.getApp().config.globalProperties.$bottomSheet={create:z,createList:nt}}}function nt(t,e){return t.forEach(n=>{if(!E(n.title))throw new Error("title is required for each item");if(!E(n.value))throw new Error("value is required for each item")}),z({items:t,...e})}function z(t){try{if(t.items&&t.dialogOptions)throw new Error("You can not use items and dialogOptions together");if(t.dialogOptions){if(!E(t.dialogOptions.title))throw new Error("title is required");if(!E(t.dialogOptions.text))throw new Error("text is required")}const e=document.createElement("div");return new Promise((n,i)=>{const o={bottomSheetOptions:t?.bottomSheetOptions??s.getPluginOptions()?.defaults?.bottomSheet,dialogOptions:t?.dialogOptions,items:t?.items,title:t?.title,text:t?.text,onCloseBottomSheet:r=>{n(r)}},a=$(U,o);a.appContext=s.getApp()._context,N(a,e)})}catch(e){console.error(`[Vuetify3Dialog] ${e.message} [${e.stack}]`)}}function E(t){return t==null?!1:typeof t=="boolean"?!0:t.trim().length>0&&t!==""}var F=q({__name:"Dialog",props:{title:{type:String,required:!0},text:{type:String,required:!0},buttons:{type:Array},icon:{type:String,default:""},level:{type:String,default:"info"},cardOptions:{type:Object,default:()=>({})},dialogOptions:{type:Object,default:()=>({})},customComponent:{type:Object,required:!1}},emits:["closeDialog"],setup(t,{emit:e}){const n=e;let i=D(!0);function o(a){i.value=!1,n("closeDialog",a)}return L(i,a=>{a||o(!1)}),(a,r)=>(c(),m(l(Z),v({class:"vuetify3-dialog-popup",modelValue:l(i),"onUpdate:modelValue":r[0]||(r[0]=u=>B(i)?i.value=u:i=u)},t.dialogOptions),{default:f(()=>[t.customComponent?(c(),m(W(t.customComponent.component),v({key:0},t.customComponent.props,{onCloseDialog:o,ref:"custom-component"}),null,16)):(c(),m(A,v({key:1},t.cardOptions,{title:t.title,text:t.text,buttons:t.buttons,icon:t.icon,level:t.level,onButtonClicked:o}),null,16,["title","text","buttons","icon","level"]))]),_:1},16,["modelValue"]))}});F.__file="src/components/Dialog.vue";class it{static initContext(){s.getApp().config.globalProperties.$dialog={create:x,confirm:ct,warning:ot,error:rt,info:lt,success:at}}}function x(t){try{const e=document.createElement("div");if(t.customComponent)t.title=t.title??"",t.text=t.text??"";else{if(!V(t.title))throw new Error("title is required");if(!V(t.text))throw new Error("text is required")}return t.buttons&&t.buttons.forEach(st),new Promise((n,i)=>{const o={title:t.title,text:t.text,buttons:t.buttons,icon:t.icon,level:t.level,customComponent:t.customComponent,dialogOptions:t.dialogOptions??s.getPluginOptions()?.defaults?.dialog?.component??{width:"400px"},cardOptions:t.cardOptions??s.getPluginOptions()?.defaults?.dialog?.card??void 0,onCloseDialog:r=>{n(r)}},a=$(F,o);a.appContext=s.getApp()._context,N(a,e)})}catch(e){console.error(`[Vuetify3Dialog] ${e.message} [${e.stack}]`)}}function ot(t){return x({title:t.title??"Warning",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"warning",...t.buttonOptions}],level:"warning",cardOptions:t.cardOptions})}function rt(t){return x({title:t.title??"Error",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"error",...t.buttonOptions}],level:"error",cardOptions:t.cardOptions})}function lt(t){return x({title:t.title??"Info",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"info",...t.buttonOptions}],level:"info",cardOptions:t.cardOptions})}function at(t){return x({title:t.title??"Success",text:t.text,icon:t.icon,buttons:[{key:"ok",title:"OK",color:"success",...t.buttonOptions}],level:"success",cardOptions:t.cardOptions})}function ct(t){return x({title:t.title,text:t.text,buttons:[{key:!1,title:t.cancelText??"Cancel",color:"grey",...t.cancelButtonOptions},{key:!0,title:t.confirmationText??"Confirm",color:t.level??"primary",...t.confirmationButtonOptions}],icon:t.icon,level:t.level,cardOptions:t.cardOptions})}function st(t,e){if(!t)throw new Error(`button at index ${e} is not defined`);if(!V(t.key))throw new Error(`button at index ${e} has no key`);if(!V(t.title))throw new Error(`button at index ${e} has no title`)}function V(t){return t==null?!1:typeof t=="boolean"?!0:t.trim().length>0&&t!==""}const ut={key:0},ft=["innerHTML"];var M=q({__name:"Snackbar",props:{text:{type:String,required:!1},htmlContent:{type:String,required:!1},location:{type:String,required:!0},level:{type:String,default:"info"},notifyOptions:{type:Object,default:()=>({})}},emits:["closeSnackbar"],setup(t,{emit:e}){const n=e;let i=D(!0);function o(){i.value=!1,n("closeSnackbar")}return(a,r)=>(c(),m(l(tt),null,{default:f(()=>[k(l(_),v({class:"vuetify3-dialog-snackbar"},t.notifyOptions,{modelValue:l(i),"onUpdate:modelValue":[r[0]||(r[0]=u=>B(i)?i.value=u:i=u),r[1]||(r[1]=u=>o())],color:t.level,location:t.location,"location-strategy":"static",dark:t.level==="warning"||t.level==="error"}),{default:f(()=>[t.text?(c(),S("span",ut,h(t.text),1)):b("v-if",!0),t.htmlContent?(c(),S("div",{key:1,innerHTML:t.htmlContent},null,8,ft)):b("v-if",!0)]),_:1},16,["modelValue","color","location","dark"])]),_:1}))}});M.__file="src/components/Snackbar.vue";class dt{static initContext(){s.getApp().config.globalProperties.$notify={create:w,warning:mt,error:gt,info:yt,success:vt}}}function mt(t,e){return w({text:t,level:"warning",notifyOptions:e})}function gt(t,e){return w({text:t,level:"error",notifyOptions:e})}function yt(t,e){return w({text:t,level:"info",notifyOptions:e})}function vt(t,e){return w({text:t,level:"success",notifyOptions:e})}function w(t){try{const e=t.location??t.notifyOptions?.location??s.getPluginOptions()?.defaults?.notify?.location??"top right";let n=e.split(" ")[0]??"top",i=e.split(" ")[1]??"right",o=document.createElement("div");if(!j(t.text)&&!j(t.htmlContent))throw new Error("text or htmlContent is required");return new Promise((a,r)=>{const u={text:t.text,htmlContent:t.htmlContent,level:t.level,location:e,notifyOptions:t.notifyOptions??s.getPluginOptions()?.defaults?.notify,onCloseSnackbar:()=>{a(!0)}},y=$(M,u);y.appContext=s.getApp()._context,N(y,o);const d=document.querySelector(".v-overlay-container");let g=0;if(d?.childElementCount>1)for(let p of d.children)p===d.lastElementChild||!(p.classList.contains("v-snackbar--"+i)&&p.classList.contains("v-snackbar--"+n))||p.lastElementChild&&(g+=p.lastElementChild.offsetHeight+12);if(g>0)switch(n){case"top":(d?.lastElementChild).style.marginTop=`${g+12}px`;break;case"bottom":(d?.lastElementChild).style.marginBottom=`${g+12}px`;break;default:throw new Error("location must be top or bottom")}})}catch(e){console.error(`[Vuetify3Dialog] ${e.message} [${e.stack}]`)}}function j(t){return t!=null&&t.trim().length>0&&t!==""}const Ot={install(t,e){try{new s(t,e),it.initContext(),dt.initContext(),et.initContext()}catch(n){console.error(`[Vuetify3Dialog] ${n.message} [${n.stack}]`)}}};export{Ot as V,w as a,x as c,rt as e};
