{% comment %}
HTMX partial template for recent command history
{% endcomment %}

{% if recent_history %}
    <div class="list-group list-group-flush">
        {% for log in recent_history %}
        <div class="list-group-item px-0 py-1 border-0">
            <div class="d-flex flex-column">
                <div class="text-truncate" style="font-size: 0.85rem; line-height: 1.2;" title="{{ log.command }}">
                    <strong>{{ log.command|truncatechars:40 }}</strong>
                </div>
                <div class="d-flex justify-content-between align-items-center mt-1">
                    <small class="text-muted text-truncate" style="flex-shrink: 1;">{{ log.username }}</small>
                    <small class="text-muted" style="flex-shrink: 0; margin-left: 8px;">{{ log.execution_time|timesince }} ago</small>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div class="text-center text-muted py-2">
        <small>No history available</small>
    </div>
{% endif %}