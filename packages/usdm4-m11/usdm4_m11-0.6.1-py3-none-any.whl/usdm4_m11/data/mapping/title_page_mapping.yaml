Sponsor Confidentiality Statement:
  ordinal: 1
  usdm:
    mappings:
    - conditions:
      - notes: Used to select the protocol document
        path: Study/@documentedBy/StudyDefinitionDocument/@type/Code/@code='C70817'
      - notes: Used to select the correct section
        path: StudyVersion/@documentVersion/StudyProtocolDocumentVersion/@contents/NarrativeContent/@sectionNumber=<desired
          section>
      standard_mapping:
        category: Narrative Content
        name: Narrative Content Item
      target:
        notes: ''
        path: StudyVersion/@documentVersion/StudyProtocolDocumentVersion/@contents/NarrativeContent/@contentItem/NarrativeContentItem/@text
    name: Sponsor Confidentiality Statement
    notes: Do this via NarrativeContent but maybe a better mechanism could be provided
  fhir:
    Resource: ResearchStudy.extension[confidentialityStatement]
    Sample XML: "<extension  url=$EBM_Conf>\n    <valueString value= %VALUE/>\n  </extension>"
    Example Value(s): '%VALUE = <All data is confidential>'
Full Title:
  ordinal: 2
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyVersion/@titles/StudyTitle/@type/Code/@code="C207616"
      standard_mapping:
        category: Study Title
        name: Full Title
      target:
        notes: ''
        path: StudyVersion/@titles/StudyTitle/@text
    name: Full Title
    notes: ''
  fhir:
    Resource: ResearchStudy.title
    Sample XML: <title value=%VALUE/>
    Example Value(s): '%VALUE = <A Phase 3 Study of Nasal Glucagon (LY900018) Compared
      to Intramuscular Glucagon for Treatment of Insulin-induced Hypoglycemia in Japanese
      Patients with Diabetes Mellitus>'
Trial Acronym:
  ordinal: 3
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyVersion/@titles/StudyTitle/@type/Code/@code="C94108"
      standard_mapping:
        category: Study Title
        name: Trial Acronym
      target:
        notes: ''
        path: StudyVersion/@titles/StudyTitle/@text
    name: Trial Acronym
    notes: ''
  fhir:
    Resource: ResearchStudy.label
    Sample XML: "<label>\n    <type>\n        <coding>\n            <system value=\
      \ %SYSTEM />\n            <code value= %CODE />\n            <display value=\
      \ %DISPLAY />\n        </coding>\n    </type>\n    <value value= %VALUE />\n\
      </label>"
    Example Value(s): '%SYSTEM = $NCI

      %CODE = C207646

      %DISPLAY =Study Acronym

      ---------------

      %VALUE = <A Phase 3 Study of Nasal Glucagon (LY900018) Compared to Intramuscular
      Glucagon for Treatment of Insulin-induced Hypoglycemia in Japanese Patients
      with Diabetes Mellitus>'
    Binding (strength): '$study-title-type-vs

      (extensible)'
Sponsor Protocol Identifier:
  ordinal: 4
  usdm:
    mappings:
    - conditions:
      - notes: Identifies the sponsor role
        path: StudyRole/@code/Code/@code="C70793"
      - notes: Identifies the sponsor organization from the role
        path: StudyRole/@organizations
      - notes: Identifies the sponsor organization from the study identifier
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope
      standard_mapping:
        category: Study Identifier
        name: Sponsor Study Identifier
      target:
        notes: ''
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@text
    name: Sponsor Protocol Identifier
    notes: Find the identifier scoped by the organization which has the role of sponsor.
  fhir:
    Resource: ResearchStudy.identifier
    Sample XML: "<identifier>\n    <type>\n        <coding>\n            <system value=%TYPESYSTEM/>\n\
      \            <code value=%TYPECODE/>\n            <display value=%TYPEVALUE/>\n\
      \        </coding>\n    </type>\n    <system value=%SYSTEM/>\n    <value value=%VALUE/>\n\
      </identifier>"
    Example Value(s): '%TYPESYSTEM = $identifier-type-vs

      %TYPECODE = C132351

      %TYPEVALUE = Sponsor Protocol Identifier

      ----------------

      %SYSTEM = <ssss>

      %VALUE = <I8R-JE-IGBJ>'
Original Protocol Indicator:
  ordinal: 5
  usdm:
    mappings:
    - conditions:
      - notes: There are no amendments, the collection is empty
        path: StudyVersion/@amendments
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@amendments
    name: Original Protocol Indicator
    notes: ''
  fhir:
    Resource: ResearchStudy.extension($UDP/study-amendment)
    Sample XML: "<extension url=\"$UDP/study-amendment\">\n    <valueCoding>\n   \
      \     <system value= %SYSTEM />\n        <code value= %CODE />\n        <display\
      \ value= %DISPLAY />\n    </valueCoding>\n</extension>"
    Example Value(s): '%SYSTEM = $NCIT

      -----------------------

      %CODE = <C49488>

      %DISPLAY = <Yes>'
    Binding (strength): '$YesNoUnknownVS

      (required)'
    Comment: Alternative mapping may be ResearchStudy.classifier
Version Number:
  ordinal: 6
  usdm:
    mappings:
    - conditions:
      - notes: Find the protocol document
        path: StudyDefinitionDocument/@type/Code/@code="C70817"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyDefinitionDocument/@versions/StudyDefinitionDocumentVersion/@version
    name: Version Number
    notes: ''
  fhir:
    Resource: ResearchStudy.version
    Sample XML: <version value="%VALUE"/>
    Example Value(s): '%VALUE = <(a)>'
    Comment: 'Definition: Is it alphanumeric or just numeric?'
Version Date:
  ordinal: 7
  usdm:
    mappings:
    - conditions:
      - notes: Find the protocol document
        path: StudyDefinitionDocument/@type/Code/@code="C70817"
      - notes: ''
        path: StudyDefinitionDocument/@versions/StudyDefinitionDocumentVersion/@dateValues/GovernanceDate/@type/Code/@decode="Issued
          Date"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyDefinitionDocument/@versions/StudyDefinitionDocumentVersion/@dateValues/GovernanceDate/@dateValue
    name: Version Date
    notes: ''
  fhir:
    Resource: ResearchStudy.date
    Sample XML: <date value="%VALUE"/>
    Example Value(s): '%VALUE = <2017-12-05>'
    Comment: 'FHIR dates are in the form yyyy-mm-dd whereas the ICH specification
      is DD MMM YYYY where MMM is alphabetic


      This date is an defined to be the resource change management date.  Need to
      be clear if this is really the same as the protocol version date.


      The M11 Tech Spec appears to mix up coded values and a date'
Amendment Identifier:
  ordinal: 8
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: ''
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@amendments/StudyAmendment/@number
    name: Amendment Identifier
    notes: ''
  fhir:
    Resource: ResearchStudy.identifier
    Sample XML: "<identifier>\n    <type>\n        <coding>\n            <system value=%TYPESYSTEM/>\n\
      \            <code value=%TYPECODE/>\n            <display value=%TYPEVALUE/>\n\
      \        </coding>\n    </type>\n    <system value=%SYSTEM/>\n    <value value=%VALUE/>\n\
      </identifier>"
    Example Value(s): '%TYPESYSTEM = $identifier-type-vs

      %TYPECODE = C218477

      %TYPEVALUE = Amendment Identifier

      ----------------

      %SYSTEM = <ssss>

      %VALUE =  <I8R-JE-IGBJ(a)>'
Amendment Scope:
  ordinal: 9
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: ''
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@amendments/StudyAmendment/@geographicScopes/GeographicScope/@type/Code/@decode
    name: Amendment Scope
    notes: ''
  fhir:
    Resource: ResearchStudy.extension[$ext-amd].extension[scope]
    Sample XML: "<extension url= $ext-amd>\n    <extension url=\"scope\">\n      \
      \  <valueCode value= %VALUE />\n    </extension>\n</extension>"
    Example Value(s): '%VALUE = <C217026>'
    Binding (strength): m11-study-amendment-scope-vs (required)
    Comment: 'The spec is not clear if this is actually coded - for now assume it
      isn''t


      Additional note for info: It is coded in a sense. Values are "Not Applicable",
      "Global", "Not Global" depending on a set of rules as per the M11 spec. It,
      in theory, can be derived.'
Country Identifier:
  ordinal: 10
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyVersion/@amendments/StudyAmendment/@geographicScopes/GeographicScope/@type/Code/@code="C25464"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@amendments/StudyAmendment/@geographicScopes/GeographicScope/@code/AliasCode/@standardCode/Code/@decode
    name: Country Identifier
    notes: ''
  fhir:
    Resource: ResearchStudy.extension[$ext-amd].extension[country]
    Sample XML: "<extension url= $ext-amd>\n    <extension url=\"country\">\n    \
      \    <valueCode value= %VALUE />\n    </extension>\n</extension>"
    Example Value(s): '%VALUE = DE'
    Binding (strength): m11-country-region-vs (extenssible)
    Comment: Country is an extension because it is within amendment.   An alternative
      is to bring another ResearchStudy that is the amended protocol into the extension.
Region Identifier:
  ordinal: 11
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyVersion/@amendments/StudyAmendment/@geographicScopes/GeographicScope/@type/Code/@code="C41129"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@amendments/StudyAmendment/@geographicScopes/GeographicScope/@code/AliasCode/@standardCode/Code/@decode
    name: Region Identifier
    notes: ''
  fhir:
    Resource: ResearchStudy.extension[$ext-amd].extension[region]
    Sample XML: "<extension url= $ext-amd>\n    <extension url=\"region\">\n     \
      \   <valueCode value= %VALUE />\n    </extension>\n</extension>"
    Example Value(s): '%VALUE = EU'
    Binding (strength): m11-country-region-vs (extenssible)
    Comment: Region is an extension because it is within amendment  An alternative
      is to bring another ResearchStudy that is the amended protocol into the extension.
Site Identifier:
  ordinal: 12
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: ''
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@amendments/StudyAmendment/@enrollments/SubjectEnrollment/@forStudySites/StudySite/@label
    name: Site Identifier
    notes: ''
  fhir:
    Resource: ResearchStudy.extension[$ext-amd].extension[site]
    Sample XML: "<extension url= $ext-amd>\n    <extension url=\"site\">\n      <identifier>\n\
      \        <system value=%SYSTEM/>\n        <value value=%VALUE/>\n      </identifier>\n\
      </extension>"
    Example Value(s): '%SYSTEM = $AmdSite

      %VALUE =  <sss>'
    Comment: Site is an extension because it is within an amendment.  An alternative
      is to bring another ResearchStudy that is the amended protocol into the extension.
Sponsors Investigational Product Codes:
  ordinal: 13
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyVersion/@studyDesigns/StudyDesign/@studyIntervention/StudyIntervention/@administrations/Administration/@administrableProduct/AdministrableProduct/@productDesignation/Code/@code="C202579"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@studyDesigns/StudyDesign/@studyInterventions/StudyIntervention/@administrations/Administration/@administrableProduct/AdministrableProduct/@identifiers/AdministrableProductIdentifier/@text
    - conditions:
      - notes: ''
        path: StudyVersion/@studyDesigns/StudyDesign/@studyIntervention/StudyIntervention/@administrations/Administration/@medicalDevice/MedicalDevice/@identifiers/MedicalDeviceIdentifier/@type/Code/@code="C99285"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@studyDesigns/StudyDesign/@studyInterventions/StudyIntervention/@administrations/Administration/@medicalDevice/MedicalDevice/@identifiers/MedicalDeviceIdentifier/@text
    name: Sponsors Investigational Product Codes
    notes: ''
  fhir:
    Resource: ResearchStudy.focus
    Sample XML: "<focus>\n    <reference>\n      <reference value=\"MedicinalProductDefinition/%ID\"\
      />\n    </reference>\n  </focus>\n\n<MedicinalProductDefinition>\n  <id value=%ID/>\n\
      …\n  <identifier>\n    <system value=%SYSTEM/>\n    <value value=%VALUE/>\n\
      \  </identifier>\n...\n</MedicinalProductDefinition>"
    Example Value(s): '%ID = <IGBJ-MedicinalProduct>

      %SYSTEM = $SpID

      %VALUE =  <LY900018>'
    Comment: This identifier follows a different patter because it is in a different
      resource and one where IDMP has already established a working pattern.  Also
      it is clear this identifier refers to "Sponsor Investigational Product" because
      it is linked to the focus attribute of ResearchStudy
Nonproprietary Names:
  ordinal: 14
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyVersion/@studyDesigns/StudyDesign/@studyIntervention/StudyIntervention/@administrations/Administration/@administrableProduct/AdministrableProduct/@productDesignation/Code/@code="C202579"
      - notes: ''
        path: StudyVersion/@studyDesigns/StudyDesign/@studyIntervention/StudyIntervention/@administrations/Administration/@administrableProduct/AdministrableProduct/@ingredient/Ingredient/@role/Code/@code="100000072072"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@studyDesigns/StudyDesign/@studyInterventions/StudyIntervention/@administrations/Administration/@administrableProduct/AdministrableProduct/@ingredients/Ingredient/@substance/Substance/@label
    name: Nonproprietary Names
    notes: ''
  fhir:
    Resource: ResearchStudy.focus
    Sample XML: "<focus>\n    <reference>\n      <reference value=\"MedicinalProductDefinition/%ID\"\
      />\n    </reference>\n  </focus>\n\n<MedicinalProductDefinition>\n  <id value=%ID/>\n\
      ...\n  <name>\n    <productName value=%VALUE/>\n    <type>\n      <coding>\n\
      \        <system value=%SYSTEM/>\n        <code value=%CODE/>\n         <display\
      \ value=%DISPLAY/>\n      </coding>\n    </type>\n  </name>\n...\n</MedicinalProductDefinition>"
    Example Value(s): '%SYSTEM = $NCIT

      %CODE = C97054

      %DISPLAY = Nonproprietary Name

      -----------------------

      %ID = IGBJ-MedicinalProduct

      %VALUE =  glucagon nasal powder'
    Binding (strength): This doesn't have an explicit binding becaause MedicinalProductDefinition
      is not profiled here.  It should already have guidance for IDMP.
Proprietary Names:
  ordinal: 15
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyVersion/@studyDesigns/StudyDesign/@studyIntervention/StudyIntervention/@administrations/Administration/@administrableProduct/AdministrableProduct/@productDesignation/Code/@code="C202579"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@studyDesigns/StudyDesign/@studyInterventions/StudyIntervention/@administrations/Administration/@administrableProduct/AdministrableProduct/@label
    name: Proprietary Names
    notes: ''
  fhir:
    Resource: ResearchStudy.focus
    Sample XML: "<focus>\n    <reference>\n      <reference value=\"MedicinalProductDefinition/%ID\"\
      />\n    </reference>\n  </focus>\n\n<MedicinalProductDefinition>\n  <id value=%ID/>\n\
      ...\n  <name>\n    <productName value=%VALUE/>\n    <type>\n      <coding>\n\
      \        <system value=$NCIT/>\n        <code value=%CODE/>\n        <display\
      \ value=%DISPLAY/>\n      </coding>\n    </type>\n  </name>\n...\n</MedicinalProductDefinition>"
    Example Value(s): '%SYSTEM = $NCIT

      %CODE = C71898

      %DISPLAY = Proprietary Name

      -----------------------

      %ID = <IGBJ-MedicinalProduct>

      VALUE = <BAQSIMI>'
    Binding (strength): This doesn't have an explicit binding becaause MedicinalProductDefinition
      is not profiled here.  It should already have guidance for IDMP
Trial Phase:
  ordinal: 16
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: ''
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@studyDesigns/StudyDesign/@studyPhase/AliasCode/@standardCode/Code/@decode
    name: Trial Phase
    notes: ''
  fhir:
    Resource: ResearchStudy.phase
    Sample XML: "<phase>\n    <coding>\n        <system value= %SYSTEM\" />\n    \
      \    <code value= %CODE />\n        <display value= %DISPLAY />\n    </coding>\n\
      </phase>"
    Example Value(s): '%SYSTEM = $NCIT

      ------------------

      %CODE = <C15602>

      %DISPLAY = <Phase 3>'
    Binding (strength): '$phase-vs

      (extensible)'
Trial Short Title:
  ordinal: 17
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyVersion/@titles/StudyTitle/@type/Code/@code="C207615"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@titles/StudyTitle/@text
    name: Trial Short Title
    notes: ''
  fhir:
    Resource: ResearchStudy.label
    Sample XML: "<label>\n    <type>\n        <coding>\n            <system value=\
      \ %SYSTEM />\n            <code value= %CODE />\n            <display value=\
      \ %DISPLAY />\n        </coding>\n    </type>\n    <value value= %VALUE />\n\
      </label>"
    Example Value(s): '%SYSTEM =$NCIT

      %CODE = C207615

      %DISPLAY =Brief Study Title

      ---------------

      %VALUE = <A Phase 3 Study of Nasal Glucagon (LY900018) Compared to Intramuscular
      Glucagon for Treatment of Insulin-induced Hypoglycemia in Japanese Patients
      with Diabetes Mellitus>'
    Binding (strength): '$study-title-type-vs

      (extensible)'
Sponsor Name:
  ordinal: 18
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@code="C70793"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@organizations/Organization/@label
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@code="C70793"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@assignedPersons/AssignedPerson/@label
    name: Sponsor Name
    notes: ''
  fhir:
    Resource: 'ResearchStudy.associatedParty.party.reference -->

      Organization.name.value'
    Sample XML: "<associatedParty>\n    <role>\n        <coding>\n            <system\
      \ value= %SYSTEM />\n            <code value= %CODE />\n            <display\
      \ value= %DISPLAY />\n        </coding>\n    </role>\n    <party>\n        <reference\
      \ value=\"Organization/%ID\" />\n    </party>\n</associatedParty>\n\n<Organization>\n\
      \    <id value= %ID />\n    ... \n    <name value= %VALUE />\n    ...\n</Organization>"
    Example Value(s): '%SYSTEM = $NCIT

      %CODE = C70793

      %DISPLAY = Clinical Study Sponsor

      ----------------

      %ID = <org-EliLilly>

      %VALUE = <Eli Lilly Japan K.K>'
    Binding (strength): '$study-role-vs

      (extensible)'
Sponsor Legal Address:
  ordinal: 19
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@code="C70793"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@organizations/Organization/@legalAddress/Address/@text
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@code="C70793"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@assignedPersons/AssignedPerson/@organization/Organization/@legalAddress/Address/@text
    name: Sponsor Legal Address
    notes: ''
  fhir:
    Resource: 'ResearchStudy.associatedParty.party.reference -->

      Organization.contact.address'
    Sample XML: "<associatedParty>\n    <role>\n        <coding>\n            <system\
      \ value= %SYSTEM />\n            <code value= %CODE />\n            <display\
      \ value= %DISPLAY />\n        </coding>\n    </role>\n    <party>\n        <reference\
      \ value=\"Organization/%ID\" />\n    </party>\n</associatedParty>\n\n<Organization>\n\
      \    <id value= %ID /> \n    ... \n    <contact>\n        <address>\n      \
      \      <line value= %LINE1 />\n            <line value= %LINE2 />\n        \
      \    <city value= %CITY />\n            <country value= %COUNTRY />\n      \
      \      <postalCode value= %POSTALCODE />\n        </address>\n    </contact>\
      \ \n    ...\n </Organization>"
    Example Value(s): '%SYSTEM = $NCIT

      %CODE = C70793

      %DISPLAY = Clinical Study Sponsor

      ----------------

      %ID = <org-EliLilly>

      %LINE1 = <aaa>

      %LINE2 = <aaa>

      %CITY = <aaa>

      %COUNTRY = <aaa>

      %POSTALCODE = <aaa>


      Note: Address has many options for format'
    Binding (strength): '$study-role-vs

      (extensible)'
Co-Sponsor Name:
  ordinal: 20
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@decode="Co-Sponsor"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@organizations/Organization/@label
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@decode="Co-Sponsor"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@assignedPersons/AssignedPerson/@label
    name: Co-Sponsor Name
    notes: ''
  fhir:
    Resource: 'ResearchStudy.associatedParty.party.reference -->

      Organization.name.value'
    Sample XML: "<associatedParty>\n    <role>\n        <coding>\n            <system\
      \ value= %SYSTEM />\n            <code value= %CODE />\n            <display\
      \ value= %DISPLAY />\n        </coding>\n    </role>\n    <party>\n        <reference\
      \ value=\"Organization/%ID\" />\n    </party>\n</associatedParty>\n\n<Organization>\n\
      \    <id value= %ID />\n    ... \n    <name value= %VALUE />\n    ...\n</Organization>"
    Example Value(s): '%SYSTEM = $NCIT

      %CODE = C215669

      %DISPLAY = Study Co-Sponsor

      ----------------

      %ID = <org-xxx>

      %VALUE = <xxxx>'
    Binding (strength): '$study-role-vs

      (extensible)'
Co-Sponsor Legal Address:
  ordinal: 21
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@decode="Co-Sponsor"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@organizations/Organization/@legalAddress/Address/@text
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@decode="Co-Sponsor"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@assignedPersons/AssignedPerson/@organization/Organization/@legalAddress/Address/@text
    name: Co-Sponsor Legal Address
    notes: ''
  fhir:
    Resource: 'ResearchStudy.associatedParty.party.reference -->

      Organization.contact.address'
    Sample XML: "<associatedParty>\n    <role>\n        <coding>\n            <system\
      \ value= %SYSTEM />\n            <code value= %CODE />\n            <display\
      \ value= %DISPLAY />\n        </coding>\n    </role>\n    <party>\n        <reference\
      \ value=\"Organization/%ID\" />\n    </party>\n</associatedParty>\n\n<Organization>\n\
      \    <id value= %ID /> \n    ... \n    <contact>\n        <address>\n      \
      \      <line value= %LINE1 />\n            <line value= %LINE2 />\n        \
      \    <city value= %CITY />\n            <country value= %COUNTRY />\n      \
      \      <postalCode value= %POSTALCODE />\n        </address>\n    </contact>\
      \ \n    ...\n </Organization>"
    Example Value(s): '%SYSTEM =$NCIT

      %CODE = C215669

      %DISPLAY = Study Co-Sponsor

      ----------------

      %ID = <org-xxx>

      %LINE1 = <xxx>

      %LINE2 = <xxx>

      %CITY = <xxx>

      %COUNTRY = <xxx>

      %POSTALCODE = <xxx>


      Note: Address has many options for format'
    Binding (strength): '$study-role-vs

      (extensible)'
Local Sponsor Name:
  ordinal: 22
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@decode="Local Sponsor"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@organizations/Organization/@label
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@decode="Local Sponsor"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@assignedPersons/AssignedPerson/@label
    name: Local Sponsor Name
    notes: ''
  fhir:
    Resource: 'ResearchStudy.associatedParty.party.reference -->

      Organization.name.value'
    Sample XML: "<associatedParty>\n    <role>\n        <coding>\n            <system\
      \ value= %SYSTEM />\n            <code value= %CODE />\n            <display\
      \ value= %DISPLAY />\n        </coding>\n    </role>\n    <party>\n        <reference\
      \ value=\"Organization/%ID\" />\n    </party>\n</associatedParty>\n\n<Organization>\n\
      \    <id value= %ID />\n    ... \n    <name value= %VALUE />\n    ...\n</Organization>"
    Example Value(s): '%SYSTEM = $NCIT

      %CODE = C215670

      %DISPLAY = Local Legal Sponsor

      ----------------

      %ID = <org-yyy>

      %VALUE = <yyy>'
    Binding (strength): '$study-role-vs

      (extensible)'
Local Sponsor Address:
  ordinal: 23
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@decode="Local Sponsor"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@organizations/Organization/@legalAddress/Address/@text
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@decode="Local Sponsor"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@assignedPersons/AssignedPerson/@organization/Organization/@legalAddress/Address/@text
    name: Local Sponsor Address
    notes: ''
  fhir:
    Resource: 'ResearchStudy.associatedParty.party.reference -->

      Organization.contact.address'
    Sample XML: "<associatedParty>\n    <role>\n        <coding>\n            <system\
      \ value= %SYSTEM />\n            <code value= %CODE />\n            <display\
      \ value= %DISPLAY />\n        </coding>\n    </role>\n    <party>\n        <reference\
      \ value=\"Organization/%ID\" />\n    </party>\n</associatedParty>\n\n<Organization>\n\
      \    <id value= %ID /> \n    ... \n    <contact>\n        <address>\n      \
      \      <line value= %LINE1 />\n            <line value= %LINE2 />\n        \
      \    <city value= %CITY />\n            <country value= %COUNTRY />\n      \
      \      <postalCode value= %POSTALCODE />\n        </address>\n    </contact>\
      \ \n    ...\n </Organization>"
    Example Value(s): '%SYSTEM = $NCIT

      %CODE = C215670

      %DISPLAY =Local Legal Sponsor

      ----------------

      %ID = <org-yyy>

      %LINE1 = <yyy>

      %LINE2 = <yyy>

      %CITY = <yyy>

      %COUNTRY = <yyy>

      %POSTALCODE = <yyy>


      Note: Address has many options for format'
    Binding (strength): '$study-role-vs

      (extensible)'
Device Manufacturer Name:
  ordinal: 24
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: ProductOrganizationRole/@appliesTo=StudyVersion/@studyDesigns/StudyDesign/@StudyInterventions/StudyIntervention/@administrations/Administration/@medicalDevice/MedicalDevice/@id
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: ProductOrganizationRole/@organization/Organization/@label
    name: Device Manufacturer Name
    notes: ''
  fhir:
    Resource: 'ResearchStudy.associatedParty.party.reference -->

      Organization.name.value'
    Sample XML: "<associatedParty>\n    <role>\n        <coding>\n            <system\
      \ value= %SYSTEM />\n            <code value= %CODE />\n            <display\
      \ value= %DISPLAY />\n        </coding>\n    </role>\n    <party>\n        <reference\
      \ value=\"Organization/%ID\" />\n    </party>\n</associatedParty>\n\n<Organization>\n\
      \    <id value= %ID />\n    ... \n    <name value= %VALUE />\n    ...\n</Organization>"
    Example Value(s): '%SYSTEM =$NCIT

      %CODE =$CNEW

      %DISPLAY = Device Manufacturer

      ----------------

      %ID = <org-zzz>

      %VALUE = <zzzz>'
    Binding (strength): '$study-role-vs

      (extensible)'
    Comment: C25392 Manufacturer is not "Device Manufacturer"
Device Manufacturer Address:
  ordinal: 25
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: ProductOrganizationRole/@appliesTo=StudyVersion/@studyDesigns/StudyDesign/@StudyInterventions/StudyIntervention/@administrations/Administration/@medicalDevice/MedicalDevice/@id
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: ProductOrganizationRole/@organization/Organization/@legalAddress/Address/@text
    name: Device Manufacturer Address
    notes: ''
  fhir:
    Resource: 'ResearchStudy.associatedParty.party.reference -->

      Organization.contact.address'
    Sample XML: "<associatedParty>\n    <role>\n        <coding>\n            <system\
      \ value= %SYSTEM />\n            <code value= %CODE />\n            <display\
      \ value= %DISPLAY />\n        </coding>\n    </role>\n    <party>\n        <reference\
      \ value=\"Organization/%ID\" />\n    </party>\n</associatedParty>\n\n<Organization>\n\
      \    <id value= %ID /> \n    ... \n    <contact>\n        <address>\n      \
      \      <line value= %LINE1 />\n            <line value= %LINE2 />\n        \
      \    <city value= %CITY />\n            <country value= %COUNTRY />\n      \
      \      <postalCode value= %POSTALCODE />\n        </address>\n    </contact>\
      \ \n    ...\n </Organization>"
    Example Value(s): '%SYSTEM = $NCIT

      %CODE = $CNEW

      %DISPLAY = Device Manufacturer

      ----------------

      %ID = <org-zzz>

      %LINE1 = <zzz>

      %LINE2 = <zzz>

      %CITY = <zzz>

      %COUNTRY = <zzz>

      %POSTALCODE = <zzz>


      Note: Address has many options for format'
    Binding (strength): '$study-role-vs

      (extensible)'
    Comment: C25392 Manufacturer is not "Device Manufacturer"
EU CT Number:
  ordinal: 26
  usdm:
    mappings:
    - conditions:
      - notes: Identify the organization as a regulatory agency
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@type/Code/@code="C188863"
      - notes: Identify the organization as EMA
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@label="EMA"
      standard_mapping:
        category: Study Identifier
        name: EU CT Study Identifier
      target:
        notes: ''
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@text
    name: EU CT Number
    notes: Find the identifier scoped by the EMA (regulatory agency)
  fhir:
    Resource: ResearchStudy.identifier
    Sample XML: "<identifier>\n    <type>\n        <coding>\n            <system value=%TYPESYSTEM/>\n\
      \            <code value=%TYPECODE/>\n            <display value=%TYPEVALUE/>\n\
      \        </coding>\n    </type>\n    <system value=%SYSTEM/>\n    <value value=%VALUE/>\n\
      </identifier>"
    Example Value(s): '%TYPESYSTEM = $identifier-type-vs

      %TYPECODE = C218684

      %TYPEVALUE = EU CT Number

      ----------------

      %SYSTEM = <ssss>

      %VALUE = <vvvv>'
FDA IND Number:
  ordinal: 27
  usdm:
    mappings:
    - conditions:
      - notes: Find the organization that is a regulatory authority
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@type/Code/@code="C188863"
      - notes: Identify the organization as FDA
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@label="FDA"
      standard_mapping:
        category: Study Identifier
        name: FDA IND Study Identifier
      target:
        notes: ''
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@text
    name: FDA IND Number
    notes: Find the identifier scoped by the FDA (regulatory authority)
  fhir:
    Resource: ResearchStudy.identifier
    Sample XML: "<identifier>\n    <type>\n        <coding>\n            <system value=%TYPESYSTEM/>\n\
      \            <code value=%TYPECODE/>\n            <display value=%TYPEVALUE/>\n\
      \        </coding>\n    </type>\n    <system value=%SYSTEM/>\n    <value value=%VALUE/>\n\
      </identifier>"
    Example Value(s): '%TYPESYSTEM = $identifier-type-vs

      %TYPECODE = C218685

      %TYPEVALUE = FDA IND Number

      ----------------

      %SYSTEM = <ssss>

      %VALUE = <vvvv>'
IDE Number:
  ordinal: 28
  usdm:
    mappings:
    - conditions:
      - notes: Find the organization that is a regulatory agency
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@type/Code/@code="C188863"
      - notes: Identify the organization as FDA
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@label="FDA"
      standard_mapping:
        category: Study Identifier
        name: FDA IDE Study Identifier
      target:
        notes: ''
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@text
    name: IDE Number
    notes: Find the identifier scoped by the FDA (regulatory agency)
  fhir:
    Resource: ResearchStudy.identifier
    Sample XML: "<identifier>\n    <type>\n        <coding>\n            <system value=%TYPESYSTEM/>\n\
      \            <code value=%TYPECODE/>\n            <display value=%TYPEVALUE/>\n\
      \        </coding>\n    </type>\n    <system value=%SYSTEM/>\n    <value value=%VALUE/>\n\
      </identifier>"
    Example Value(s): '%TYPESYSTEM = $identifier-type-vs

      %TYPECODE = C218686

      %TYPEVALUE = IDE Number

      ----------------

      %SYSTEM = <ssss>

      %VALUE = <vvvv>'
jRCT Number:
  ordinal: 29
  usdm:
    mappings:
    - conditions:
      - notes: Identify the organization as a trials registry
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@type/Code/@code="C93453"
      - notes: Identify the organization as JRCT
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@label="JRCT"
      standard_mapping:
        category: Study Identifier
        name: jRCT Study Identifier
      target:
        notes: ''
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@text
    name: jRCT Number
    notes: Find the identifier scoped by the Japan Registry for Clinical Trials (trial
      registry)
  fhir:
    Resource: ResearchStudy.identifier
    Sample XML: "<identifier>\n    <type>\n        <coding>\n            <system value=%TYPESYSTEM/>\n\
      \            <code value=%TYPECODE/>\n            <display value=%TYPEVALUE/>\n\
      \        </coding>\n    </type>\n    <system value=%SYSTEM/>\n    <value value=%VALUE/>\n\
      </identifier>"
    Example Value(s): '%TYPESYSTEM = $identifier-type-vs

      %TYPECODE = C218687

      %TYPEVALUE = jRCT Number

      ----------------

      %SYSTEM = <ssss>

      %VALUE = <vvvv>'
NCT Number:
  ordinal: 30
  usdm:
    mappings:
    - conditions:
      - notes: Identify the organization as a trials registry
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@type/Code/@code="C93453"
      - notes: Identify the organization as clinicaltrials.gov
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@label="ClinicalTrials.gov"
      standard_mapping:
        category: Study Identifier
        name: NCT Study Identifier
      target:
        notes: ''
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@text
    name: NCT Number
    notes: Find the identifier scoped by clinicaltrials.gov (regulatory agency)
  fhir:
    Resource: ResearchStudy.identifier
    Sample XML: "<identifier>\n    <type>\n        <coding>\n            <system value=%TYPESYSTEM/>\n\
      \            <code value=%TYPECODE/>\n            <display value=%TYPEVALUE/>\n\
      \        </coding>\n    </type>\n    <system value=%SYSTEM/>\n    <value value=%VALUE/>\n\
      </identifier>"
    Example Value(s): '%TYPESYSTEM = $identifier-type-vs

      %TYPECODE = C172240

      %TYPEVALUE = NCT Number

      ----------------

      %SYSTEM = <ssss>

      %VALUE = <vvvv>'
NMPA IND Number:
  ordinal: 31
  usdm:
    mappings:
    - conditions:
      - notes: Identify the organization as a regulatory agency
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@type/Code/@code="C188863"
      - notes: Identify the organization as NMPA
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@label="NMPA"
      standard_mapping:
        category: Study Identifier
        name: NMPA IND Study Identifier
      target:
        notes: ''
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@text
    name: NMPA IND Number
    notes: Find the identifier scoped by the NMPA (regulatory agency)
  fhir:
    Resource: ResearchStudy.identifier
    Sample XML: "<identifier>\n    <type>\n        <coding>\n            <system value=%TYPESYSTEM/>\n\
      \            <code value=%TYPECODE/>\n            <display value=%TYPEVALUE/>\n\
      \        </coding>\n    </type>\n    <system value=%SYSTEM/>\n    <value value=%VALUE/>\n\
      </identifier>"
    Example Value(s): '%TYPESYSTEM = $identifier-type-vs

      %TYPECODE = C218688

      %TYPEVALUE = NMPA IND Number

      ----------------

      %SYSTEM = <ssss>

      %VALUE = <vvvv>'
WHO-UTN Number:
  ordinal: 32
  usdm:
    mappings:
    - conditions:
      - notes: Identify the organization as a trials registry
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@type/Code/@code="C93453"
      - notes: Identify the organization as WHO
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@label="WHO"
      standard_mapping:
        category: Study Identifier
        name: WHO UTN Study Identifier
      target:
        notes: ''
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@text
    name: WHO-UTN Number
    notes: Find the identifier scoped by the WHO (trial registry)
  fhir:
    Resource: ResearchStudy.identifier
    Sample XML: "<identifier>\n    <type>\n        <coding>\n            <system value=%TYPESYSTEM/>\n\
      \            <code value=%TYPECODE/>\n            <display value=%TYPEVALUE/>\n\
      \        </coding>\n    </type>\n    <system value=%SYSTEM/>\n    <value value=%VALUE/>\n\
      </identifier>"
    Example Value(s): '%TYPESYSTEM = $identifier-type-vs

      %TYPECODE = C218689

      %TYPEVALUE = WHO/UTN Number

      ----------------

      %SYSTEM = <ssss>

      %VALUE = <vvvv>'
Other Regulatory or Clinical Trial Identifier:
  ordinal: 33
  usdm:
    mappings:
    - conditions:
      - notes: Identify the organization as a clinical trial registry
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@type/Code/@code="C93453"
      - notes: Identify the organization as a regulatory agency
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@scope/Organization/@type/Code/@code="C188863"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyVersion/@studyIdentifiers/StudyIdentifier/@text
    name: Other Regulatory or Clinical Trial Identifier
    notes: Find the identifier scoped by other regulatory authorities or registries
  fhir:
    Resource: ResearchStudy.identifier
    Sample XML: "<identifier>\n    <type>\n        <coding>\n            <system value=%TYPESYSTEM/>\n\
      \            <code value=%TYPECODE/>\n            <display value=%TYPEVALUE/>\n\
      \        </coding>\n    </type>\n    <system value=%SYSTEM/>\n    <value value=%VALUE/>\n\
      \    <assigner>\n        <reference value=\"Organization/%ID\"/>\n    </assigner>\n\
      </identifier>"
    Example Value(s): '%TYPESYSTEM = $identifier-type-vs

      %TYPECODE = C218690

      %TYPEVALUE = Other Regulatory or Clinical Trial Identifier

      ----------------

      %SYSTEM = <ssss>

      %VALUE = <vvvv>

      %ID = <iiii>'
    Comment: In HL7 because $identifier-type-vs is Extensible we would expect an additional
      code for the type to be added.  However an alternative is to have the assigner
      point to the organisation creating the code.
Approval Date:
  ordinal: 34
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyDefinitionDocument/@type/code/@code="C70817"
      - notes: ''
        path: StudyDefinitionDocument/@versions/ StudyDefinitionDocumentVersion/@dateValues/GovernanceDate/@type/Code/@code="C71476"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyDefinitionDocument/@versions/ StudyDefinitionDocumentVersion/@dateValues/GovernanceDate/@dateValue
    name: Approval Date
    notes: ''
  fhir:
    Resource: ResearchStudy.extension[$ext-amd].extension[approvalDate]
    Sample XML: "<extension url= $ext-amd>\n    <extension url=\"approvalDate\">\n\
      \        <valueDate value= %VALUE />\n    </extension>\n</extension>"
    Example Value(s): '%VALUE = 2017-12-05


      Note HL7 date format'
    Comment: This looks wrong, needs checking. Think the M11 info is wrong, dont really
      expect CT here.
State location where Information can be found:
  ordinal: 35
  usdm:
    mappings:
    - conditions:
      - notes: Used to select the protocol document
        path: Study/@documentedBy/StudyDefinitionDocument/@type/Code/@code='C70817'
      - notes: Used to select the correct section
        path: StudyVersion/@documentVersion/StudyProtocolDocumentVersion/@contents/NarrativeContent/@sectionNumber=<desired
          section>
      standard_mapping:
        category: Narrative Content
        name: Narrative Content Item
      target:
        notes: ''
        path: StudyVersion/@documentVersion/StudyProtocolDocumentVersion/@contents/NarrativeContent/@contentItem/NarrativeContentItem/@text
    name: State location where Information can be found
    notes: placed into narrative text but note that the USDM will [should] have the
      date stored.
  fhir:
    Resource: ResearchStudy.extension[$ext-amd].extension[signatureURL]
    Sample XML: "<extension url= $ext-amd>\n    <extension url=\"signatureURL\">\n\
      \      <valueURL value = %URL/>\n    </extension>\n</extension>"
    Example Value(s): '%URL = <https://somelocation>'
    Comment: This looks wrong, needs checking. Think the M11 info is wrong, dont really
      expect CT here.
Sponsor signatory:
  ordinal: 36
'Medical expert contatc:':
  ordinal: 37
  usdm:
    mappings:
    - conditions:
      - notes: ''
        path: StudyRole/@code/Code/@code="C51876"
      standard_mapping:
        category: ''
        name: ''
      target:
        notes: ''
        path: StudyRole/@assignedPersons/AssignedPerson/@label + @organization/Organization/@legalAddress/Address/@text
    name: contact information for Medical Expert as designated by sponsor or state
      location where information can be found
    notes: ''
  fhir:
    Resource: 'ResearchStudy.associatedParty.party.reference -->

      Practitioner'
    Sample XML: "<associatedParty>\n    <role>\n        <coding>\n            <system\
      \ value= %SYSTEM />\n            <code value= %CODE />\n            <display\
      \ value= %DISPLAY />\n        </coding>\n    </role>\n    <party>\n        <reference\
      \ value=\"Practitioner/%ID\" />\n    </party>\n</associatedParty>\n\n<Practitioner>\n\
      \    <id value= %ID />\n    ... \n    <telecom>\n        <system value=\"phone\"\
      \ />\n        <value value=\"(555) 675 5745\" />\n    </telecom\n    ...\n</Organization>"
    Example Value(s): '%SYSTEM = $NCIT

      %CODE = C51876

      %DISPLAY = Sponsor Medical Expert

      ----------------

      %ID = <prac-xxx>

      Note: Contact information can be telephone, eMail, etc M11 doesn''t specify'
    Binding (strength): '$study-role-vs

      (extensible)'
