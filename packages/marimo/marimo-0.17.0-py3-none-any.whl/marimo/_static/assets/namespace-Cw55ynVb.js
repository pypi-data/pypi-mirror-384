import{s as b}from"./chunk-DZLz74EQ.js";import{t as H}from"./react-BcIddLXZ.js";import{t as $}from"./react-dom-D6bRRS5R.js";import{n as J,t as X}from"./jsx-runtime-DvsdsEjx.js";import{a as S,n as Y}from"./dist-CLazWf1X.js";var i=b(H(),1),h=b(X(),1);function Z(t,e){let n=i.createContext(e),r=s=>{let{children:u,...a}=s,c=i.useMemo(()=>a,Object.values(a));return(0,h.jsx)(n.Provider,{value:c,children:u})};r.displayName=t+"Provider";function o(s){let u=i.useContext(n);if(u)return u;if(e!==void 0)return e;throw Error(`\`${s}\` must be used within \`${t}\``)}return[r,o]}function Q(t,e=[]){let n=[];function r(s,u){let a=i.createContext(u),c=n.length;n=[...n,u];let l=p=>{var N;let{scope:f,children:E,...v}=p,y=((N=f==null?void 0:f[t])==null?void 0:N[c])||a,D=i.useMemo(()=>v,Object.values(v));return(0,h.jsx)(y.Provider,{value:D,children:E})};l.displayName=s+"Provider";function d(p,f){var y;let E=((y=f==null?void 0:f[t])==null?void 0:y[c])||a,v=i.useContext(E);if(v)return v;if(u!==void 0)return u;throw Error(`\`${p}\` must be used within \`${s}\``)}return[l,d]}let o=()=>{let s=n.map(u=>i.createContext(u));return function(u){let a=(u==null?void 0:u[t])||s;return i.useMemo(()=>({[`__scope${t}`]:{...u,[t]:a}}),[u,a])}};return o.scopeName=t,[r,ee(o,...e)]}function ee(...t){let e=t[0];if(t.length===1)return e;let n=()=>{let r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(o){let s=r.reduce((u,{useScope:a,scopeName:c})=>{let l=a(o)[`__scope${c}`];return{...u,...l}},{});return i.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}typeof window<"u"&&window.document&&window.document.createElement;function g(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}var w=globalThis!=null&&globalThis.document?i.useLayoutEffect:()=>{},te=i.useInsertionEffect||w;function ne({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){let[o,s,u]=re({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:o;{let l=i.useRef(t!==void 0);i.useEffect(()=>{let d=l.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),l.current=a},[a,r])}return[c,i.useCallback(l=>{var d;if(a){let p=oe(l)?l(t):l;p!==t&&((d=u.current)==null||d.call(u,p))}else s(l)},[a,t,s,u])]}function re({defaultProp:t,onChange:e}){let[n,r]=i.useState(t),o=i.useRef(n),s=i.useRef(e);return te(()=>{s.current=e},[e]),i.useEffect(()=>{var u;o.current!==n&&((u=s.current)==null||u.call(s,n),o.current=n)},[n,o]),[n,r,s]}function oe(t){return typeof t=="function"}function ie(t,e){return i.useReducer((n,r)=>e[n][r]??n,t)}var j=t=>{let{present:e,children:n}=t,r=se(e),o=typeof n=="function"?n({present:r.isPresent}):i.Children.only(n),s=S(r.ref,ue(o));return typeof n=="function"||r.isPresent?i.cloneElement(o,{ref:s}):null};j.displayName="Presence";function se(t){let[e,n]=i.useState(),r=i.useRef(null),o=i.useRef(t),s=i.useRef("none"),[u,a]=ie(t?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{let c=O(r.current);s.current=u==="mounted"?c:"none"},[u]),w(()=>{let c=r.current,l=o.current;if(l!==t){let d=s.current,p=O(c);t?a("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?a("UNMOUNT"):a(l&&d!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,a]),w(()=>{if(e){let c,l=e.ownerDocument.defaultView??window,d=f=>{let E=O(r.current).includes(CSS.escape(f.animationName));if(f.target===e&&E&&(a("ANIMATION_END"),!o.current)){let v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=l.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=f=>{f.target===e&&(s.current=O(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{l.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else a("ANIMATION_END")},[e,a]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:i.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function O(t){return(t==null?void 0:t.animationName)||"none"}function ue(t){var r,o;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ae=b($(),1),P=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((t,e)=>{let n=Y(`Primitive.${e}`),r=i.forwardRef((o,s)=>{let{asChild:u,...a}=o,c=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),(0,h.jsx)(c,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function A(t,e){t&&ae.flushSync(()=>t.dispatchEvent(e))}function C(t){let e=i.useRef(t);return i.useEffect(()=>{e.current=t}),i.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function le(t,e=globalThis==null?void 0:globalThis.document){let n=C(t);i.useEffect(()=>{let r=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var ce="DismissableLayer",x="dismissableLayer.update",de="dismissableLayer.pointerDownOutside",fe="dismissableLayer.focusOutside",U,W=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),R=i.forwardRef((t,e)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:u,onDismiss:a,...c}=t,l=i.useContext(W),[d,p]=i.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=i.useState({}),v=S(e,m=>p(m)),y=Array.from(l.layers),[D]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),N=y.indexOf(D),M=d?y.indexOf(d):-1,V=l.layersWithOutsidePointerEventsDisabled.size>0,I=M>=N,q=pe(m=>{let L=m.target,T=[...l.branches].some(G=>G.contains(L));!I||T||(o==null||o(m),u==null||u(m),m.defaultPrevented||(a==null||a()))},f),_=ve(m=>{let L=m.target;[...l.branches].some(T=>T.contains(L))||(s==null||s(m),u==null||u(m),m.defaultPrevented||(a==null||a()))},f);return le(m=>{M===l.layers.size-1&&(r==null||r(m),!m.defaultPrevented&&a&&(m.preventDefault(),a()))},f),i.useEffect(()=>{if(d)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(U=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(d)),l.layers.add(d),F(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=U)}},[d,f,n,l]),i.useEffect(()=>()=>{d&&(l.layers.delete(d),l.layersWithOutsidePointerEventsDisabled.delete(d),F())},[d,l]),i.useEffect(()=>{let m=()=>E({});return document.addEventListener(x,m),()=>document.removeEventListener(x,m)},[]),(0,h.jsx)(P.div,{...c,ref:v,style:{pointerEvents:V?I?"auto":"none":void 0,...t.style},onFocusCapture:g(t.onFocusCapture,_.onFocusCapture),onBlurCapture:g(t.onBlurCapture,_.onBlurCapture),onPointerDownCapture:g(t.onPointerDownCapture,q.onPointerDownCapture)})});R.displayName=ce;var me="DismissableLayerBranch",k=i.forwardRef((t,e)=>{let n=i.useContext(W),r=i.useRef(null),o=S(e,r);return i.useEffect(()=>{let s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),(0,h.jsx)(P.div,{...t,ref:o})});k.displayName=me;function pe(t,e=globalThis==null?void 0:globalThis.document){let n=C(t),r=i.useRef(!1),o=i.useRef(()=>{});return i.useEffect(()=>{let s=a=>{if(a.target&&!r.current){let c=function(){B(de,n,l,{discrete:!0})},l={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=c,e.addEventListener("click",o.current,{once:!0})):c()}else e.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",s),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function ve(t,e=globalThis==null?void 0:globalThis.document){let n=C(t),r=i.useRef(!1);return i.useEffect(()=>{let o=s=>{s.target&&!r.current&&B(fe,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function F(){let t=new CustomEvent(x);document.dispatchEvent(t)}function B(t,e,n,{discrete:r}){let o=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),r?A(o,s):o.dispatchEvent(s)}var Ee=R,ye=k,he=i.useId||(()=>{}),we=0;function be(t){let[e,n]=i.useState(he());return w(()=>{t||n(r=>r??String(we++))},[t]),t||(e?`radix-${e}`:"")}var Ne=b($(),1),ge="Portal",z=i.forwardRef((t,e)=>{var a;let{container:n,...r}=t,[o,s]=i.useState(!1);w(()=>s(!0),[]);let u=n||o&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return u?Ne.createPortal((0,h.jsx)(P.div,{...r,ref:e}),u):null});z.displayName=ge;var Oe=b(J()),Pe={display:"contents"};const K=i.forwardRef((t,e)=>{let n=(0,Oe.c)(3),{children:r}=t,o;return n[0]!==r||n[1]!==e?(o=(0,h.jsx)("div",{ref:e,className:"marimo",style:Pe,children:r}),n[0]=r,n[1]=e,n[2]=o):o=n[2],o});K.displayName="StyleNamespace";export{R as a,P as c,ne as d,w as f,Q as h,ye as i,A as l,Z as m,z as n,Ee as o,g as p,be as r,C as s,K as t,j as u};
