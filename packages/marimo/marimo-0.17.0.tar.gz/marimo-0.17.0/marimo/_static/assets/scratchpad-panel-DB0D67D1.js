import{s as W}from"./chunk-DZLz74EQ.js";import{i as Ct,n as St,o as ct,r as zt}from"./react-7g8sREeT.js";import{t as Ot}from"./react-BcIddLXZ.js";import{D as It,Er as At,I as Lt,Pr as Pt,t as f,__tla as Et}from"./cells-BEhFXxEH.js";import"./react-dom-D6bRRS5R.js";import"./zod-U2NFpcFA.js";import{n as nt,t as Mt}from"./jsx-runtime-DvsdsEjx.js";import"./_Uint8Array-D5Z9rM2X.js";import"./isSymbol-xTSywenE.js";import"./_arrayMap-DQI2GUNb.js";import"./toString-CBnct2wx.js";import"./toNumber-CTOPJrpu.js";import"./toInteger-Bor4StOs.js";import"./isArrayLikeObject-DKyJYtr8.js";import"./_getTag-CVRrQL_Q.js";import"./_baseIsEqual-BF8660ot.js";import"./merge-BgA7kxZb.js";import"./_baseSlice-B27Cqkm6.js";import"./upperFirst-DOlTOwhh.js";import"./_hasUnicode-CPHpt5EV.js";import"./capitalize-CkrfIDeS.js";import"./_arrayReduce-DDpPg0Qh.js";import"./startCase-DOk4LYuA.js";import"./_baseProperty-CIKnF2iY.js";import"./now-B6JN1xKT.js";import"./debounce-70y9MzDK.js";import"./invariant-B43sqCFA.js";import"./loader-BcHzCbiy.js";import"./range-BB1DXJJn.js";import"./client-BGoAagZp.js";import{n as dt}from"./Logger-BkkOJyg0.js";import"./hotkeys-ZAWHeY7d.js";import{v as Rt}from"./utils-DLuqCLqV.js";import"./constants-Cv7-oioA.js";import"./config-BeIk_wvs.js";import"./useHotkey-CivJpvvx.js";import"./globals-BGEnYYSz.js";import"./ErrorBoundary-Bj7QJPi8.js";import"./dist-CLazWf1X.js";import{t as Ht}from"./cn-CwmWKpZ_.js";import"./dist-BiHHvE7B.js";import"./useEventListener-g9rPKvBX.js";import"./events-BGfCi1Xy.js";import{t as X}from"./button-g1jf7cM6.js";import"./dist-BNtnpgX8.js";import"./dist-Ct0a8Isf.js";import{a as qt,__tla as Tt}from"./columns-BeFC1dXm.js";import"./once-4nUTgcVU.js";import"./documentation-B7z6bB-t.js";import"./createReducer-CFr1RdS2.js";import{r as Vt}from"./requests-BW3DqHQI.js";import"./preload-helper-DImqtvgl.js";import"./dist-B8v7AWk6.js";import"./dist-D80s9YgJ.js";import"./dist-BFifaB39.js";import"./dist-AWYmVWdt.js";import"./dist-Q2QzNScK.js";import"./dist-Nl79A0iO.js";import"./stex-w1KpyykF.js";import"./Deferred-Mppm0cvJ.js";import"./uuid-4lb_EYpq.js";import"./key-Pb6bybhb.js";import"./use-toast-BKA5A0CC.js";import"./main-CCaZmKLi.js";import"./marked.esm-BB_RKOA5.js";import"./connection-UyRAkvTk.js";import"./dist-CtJ8WONl.js";import{r as Ft}from"./useTheme-BWXNjHkw.js";import{t as ht}from"./createLucideIcon-Dz-D6iuz.js";import{d as Gt,__tla as Ut}from"./layout-BWRBgNc0.js";import"./add-cell-with-ai-BQY4AwHL.js";import{t as Bt}from"./between-horizontal-start-BIN5GEND.js";import"./ai-model-dropdown-D-i9tuGn.js";import"./type-CYsuWFDa.js";import"./check-CmOWIaur.js";import"./select-DIqNYEaz.js";import"./download-RtEDTktT.js";import"./chevron-right-kGH9aJGk.js";import"./maps-duCv2i7k.js";import"./ansi_up-CAiCs1Gk.js";import"./toDate-BNd9AHNi.js";import"./dropdown-menu-D3tww20d.js";import"./eye-off-wMFrY47K.js";import"./copy-CGWkBrzb.js";import"./ellipsis-i2i-p8XW.js";import"./types-Zo5TA9DG.js";import"./file-video-camera-D5oKA5-e.js";import{t as Jt,__tla as Kt}from"./cell-editor-CVqxsR3r.js";import"./file-text-Ds68BFYI.js";import"./file-BX8VjCCQ.js";import"./image-OhmwC5mR.js";import"./list-filter-DQ2_e3bh.js";import{t as Qt}from"./spinner-fS9J74Ro.js";import"./readonly-python-code-DI18L7Ip.js";import"./MarimoErrorOutput-CD3rG7IK.js";import{t as Wt}from"./play-C5VC4Hal.js";import"./plus-Ckxr6pwY.js";import"./save-CEymLbQR.js";import"./input-DGY-1Oes.js";import"./sparkles-DLotTEZ2.js";import"./trash-DPef-jCF.js";import"./datasource-CwGVmPnG.js";import"./useNonce-DvpkYOW9.js";import"./badge-Cbb7s63B.js";import"./namespace-Cw55ynVb.js";import"./dist-DT6vyuIM.js";import{t as Y}from"./tooltip-CW-4dtRh.js";import"./useLifecycle-DmdhGVVs.js";import"./menu-items-CE6I2UvI.js";import"./fullscreen-DoREeXhW.js";import"./tslib.es6-C9vXkBtU.js";import"./dates-D2l0yAKQ.js";import"./en-US-D7J6fBFv.js";import"./isValid-BxWQIw0s.js";import"./mode-kUHLEZT6.js";import"./alert-dialog-DiIW1jDy.js";import"./dialog-gSaRWBIN.js";import"./context-BwP_-Md9.js";import"./useDateFormatter-BapFytxP.js";import"./useNumberFormatter-BQOmTFFk.js";import"./shim-FF_l0CN4.js";import"./SelectionIndicator-BAE330f1.js";import"./numbers-P4hvbAnW.js";import{n as Z}from"./useEvent-itkPNnCe.js";import"./useDebounce-BZnPO5jA.js";import"./ImperativeModal-DSAh6fUR.js";import"./strings-CrHTFiMt.js";import"./errors-CmwnOe1B.js";import"./vega-loader.browser.module-B3yPAbRZ.js";import"./precisionRound-BLxyDkD7.js";import"./defaultLocale-DEWTIUVh.js";import"./defaultLocale-B9-NA0ur.js";import"./copy-BxPDuBrN.js";import"./copy-icon-7_c6G_tO.js";import"./RenderHTML-B398JcWn.js";import"./accordion-D8h6M7fo.js";import"./JsonOutput-BU4PIFXg.js";import"./emotion-is-prop-valid.esm-Tm8TdcWf.js";import"./extends-B47kqttt.js";import"./prop-types-ShpF60yB.js";import"./objectWithoutPropertiesLoose-ClrKK0Xi.js";import"./with-selector-ChXsBWGQ.js";import"./alert-D4GhiyiD.js";import"./useAsyncData-BB0ZlY9B.js";import"./error-banner-CHF-jGs2.js";import"./kbd-CrDndhyw.js";import{a as Xt}from"./renderShortcut-Bjp5Xukk.js";import"./label-CFxcdBki.js";import{t as Yt,__tla as Zt}from"./LazyAnyLanguageCodeMirror-CInCxHCy.js";import"./popover-IOch2AIR.js";import"./es-Ctpp-mTr.js";import"./dom-Ckypy4pz.js";import"./blob-BC4M7Onc.js";import"./esm-Bp1Lbm07.js";import"./useDeleteCell-CIqS2s5l.js";import"./add-missing-import-0FwDfOhv.js";import"./icons-15z_NdNZ.js";import"./command-W6QvsWS0.js";import"./table-CMFDmrFM.js";import"./formats-Dbfcbsil.js";import"./links-DH7hmhHO.js";import"./state-5DtoeNLQ.js";import"./filename-dpoTdlj9.js";import"./cell-link-D8x9Ez3U.js";import"./tabs-CswUuyA0.js";import{o as $t}from"./focus-BP3h9dJJ.js";import"./useAddCell-ClSRUhA6.js";import"./switch-C2Bk9ykO.js";import"./floating-outline-CwHsH4x8.js";import"./name-cell-input-BeEPAsoA.js";import"./useSplitCell-CqQvrYlc.js";import"./Inputs-C2xNF2Vv.js";import"./constants-BQMdipcl.js";import{__tla as Dt}from"./loro_wasm_bg-DrbknooN.js";import"./ws-CieKw-ZC.js";import"./useInterval-qDuXPgbZ.js";import"./dist-BxAzRYEX.js";import"./dist-BcphfvpG.js";import"./dist-_kgQuyan.js";import"./dist-CLHyipUq.js";import"./dist-ktjGj3Zd.js";import"./dist-IfJysJHD.js";import"./dist-CT6ctX3L.js";import"./dist-2N_xg6Kx.js";import"./dist-DdiRoSZn.js";import"./dist-DNaFOc9J.js";import"./dist-BEpWGm3G.js";import"./dist-DkwgPrFy.js";import"./apl-BnTs0B78.js";import"./asciiarmor-CBr2Cucf.js";import"./asn1-BOFjNtGB.js";import"./brainfuck-vMOV3hQr.js";import"./cobol-BQkvLUCT.js";import"./clike-BYTR4348.js";import"./clojure-DNLakJVp.js";import"./css-C0IZoWOr.js";import"./cmake-BpvCalK2.js";import"./coffeescript--ASXtZBl.js";import"./commonlisp-BfLdQOv8.js";import"./cypher-BBZ8NuQK.js";import"./python-DNfXSjPe.js";import"./crystal-Zh0Rxu7M.js";import"./d-Cb3cJR7R.js";import"./diff-B6WuvfKt.js";import"./dtd-C668V8Ql.js";import"./dylan-YZRkS6J0.js";import"./ecl-DA3aWoGK.js";import"./eiffel-z3hz4XWz.js";import"./elm-j7ld6ije.js";import"./erlang-Df0WBmSB.js";import"./simple-mode-DwfvHiRF.js";import"./factor-yFtXqseM.js";import"./forth-Bvs11wc5.js";import"./fortran-B4IM61nc.js";import"./mllike-BItamBQI.js";import"./gas-BC4Rxy0U.js";import"./gherkin-BDh5K-pd.js";import"./groovy-BY1M-C5S.js";import"./haskell-DZoeHQJn.js";import"./haxe-BWtb61kX.js";import"./idl-CunSllzR.js";import"./javascript-CPb6m4Co.js";import"./jinja2-D4CaqJUL.js";import"./julia-Bb9UixMj.js";import"./livescript-CISIuoME.js";import"./lua-Dk_aFqJS.js";import"./mirc-Tk8yyrSz.js";import"./mathematica-DmqxOa6W.js";import"./modelica-SehsBQww.js";import"./mumps-DmQ5Mxns.js";import"./mbox-BBVNo5Kw.js";import"./nsis-CWtt3eIn.js";import"./ntriples-6oi2X1Vf.js";import"./octave-C9oqpxGK.js";import"./oz-BpkWCod6.js";import"./pascal-B7mq9HhL.js";import"./perl-BhuRLfu4.js";import"./pig-DIZlvXvD.js";import"./powershell-DP8lEUi5.js";import"./properties-BUwQQ50B.js";import"./protobuf-DGR8xC2K.js";import"./pug-BPgijk7S.js";import"./puppet-CIPKfMMW.js";import"./q-C1ypp2QX.js";import"./r-DGH9wUds.js";import"./rpm-BfbM8-Y8.js";import"./ruby-BCqX2QXM.js";import"./sas-Bl_yCHKh.js";import"./scheme-D4oYviNI.js";import"./shell-BI0GGH_3.js";import"./sieve-0IQEV5xl.js";import"./smalltalk-Cd2MfFqm.js";import"./sparql-C-QYR9oc.js";import"./stylus-CWU_gzDH.js";import"./swift-Bbt38aze.js";import"./verilog-Cxs5yC2t.js";import"./tcl-QrFwh2YW.js";import"./textile-Dkc776C0.js";import"./toml-Xabd-hyk.js";import"./troff-Dn-gF5qK.js";import"./ttcn-DFW2va5k.js";import"./ttcn-cfg-CpainrNb.js";import"./turtle-ZXb9hJgA.js";import"./webidl-DM3LciAL.js";import"./vb-DHGgASWc.js";import"./vbscript-BCCdXnBu.js";import"./velocity-D7QBN158.js";import"./vhdl-Bv9PeT8e.js";import"./xquery-UKbfMhFh.js";import"./yacas-CM-Kep-K.js";import"./z80-BViTjHbp.js";import"./mscgen-Dcx4gqL6.js";import"./dist-jH779Qc9.js";import"./esm--YhlR35J.js";import{t as tr}from"./kiosk-mode-CPvPYp1D.js";let ft,rr=Promise.all([(()=>{try{return Et}catch{}})(),(()=>{try{return Tt}catch{}})(),(()=>{try{return Ut}catch{}})(),(()=>{try{return Kt}catch{}})(),(()=>{try{return Zt}catch{}})(),(()=>{try{return Dt}catch{}})()]).then(async()=>{var ut=ht("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]]),xt=ht("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),_t=W(nt()),$=W(Ot()),vt=15;const D=At("marimo:scratchpadHistory:v1",[]),gt=ct(!1),jt=ct(null,(t,m,e)=>{if(e=e.trim(),!e)return;let a=t(D);m(D,[e,...a.filter(u=>u!==e)].slice(0,vt))});var r=W(Mt()),bt={hide_code:!1,disabled:!1};const yt=()=>{var st;let t=(0,_t.c)(84),m=Lt(),[e]=Rt(),{theme:a}=Ft(),u=(0,$.useRef)(null),tt=$t(),{createNewCell:rt,updateCellCode:x}=It(),{sendRunScratchpad:_}=Vt(),p=m.cellRuntime[f],ot=p==null?void 0:p.output,v=p==null?void 0:p.status,it=p==null?void 0:p.consoleOutputs,i=((st=m.cellData.__scratch__)==null?void 0:st.code)??"",mt=Ct(jt),[o,l]=St(gt),g=zt(D),R;t[0]!==mt||t[1]!==i||t[2]!==_?(R=()=>{_({code:i}),mt(i)},t[0]=mt,t[1]=i,t[2]=_,t[3]=R):R=t[3];let j=Z(R),H;t[4]!==i||t[5]!==rt||t[6]!==tt?(H=()=>{i.trim()&&rt({code:i,before:!1,cellId:tt??"__end__"})},t[4]=i,t[5]=rt,t[6]=tt,t[7]=H):H=t[7];let P=Z(H),q;t[8]!==_||t[9]!==x?(q=()=>{x({cellId:f,code:"",formattingChange:!1}),_({code:""});let d=u.current;d&&d.dispatch({changes:{from:0,to:d.state.doc.length,insert:""}})},t[8]=_,t[9]=x,t[10]=q):q=t[10];let E=Z(q),T;t[11]!==l||t[12]!==x?(T=d=>{l(!1),x({cellId:f,code:d,formattingChange:!1});let h=u.current;h&&h.dispatch({changes:{from:0,to:h.state.doc.length,insert:d}})},t[11]=l,t[12]=x,t[13]=T):T=t[13];let M=Z(T),[et,wt]=(0,$.useState)(),b,y,w,k,s,c,n;if(t[14]!==i||t[15]!==it||t[16]!==E||t[17]!==P||t[18]!==j||t[19]!==M||t[20]!==g||t[21]!==o||t[22]!==et||t[23]!==ot||t[24]!==l||t[25]!==v||t[26]!==a||t[27]!==e){let d=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"overflow-auto shrink-0 max-h-[40%]",children:(0,r.jsx)(Jt,{theme:a,showPlaceholder:!1,id:f,code:i,config:bt,status:"idle",serializedEditorState:null,runCell:j,userConfig:e,editorViewRef:u,setEditorView:Q=>{u.current=Q},hidden:!1,showHiddenCode:dt.NOOP,languageAdapter:et,setLanguageAdapter:wt})}),(0,r.jsx)("div",{className:"flex-1 overflow-auto shrink-0",children:(0,r.jsx)(qt,{allowExpand:!1,output:ot,className:"output-area",cellId:f,stale:!1,loading:!1})}),(0,r.jsx)("div",{className:"overflow-auto shrink-0 max-h-[35%]",children:(0,r.jsx)(Gt,{consoleOutputs:it,className:"overflow-auto",stale:!1,cellName:"_",onSubmitDebugger:dt.NOOP,cellId:f,debuggerActive:!1})})]}),h;t[35]!==M||t[36]!==g||t[37]!==o||t[38]!==a?(h=()=>o?(0,r.jsx)("div",{className:"absolute inset-0 z-100 bg-background p-3 border-none overflow-auto",children:(0,r.jsx)("div",{className:"overflow-auto flex flex-col gap-3",children:g.map((Q,Nt)=>(0,r.jsx)("div",{className:"border rounded-md hover:shadow-sm cursor-pointer hover:border-input overflow-hidden",onClick:()=>M(Q),children:(0,r.jsx)($.Suspense,{children:(0,r.jsx)(Yt,{language:"python",theme:a,basicSetup:{highlightActiveLine:!1,highlightActiveLineGutter:!1},value:Q.trim(),editable:!1,readOnly:!0})})},Nt))})}):null,t[35]=M,t[36]=g,t[37]=o,t[38]=a,t[39]=h):h=t[39];let kt=h;k="flex flex-col h-full overflow-hidden divide-y",t[40]===Symbol.for("react.memo_cache_sentinel")?(s=Pt.create(f),c=(0,r.jsx)("p",{className:"mx-2 my-2 text-muted-foreground text-sm",children:"Use this scratchpad cell to experiment with code without restrictions on variable names. Scratchpad code is ephemeral: variables defined in the scratchpad aren't saved to notebook memory, and the code is not saved in the notebook file."}),t[40]=s,t[41]=c):(s=t[40],c=t[41]);let F;t[42]===Symbol.for("react.memo_cache_sentinel")?(F=Xt("cell.run"),t[42]=F):F=t[42];let G;t[43]===Symbol.for("react.memo_cache_sentinel")?(G=(0,r.jsx)(Wt,{color:"var(--grass-11)",size:16}),t[43]=G):G=t[43];let C;t[44]!==j||t[45]!==o?(C=(0,r.jsx)(Y,{content:F,children:(0,r.jsx)(X,{"data-testid":"scratchpad-run-button",onClick:j,disabled:o,variant:"text",size:"xs",children:G})}),t[44]=j,t[45]=o,t[46]=C):C=t[46];let U;t[47]===Symbol.for("react.memo_cache_sentinel")?(U=(0,r.jsx)(ut,{size:16}),t[47]=U):U=t[47];let S;t[48]!==E||t[49]!==o?(S=(0,r.jsx)(Y,{content:"Clear code and outputs",children:(0,r.jsx)(X,{disabled:o,size:"xs",variant:"text",onClick:E,children:U})}),t[48]=E,t[49]=o,t[50]=S):S=t[50];let B;t[51]===Symbol.for("react.memo_cache_sentinel")?(B=(0,r.jsx)(Bt,{size:16}),t[51]=B):B=t[51];let z;t[52]!==P||t[53]!==o?(z=(0,r.jsx)(tr,{children:(0,r.jsx)(Y,{content:"Insert code",children:(0,r.jsx)(X,{disabled:o,size:"xs",variant:"text",onClick:P,children:B})})}),t[52]=P,t[53]=o,t[54]=z):z=t[54];let O;t[55]===v?O=t[56]:(O=(v==="running"||v==="queued")&&(0,r.jsx)(Qt,{className:"inline",size:"small"}),t[55]=v,t[56]=O);let J;t[57]===Symbol.for("react.memo_cache_sentinel")?(J=(0,r.jsx)("div",{className:"flex-1"}),t[57]=J):J=t[57];let pt=o&&"bg-(--sky-3) rounded-none",I;t[58]===pt?I=t[59]:(I=Ht(pt),t[58]=pt,t[59]=I);let A;t[60]!==o||t[61]!==l?(A=()=>l(!o),t[60]=o,t[61]=l,t[62]=A):A=t[62];let at=g.length===0,K;t[63]===Symbol.for("react.memo_cache_sentinel")?(K=(0,r.jsx)(xt,{size:16}),t[63]=K):K=t[63];let L;t[64]!==I||t[65]!==A||t[66]!==at?(L=(0,r.jsx)(Y,{content:"Toggle history",children:(0,r.jsx)(X,{size:"xs",variant:"text",className:I,onClick:A,disabled:at,children:K})}),t[64]=I,t[65]=A,t[66]=at,t[67]=L):L=t[67],t[68]!==C||t[69]!==S||t[70]!==z||t[71]!==O||t[72]!==L?(n=(0,r.jsxs)("div",{className:"flex items-center shrink-0",children:[C,S,z,O,J,L]}),t[68]=C,t[69]=S,t[70]=z,t[71]=O,t[72]=L,t[73]=n):n=t[73],y="flex-1 divide-y relative overflow-hidden flex flex-col",w=d(),b=kt(),t[14]=i,t[15]=it,t[16]=E,t[17]=P,t[18]=j,t[19]=M,t[20]=g,t[21]=o,t[22]=et,t[23]=ot,t[24]=l,t[25]=v,t[26]=a,t[27]=e,t[28]=b,t[29]=y,t[30]=w,t[31]=k,t[32]=s,t[33]=c,t[34]=n}else b=t[28],y=t[29],w=t[30],k=t[31],s=t[32],c=t[33],n=t[34];let N;t[74]!==b||t[75]!==y||t[76]!==w?(N=(0,r.jsxs)("div",{className:y,children:[w,b]}),t[74]=b,t[75]=y,t[76]=w,t[77]=N):N=t[77];let V;return t[78]!==N||t[79]!==k||t[80]!==s||t[81]!==c||t[82]!==n?(V=(0,r.jsxs)("div",{className:k,id:s,children:[c,n,N]}),t[78]=N,t[79]=k,t[80]=s,t[81]=c,t[82]=n,t[83]=V):V=t[83],V};let lt;lt=W(nt()),ft=()=>{let t=(0,lt.c)(1),m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)(yt,{}),t[0]=m):m=t[0],m}});export{rr as __tla,ft as default};
