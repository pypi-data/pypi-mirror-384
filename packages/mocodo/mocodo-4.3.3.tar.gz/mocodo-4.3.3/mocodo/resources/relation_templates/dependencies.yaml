help_en: 'convert the conceptual model into a dependency graph'
help_fr: 'convertit le modèle conceptuel en un graphe de dépendances'
help_zh: '将概念模型转换为依赖图'
stem_suffix: '_dependencies'
extension: 'gv'
to_defer: true
highlight: 'graphviz'
compose_primary_key: ''
compose_normal_attribute: ''
compose_foreign_key: '<-"{outer_source}"'
compose_primary_foreign_key: '<-"{outer_source}"'
column_separator: ''
compose_relation: '"{this_relation_name}"{columns}'
relation_separator: '\n'
transform_relation:
  - order: 100
    comment: 'Present all the dependencies of the same relation on multiple lines'
    search: '(".+?")<-(".+?")(.*)'
    replace: '\1\3\n  \2 -> \1'
    iterated: true
compose_relational_schema: '// Generated by Mocodo {version}<DOUBLE_CR_PLACEHOLDER>digraph {{\n  node [shape=box]\n\n{relations}\n}}'
transform_relational_schema:
  - order: 100
    comment: 'Remove the independant relations'
    search: '(?m)^".+'
    replace: ''
  - order: 200
    comment: 'Remove the empty lines'
    search: '\n+'
    replace: '\n'
  - order: 300
    comment: 'Remove the duplicated consecutive lines'
    search: '(?m)^(.+\n)\1+'
    replace: '\1'
  - order: 400
    search: '<DOUBLE_CR_PLACEHOLDER>'
    replace: '\n\n'
