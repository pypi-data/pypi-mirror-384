{
  "code": "# https://pandas.pydata.org/docs/reference/api/pandas.melt.html\nimport pandas as pd\n\ndf = pd.DataFrame({'A': {0: 'a', 1: 'b', 2: 'c'},\n                   'B': {0: 1, 1: 3, 2: 5},\n                   'C': {0: 2, 1: 4, 2: 6}})\n\n# ignore_index=False duplicates row labels, so we don't handle\ndf.melt(id_vars='A', value_vars=['B', 'C'],\n        ignore_index=False)",
  "explanation": [
    {
      "type": "MeltCall",
      "code_step": "df.melt(id_vars='A', value_vars=['B', 'C'],\n        ignore_index=False)",
      "fragment": {
        "start": {
          "line": 0,
          "ch": 2
        },
        "end": {
          "line": 1,
          "ch": 27
        }
      },
      "marks": [],
      "data": {
        "lhs": {
          "type": "DataFrame",
          "columns": {
            "names": [
              null
            ],
            "labels": [
              "A",
              "B",
              "C"
            ]
          },
          "index": {
            "names": [
              null
            ],
            "labels": [
              0,
              1,
              2
            ]
          },
          "data": [
            [
              "a",
              1,
              2
            ],
            [
              "b",
              3,
              4
            ],
            [
              "c",
              5,
              6
            ]
          ]
        },
        "rhs": {
          "type": "DataFrame",
          "columns": {
            "names": [
              null
            ],
            "labels": [
              "A",
              "variable",
              "value"
            ]
          },
          "index": {
            "names": [
              null
            ],
            "labels": [
              0,
              1,
              2,
              0,
              1,
              2
            ]
          },
          "data": [
            [
              "a",
              "B",
              1
            ],
            [
              "b",
              "B",
              3
            ],
            [
              "c",
              "B",
              5
            ],
            [
              "a",
              "C",
              2
            ],
            [
              "b",
              "C",
              4
            ],
            [
              "c",
              "C",
              6
            ]
          ]
        }
      }
    }
  ]
}