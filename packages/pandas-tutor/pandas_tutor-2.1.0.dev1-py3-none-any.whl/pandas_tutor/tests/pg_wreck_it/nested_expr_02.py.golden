{
  "code": "# https://github.com/SamLau95/pandas_tutor/issues/32\n# https://pandas.pydata.org/pandas-docs/stable/user_guide/10min.html\nimport numpy as np\nimport pandas as pd\n\ndates = pd.date_range(\"20130101\", periods=6)\ndata = np.array([[ 1.14, -1.23,  0.4 , -0.68],\n       [-0.87, -0.58, -0.31,  0.06],\n       [-1.17,  0.9 ,  0.47, -1.54],\n       [ 1.49,  1.9 ,  1.18, -0.18],\n       [-1.07,  1.05, -0.4 ,  1.22],\n       [ 0.21,  0.98,  0.36,  0.71]])\ndf = pd.DataFrame(data, index=dates, columns=list(\"ABCD\"))\ndf2 = df.copy()\ndf2[\"E\"] = [\"one\", \"one\", \"two\", \"three\", \"four\", \"three\"]\n\ndf2[df2[\"E\"].isin([\"two\", \"four\"])] # <-- is this an example of a nested expression?\n",
  "explanation": [
    {
      "type": "Subscript",
      "code_step": "df2[df2[\"E\"].isin([\"two\", \"four\"])]",
      "fragment": {
        "start": {
          "line": 0,
          "ch": 3
        },
        "end": {
          "line": 0,
          "ch": 35
        }
      },
      "marks": [
        {
          "type": "map",
          "from": {
            "type": "axis",
            "anchor": "lhs",
            "select": "row",
            "label": "2013-01-03 00:00:00"
          },
          "to": {
            "type": "axis",
            "anchor": "rhs",
            "select": "row",
            "label": "2013-01-03 00:00:00"
          }
        },
        {
          "type": "map",
          "from": {
            "type": "axis",
            "anchor": "lhs",
            "select": "row",
            "label": "2013-01-05 00:00:00"
          },
          "to": {
            "type": "axis",
            "anchor": "rhs",
            "select": "row",
            "label": "2013-01-05 00:00:00"
          }
        }
      ],
      "data": {
        "lhs": {
          "type": "DataFrame",
          "columns": {
            "names": [
              null
            ],
            "labels": [
              "A",
              "B",
              "C",
              "D",
              "E"
            ]
          },
          "index": {
            "names": [
              null
            ],
            "labels": [
              "2013-01-01 00:00:00",
              "2013-01-02 00:00:00",
              "2013-01-03 00:00:00",
              "2013-01-04 00:00:00",
              "2013-01-05 00:00:00",
              "2013-01-06 00:00:00"
            ]
          },
          "data": [
            [
              1.14,
              -1.23,
              0.4,
              -0.68,
              "one"
            ],
            [
              -0.87,
              -0.58,
              -0.31,
              0.06,
              "one"
            ],
            [
              -1.17,
              0.9,
              0.47,
              -1.54,
              "two"
            ],
            [
              1.49,
              1.9,
              1.18,
              -0.18,
              "three"
            ],
            [
              -1.07,
              1.05,
              -0.4,
              1.22,
              "four"
            ],
            [
              0.21,
              0.98,
              0.36,
              0.71,
              "three"
            ]
          ]
        },
        "rhs": {
          "type": "DataFrame",
          "columns": {
            "names": [
              null
            ],
            "labels": [
              "A",
              "B",
              "C",
              "D",
              "E"
            ]
          },
          "index": {
            "names": [
              null
            ],
            "labels": [
              "2013-01-03 00:00:00",
              "2013-01-05 00:00:00"
            ]
          },
          "data": [
            [
              -1.17,
              0.9,
              0.47,
              -1.54,
              "two"
            ],
            [
              -1.07,
              1.05,
              -0.4,
              1.22,
              "four"
            ]
          ]
        }
      }
    }
  ]
}