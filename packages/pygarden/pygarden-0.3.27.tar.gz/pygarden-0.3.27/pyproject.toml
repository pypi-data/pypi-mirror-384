[project]
name = "pygarden"
version = "0.3.27"
readme = "README.md"
description = "Package to perform everyday tasks - logging, accessing database, etc."
authors = [
    {name = "Grant, Josh", email = "grantjn@ornl.gov" },
    {name = "Jonathan Huihui", email = "huihuijk@ornl.gov"},
    {name = "Bhaskar Bishnoi", email = "bishnoib@ornl.gov"},
    {name = "Kyle Medlen", email = "medlenwk@ornl.gov"},
    {name = "Midgie MacFarland", email = "macfarlandmj@ornl.gov"},
    {name = "Chris Tester", email = "testercb@ornl.gov"},
    {name = "Jacob Isber", email = "isberj@ornl.gov"},
    {name = "Mitchell Broughton", email = "broxsonmr@ornl.gov" },
    {name = "Alec Hamaker"},
]
requires-python = ">=3.10,<3.15"
keywords = ["mixins", "logging", "database", "mysqlmixin", "postgresmixin", "pandasmixin"]
license = {file = "LICENSE"}
classifiers = [
    "Intended Audience :: Developers",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: 3.11",
    "Programming Language :: Python :: 3.12",
    "Programming Language :: Python :: 3.13",
    "Programming Language :: Python :: 3.14",
    "Topic :: Software Development :: Build Tools",
    "Topic :: Software Development :: Libraries",
    "Topic :: Software Development :: Libraries :: Python Modules",
    "Topic :: Software Development :: Libraries :: Application Frameworks",
]
dependencies = [
    "rich>=13.7.1",
    "loguru>=0.7.2"
]

[project.optional-dependencies]
postgres = ["psycopg[binary]>=3.0.0", "asyncpg"]
mssql = ["pymssql>=2.3.7"]
influx = ["influxdb==5.3.1"]
db-pandas = [
    "pandas==2.1.4",
    "SQLAlchemy~=2.0.23"
]
auth = [
    "ldap3==2.9.1",
    "flask>=2.0.2"
]
scrapers = [
    "pandas==2.1.4",
    "urllib3~=1.26.9",
    "selenium~=4.1.3",
    "requests~=2.27.1",
    "cfscrape~=2.1.1",
    "cloudscraper~=1.2.60",
    "beautifulsoup4~=4.10.0",
    "websocket~=0.2.1",
]
cli = [
    "rich==13.7.1",
    "click==8.0.3",
]
minio = [
    "minio~=7.1.0",
]
all = [
    "psycopg[binary]>=3.0.0",
    "pymssql>=2.3.7",
    "pandas==2.1.4",
    "urllib3~=1.26.9",
    "selenium~=4.1.3",
    "requests~=2.27.1",
    "cfscrape~=2.1.1",
    "cloudscraper~=1.2.60",
    "beautifulsoup4~=4.10.0",
    "websocket~=0.2.1",
    "influxdb==5.3.1",
    "ldap3==2.9.1",
    "flask>=2.0.2",
    "rich==13.7.1",
    "click==8.0.3",
    "minio~=7.1.0",
    "pandas==2.1.4",
    "SQLAlchemy~=2.0.23",
    'asyncpg'
]
dev = [
    "ruff==0.5.4",
    "pytest==8.3.1",
    "pytest-cov==5.0.0",
    "moto==5.0.11",
    "python-hcl2==7.1.0",
    "bumpversion>=0.6.0",
    "pytest-postgresql>=6.0.0",
    "pytest-asyncio>=0.23.0",
    "testcontainers[mssql]>=4.8.0",
]
llama = [
    "llama-cpp-python==0.2.74"
]

[project.scripts]
garden = "pygarden.cli:common_cli"

[project.urls]
Source = "https://code.ornl.gov/pygarden/pygarden"

[build-system]
requires = ["hatchling"]
build-backend = "hatchling.build"

[tool.ruff]
line-length = 120
include = ["src/**/*.py", "tests/**/*.py"]
exclude = [".git", "__pycache__", "venv", "env", ".venv", ".env", "build", "dist", "docs"]

[tool.ruff.lint]
select = ["F", "E", "W", "C", "I", "D", "N"]
ignore = ["D203", "D212", "D400", "D415", "D401"]

[tool.ruff.format]
quote-style = "double"
indent-style = "space"
skip-magic-trailing-comma = false

[lint.mccabe]
max-complexity = 10

[tool.bumpversion]
commit = true
tag = true
tag_name = "v{new_version}"
files = [
    "COMMON_VERSION",
    "pyproject.toml",
    "README.md",
]

[[tool.uv.index]]
url = "https://pypi.org/simple"
explicit = true
