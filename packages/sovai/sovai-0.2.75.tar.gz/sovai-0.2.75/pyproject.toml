[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[project]
name = "sovai"
version = "0.2.75"
description = "python for asset management"
authors = [
    {name = "Derek Snow", email = "d.snow@outlook.com"}
]
license = {text = "Proprietary License"}
readme = "README.md"
requires-python = ">=3.10"
dependencies = [
  "pandas>=1.0",
  "numpy>=1.20",
  "pyarrow>=5.0",
  "requests>=2.20",
  "python-dateutil>=2.8",
  "python-dotenv>=0.10",
  "polars>=1.2",
  "boto3==1.37.1",
  "botocore==1.37.1",
  "s3transfer==0.11.3",
  "aiobotocore==2.21.1",
  "joblib>=1.0",
  "rapidfuzz>=3.9.7",
  "edgar-tool>=1.3.3",
  "yachalk>=0.1.6",
  "pyvis>=0.3.2",
  "networkx>=3.3",
  "seaborn>=0.13.2",
  "fsspec==2024.10.0",
  "s3fs==2024.10.0",
  "gcsfs==2024.10.0",
  "fastapi-cache>=0.1.0",
  "fastapi-cache2[redis]>=0.2.1",
  "tqdm (>=4.67.1,<5.0.0)",
  "skfolio (>=0.9.0,<0.10.0)",
  "brotli (>=1.1.0,<2.0.0)",
  "kaleido (>=1.1.0,<2.0.0)",
]

[tool.poetry]
include = ["sovai/**/*", "data/**/*"]
exclude = [
 "notebooks",
 "notebooks/**/*",
 "tests",
 "tests/**/*",
 "docs",
 "docs/**/*",
 ".github",
 ".github/**/*",
 ".venv",
 ".venv/**/*",
 "dist",
 "dist/**/*",
 "*.pyc",
 "**/*.pyc",
 "*.pyo",
 "**/*.pyo",
 "__pycache__",
 "**/__pycache__",
 ".ipynb_checkpoints",
 "**/.ipynb_checkpoints",
]

# Keep Poetry's dependencies section for detailed version specs
[tool.poetry.dependencies]
python = "^3.12"
pandas = ">=1.0"
numpy = ">=1.20"
pyarrow = ">=5.0"
requests = ">=2.20"
python-dateutil = ">=2.8"
python-dotenv = ">=0.10"
polars = "^1.2"
boto3 = "1.37.1"
botocore = "1.37.1"
s3transfer = "0.11.3"
aiobotocore = "2.21.1"
joblib = ">=1.0"
rapidfuzz = "^3.9.7"
edgar-tool = "^1.3.3"
scipy = {version = ">=1.0", optional = true}
matplotlib = {version = ">=3.0", optional = true}
plotly = {version = ">=5.0", optional = true}
scikit-learn = {version = ">=1.0", optional = true}
numba = {version = ">=0.50", optional = true}
dash = {version = ">=2.0", optional = true}
great-tables = {version = ">=0.9", optional = true}
ruptures = {version = ">=1.0", optional = true}
shap = {version = ">=0.40", optional = true}
skfolio = {version = ">=0.3", optional = true}
statsforecast = {version = ">=1.0", optional = true}
tensorly = {version = ">=0.6", optional = true}
openai = {version = ">=1.0", optional = true}
mfles = {version = ">=0.2", optional = true}
pexpect = {version = ">=4.9.0", optional = true}
lightgbm = {version = ">=4.5.0", optional = true}
polars-talib = {version = "0.1.3", optional = true}
dash-bootstrap-components = {version = ">=1.6.0", optional = true}
ipywidgets = {version = ">=8.1.6,<9.0.0", optional = true} # Added here as optional
yachalk = "^0.1.6"
pyvis = "^0.3.2"
networkx = "^3.3"
seaborn = "^0.13.2"
# These three packages must be kept in sync due to strict version dependencies
# gcsfs and s3fs both require exactly matching fsspec versions
fsspec = "2024.10.0"  # Base filesystem abstraction layer
s3fs = "2024.10.0"    # Depends on fsspec==2024.10.0
gcsfs = "2024.10.0"   # Depends on fsspec==2024.10.0
fastapi-cache = "^0.1.0"
fastapi-cache2 = {extras = ["redis"], version = "^0.2.1"}



[project.optional-dependencies]
full = [
 "scipy",
 "matplotlib",
 "plotly",
 "scikit-learn",
 "numba",
 "dash",
 "great-tables",
 "ruptures",
 "shap",
 "skfolio",
 "statsforecast",
 "tensorly",
 "openai",
 "mfles",
 "pexpect",
 "lightgbm",
 "ipywidgets",
 "polars-talib",
 "dash-bootstrap-components"
]

[tool.poetry.group.dev]
optional = true

[tool.poetry.group.dev.dependencies]
jinja2 = "^3.1.4"
traitlets = "^5.14.3"
jupyterlab = "^4.2.5"
pytest = "^7.0"
black = "^22.0"
jupyter = "^1.1.1"
ipykernel = "^6.29.5"
