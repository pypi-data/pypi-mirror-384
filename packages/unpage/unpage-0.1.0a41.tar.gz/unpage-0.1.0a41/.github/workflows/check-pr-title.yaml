name: check-pr-title

on:
  pull_request:
    types: [opened, edited, synchronize]

permissions:
  contents: read

jobs:
  check-pr-title:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v5
      with:
        persist-credentials: false

    - name: Install uv
      uses: astral-sh/setup-uv@b75a909f75acd358c2196fb9a5f1299a9a8868a4  # v6.7.0
      with:
        enable-cache: true
        cache-dependency-glob: "uv.lock"

    - name: Check PR title format
      run: uv run --no-project .github/bin/check-pr-title-format
      env:
        PR_TITLE: ${{ github.event.pull_request.title }}
