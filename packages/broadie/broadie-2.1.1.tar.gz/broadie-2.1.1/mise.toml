# Tool versions to pin for development
[tools]
python = "3.10"
gcloud = "latest"

[env]
# Auto-manage virtualenv in .venv
_.python.venv = { path = ".venv", create = true }

# Common environment variables
GOOGLE_GENAI_USE_VERTEXAI = 1
GOOGLE_CLOUD_PROJECT = "your-gcp-project-id"
GOOGLE_CLOUD_LOCATION = "us-central1"
DEFAULT_MODEL = "gemini-2.0-flash"

# Billing data settings
COST_PROJECT = "your-billing-project-id"
COST_DATASET = "your-billing-dataset"
COST_TABLE = "your-billing-table"

[tasks."install:dev"]
description = "Install development dependencies from pyproject.toml"
run = "pip install -e .[dev]"

[tasks."install:base"]
description = "Install base dependencies from pyproject.toml"
run = "pip install -e ."

[tasks."serve"]
description = "Serve the Broadie agent locally"
run = "broadie serve examples/simple.py:simple_agent --host 0.0.0.0 --port 2024"

[tasks."lint"]
description = "Run Ruff lint and formatting checks"
run = "ruff format --check . && ruff check ."

[tasks."lint:fix"]
description = "Auto-fix lint and formatting issues with Ruff"
run = "ruff format . && ruff check --fix ."

[tasks."test"]
description = "Run tests with pytest"
run = "pytest -v"
